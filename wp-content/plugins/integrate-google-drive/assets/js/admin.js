/*! For license information please see admin.js.LICENSE.txt */
(()=>{var e={155:e=>{var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?c=l.concat(c):d=-1,c.length&&m())}function m(){if(!s){var e=o(u);s=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||s||o(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},880:(e,t,n)=>{"use strict";var i=n(976);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},884:(e,t,n)=>{e.exports=n(880)()},976:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=React.createContext();const t=e;var i=e.Provider;function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=React,l=o.useEffect,c=o.useState;function s(e){var t=e.text,n=r(c(!0),2),i=n[0],a=n[1];return l((function(){i||ReactDOM.unmountComponentAtNode(document.getElementById("igd-pro-modal"))}),[i]),i?React.createElement("div",{className:"igd-pro-modal-wrap"},React.createElement("div",{className:"igd-pro-modal"},React.createElement("span",{className:"igd-pro-modal-close",onClick:function(){return a(!1)}},"Ã—"),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/offer.png"),alt:"Upgrade to Pro"}),React.createElement("h3",null,wp.i18n.__("Unlock PRO Features","integrate-google-drive")),React.createElement("h2",null,React.createElement("span",{className:"upto"},"UPTO"),wp.i18n.__("50% OFF","integrate-google-drive")),React.createElement("p",null,t),React.createElement("a",{href:igd.upgradeUrl,className:"igd-btn btn-success"},wp.i18n.__("Upgrade Now","integrate-google-drive")))):null}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),l=new C(r||[]);return i(o,"_invoke",{value:R(e,n,l)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var g={};function f(){}function p(){}function v(){}var h={};c(h,a,(function(){return this}));var w=Object.getPrototypeOf,y=w&&w(w(A([])));y&&y!==t&&n.call(y,a)&&(h=y);var b=v.prototype=f.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,a,o,l){var c=m(e[i],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==d(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function R(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return F()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var l=N(o,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=m(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function N(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var r=m(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:F}}function F(){return{value:void 0,done:!0}}return p.prototype=v,i(b,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new E(s(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},e}function m(e,t,n,i,r,a,o){try{var l=e[a](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={text:{"application/vnd.oasis.opendocument.text":"Text","text/plain":"Text"},file:{"text/html":"HTML","text/php":"PHP","x-httpd-php":"PHP","text/css":"CSS","text/js":"JavaScript","application/javascript":"JavaScript","application/json":"JSON","application/xml":"XML","application/x-shockwave-flash":"SWF","video/x-flv":"FLV","application/vnd.google-apps.file":"File"},image:{"application/vnd.google-apps.photo":"Photo","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPG","image/gif":"GIF","image/bmp":"BMP","image/vnd.microsoft.icon":"ICO","image/tiff":"TIFF","image/tif":"TIF","image/svg+xml":"SVG"},zip:{"application/zip":"ZIP","application/x-rar-compressed":"RAR","application/x-msdownload":"EXE","application/vnd.ms-cab-compressed":"CAB"},audio:{"audio/mpeg":"MP3","video/quicktime":"QT","application/vnd.google-apps.audio":"Audio","audio/x-m4a":"Audio"},video:{"application/vnd.google-apps.video":"Video","video/x-flv":"Video","video/mp4":"Video","video/webm":"Video","video/ogg":"Video","application/x-mpegURL":"Video","video/MP2T":"Video","video/3gpp":"Video","video/quicktime":"Video","video/x-msvideo":"Video","video/x-ms-wmv":"Video"},pdf:{"application/pdf":"PDF"},word:{"application/msword":"MS Word"},doc:{"application/vnd.google-apps.document":"Google Docs"},excel:{"application/vnd.ms-excel":"Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel"},presentation:{"application/vnd.google-apps.presentation":"Slide","application/vnd.oasis.opendocument.presentation":"Presentation"},powerpoint:{"application/vnd.ms-powerpoint":"Powerpoint"},form:{"application/vnd.google-apps.form":"Form"},folder:{"application/vnd.google-apps.folder":"Folder"},drawing:{"application/vnd.google-apps.drawing":"Drawing"},script:{"application/vnd.google-apps.script":"Script"},sites:{"application/vnd.google-apps.sites":"Sites"},spreadsheet:{"application/vnd.google-apps.spreadsheet":"Spreadsheet","application/vnd.oasis.opendocument.spreadsheet":"Spreadsheet"}},i="File",r="file";return Object.keys(n).map((function(a){t&&n[a][e]?r=a:n[a][e]&&(i=n[a][e])})),t?r:i}function y(e){if(e<1)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function b(e){var t;return!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function _(e){var t=w(e,!0);return t=t||"file","".concat(igd.pluginUrl,"/assets/images/icons/").concat(t,".png")}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount,n=t.root_id,i=t.id,r=[{accountId:i,id:n,name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:i,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:i,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:i,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:i,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?r.find((function(t){return t.id==e})):r}function R(e){var t,n,i,r=null==e||null===(t=e.getSource)||void 0===t||null===(n=t.call(e))||void 0===n||null===(i=n.relativePath)||void 0===i?void 0:i.replace(/^\//,"");return null!=r?r:""}function N(e){return O(e)||S(e)}function S(e){var t,n;return!(null==e||null===(t=e.type)||void 0===t||!t.includes("video/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("video/"))}function O(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("audio/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("audio/"))}function C(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("image/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("image/"))}function A(e,t){return E(e,t)}function F(){return{browser:{title:wp.i18n.__("File Browser","integrate-google-drive"),description:wp.i18n.__("Let your users browse the selected specific Google Drive files and folders.","integrate-google-drive"),isPro:!0},uploader:{title:wp.i18n.__("File Uploader","integrate-google-drive"),description:wp.i18n.__("Let your users upload files to the specific selected Google Drive folder.","integrate-google-drive"),isPro:!0},media:{title:wp.i18n.__("Media Player","integrate-google-drive"),description:wp.i18n.__("Play audio and video files in a media player.","integrate-google-drive"),isPro:!0},search:{title:wp.i18n.__("Search Box","integrate-google-drive"),description:wp.i18n.__("Let your users search for contents and files via a search box.","integrate-google-drive"),isPro:!0},slider:{title:wp.i18n.__("Slider Carousel","integrate-google-drive"),description:wp.i18n.__("Display images, videos and documents in a slider carousel.","integrate-google-drive"),isPro:!0},gallery:{title:wp.i18n.__("Gallery","integrate-google-drive"),description:wp.i18n.__("Display images and videos in a masonry grid layout with lightbox preview.","integrate-google-drive")},embed:{title:wp.i18n.__("Embed Documents","integrate-google-drive"),description:wp.i18n.__("Embed Google Drive documents.","integrate-google-drive")},download:{title:wp.i18n.__("Download Links","integrate-google-drive"),description:wp.i18n.__("Insert Google Drive files download links.","integrate-google-drive")},view:{title:wp.i18n.__("View Links","integrate-google-drive"),description:wp.i18n.__("Insert Google Drive files view links.","integrate-google-drive")}}}function k(e){var t=e.target.parentNode.querySelector("code");window.getSelection().selectAllChildren(t);var n=t.innerHTML;if(window.isSecureContext)navigator.clipboard.writeText(n);else{var i=document.createElement("textarea");i.value=n,document.body.appendChild(i),i.select(),document.execCommand("Copy"),i.remove()}Swal.fire({title:wp.i18n.__("Copied","integrate-google-drive"),text:wp.i18n.__("Shortcode copied to clipboard","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}function x(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=e.id,r=e.iconLink,a=e.thumbnailLink,o=e.accountId;e.shortcutDetails&&(i=e.shortcutDetails.targetId);var l=null==r?void 0:r.replace("/16/","/".concat(n,"/"));return a&&(l=function(e){var t,n,i,r,a,o;return"reader"===(null===(t=e.permissions)||void 0===t||null===(n=t.users)||void 0===n||null===(i=n.anyoneWithLink)||void 0===i?void 0:i.role)||"writer"===(null===(r=e.permissions)||void 0===r||null===(a=r.users)||void 0===a||null===(o=a.anyoneWithLink)||void 0===o?void 0:o.role)}(e)?"icon"===t?"https://drive.google.com/thumbnail?id=".concat(i,"&sz=w").concat(n,"-h").concat(n):"https://drive.google.com/thumbnail?id=".concat(i,"gallery"===t?"&sz=w600-h400":"large"===t?"&sz=w1024-h768":"full"===t?"&sz=w2048":"&sz=w300-h300"):a.includes("google.com")?"".concat(igd.ajaxUrl,"?action=igd_get_preview_thumbnail&id=").concat(i,"&size=").concat(t,"&accountId=").concat(o):"icon"===t?a.replace("=s220","=w64-h64"):"gallery"===t?a.replace("=s220","=h600-nu"):"large"===t?a.replace("=s220","=w1024-h768-p-k-nu"):"full"===t?a.replace("=s220",""):a.replace("=s220","=w200-h190-p-k-nu")),l}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive"),t=document.getElementById("igd-pro-modal");t||((t=document.createElement("div")).id="igd-pro-modal",document.body.appendChild(t)),ReactDOM.render(React.createElement(s,{text:e}),t)}function I(){var e=v(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}function D(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!i||i.preview){n=n.filter((function(e){return!b(e)}));var o=!i||!1!==i.inlinePreview,l=n.find((function(e){return e.id===t}));if(!o&&l&&l.webViewLink)window.open(l.webViewLink,"_blank");else{var c=!i||!!i.download,s=!i||i.allowPreviewPopout,d=!!i&&i.comment,u=n.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=e.accountId,l=e.exportAs,s=e.exportLinks,u=e.webContentLink,m=e.description,g=N(e),f=C(e),p="";if(l&&c&&(s||u)){p="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(e.id,"&accountId=").concat(e.accountId);var v=Object.keys(l);if(v.length){var h=l[v[0]].mimetype;p+="&mimetype=".concat(h)}}var w={thumb:P(e,"thumbnail"),downloadUrl:p,subHtml:a?"<h4>".concat(n,"</h4>").concat(m?"<p>".concat(m,"</p>"):""):'<div class="item-name">\n                      <img src='.concat(null==r?void 0:r.replace("/16/","/32/"),"/>\n                      <span>").concat(n,"</span>\n                  </div>")};if(d){var y="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),b="".concat(y,"?id=").concat(t);"disqus"===i.commentMethod?(w.disqusIdentifier=t,w.disqusUrl=b):w.fbHtml='<div class="fb-comments" data-href="'.concat(b,'" data-width="400" data-numposts="5"></div>')}if(g){w.poster=P(e,"large",128);var _=S(e)?"video/mp4":"audio/mp3";w.video='{"source": [{"src":"'.concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(t,"&accountId=").concat(o,'", "type":"').concat(_,'"}], "attributes": {"preload": "auto","playsinline": true, "autoplay": true, "controls": true, "referrerpolicy": "no-referrer"}}')}else f?w.src=P(e,"full"):(w.iframe=!0,w.iframeTitle=n,w.src="".concat(igd.ajaxUrl,"?action=igd_preview&file_id=").concat(t,"&account_id=").concat(o,"&popout=").concat(!i||!!i.allowPreviewPopout));return w})),m=function(){document.body.style.overflow="hidden"},g=function t(){document.body.style.overflow="",e.target.removeEventListener("lgBeforeOpen",m),e.target.removeEventListener("lgAfterClose",t),e.target.removeEventListener("lgSlideItemLoad",w)};window.dynamicGallery&&(e.target.removeEventListener("lgBeforeOpen",m),e.target.removeEventListener("lgAfterClose",g),e.target.removeEventListener("lgSlideItemLoad",w),window.dynamicGallery.destroy(!0));var f=window.innerWidth<768,p=[lgThumbnail,lgZoom,lgVideo];d&&p.push(lgComment),f||p.push(lgFullscreen);var v={dynamic:!0,dynamicEl:u,plugins:p,addClass:"igd-lightbox ".concat(c?"":"no-download"," ").concat(a?"gallery-lightbox":""," "),counter:a,autoplayVideoOnSlide:!0,preload:3,mobileSettings:{showCloseIcon:!0,thumbWidth:60,thumbHeight:60,download:!0,controls:!0}};a?v.allowMediaOverlap=!0:v.appendSubHtmlTo=".lg-outer",d&&(v.commentBox=!0,"disqus"===i.commentMethod?v.disqusComments=!0:v.fbComments=!0),window.dynamicGallery=lightGallery(e.target,v),e.target.addEventListener("lgBeforeOpen",m),e.target.addEventListener("lgAfterClose",g),e.target.addEventListener("lgSlideItemLoad",w),r&&r.downloadNotification&&document.addEventListener("click",(function(e){e.target.classList.contains("lg-download")&&wp.ajax.post("igd_notification",{files:[l],notifications:r,type:"download"})}),!1);var h=n.findIndex((function(e){return e.id===t}));dynamicGallery.openGallery(h)}}function w(){var e=document.querySelector(".lg-current");if(e){var t=e.querySelector(".igd-hidepopout");s||t||e.insertAdjacentHTML("beforeend",'<div class="igd-hidepopout">&nbsp;</div>')}}}var T=function(){var e=window.IgdShortcode;Array.from(document.querySelectorAll(".igd")).forEach((function(t){var n=t.dataset.shortcodeData;if(n)try{var i=JSON.parse(B(n));ReactDOM.render(React.createElement(e,{data:i}),t)}catch(e){}}))};function L(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function B(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount;return t.root_id!==e&&A(e,t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"550",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"600",n=window.screenLeft||window.screenX,i=window.screenTop||window.screenY,r=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,a=i+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,o=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(r,",top=").concat(a));o.focus&&o.focus()}function z(e,t){var n=H(e,t);return"igd_last_folder_".concat(n)}function H(e,t){var n="",i=window.location.pathname.replace(/\//g,"_");if(e||"undefined"==typeof pagenow||(i=pagenow.replace(/\//g,"_")),t)n+=t.id;else if(e){n=e.filter((function(e){return b(e)})).map((function(e){return e.id.slice(0,3)})).join("_")}return"".concat(n,"_").concat(i)}function K(e,t,n){if(e){var i=z(t,n);sessionStorage.setItem(i,JSON.stringify(f(f({},e),{},{pageNumber:0})))}}function V(e,t){var n=z(e,t);sessionStorage.removeItem(n)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},i=(e=new Date(e)).getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],a=e.getDate();if(t){var o=function(e){var t=e.getHours();return 0===t?12:t>12?t-12:t}(e),l=("0"+e.getMinutes()).slice(-2),c=("0"+e.getSeconds()).slice(-2);return"".concat(r," ").concat(a).concat(n(a),", ").concat(i," - ").concat(o,":").concat(l,":").concat(c," ").concat(function(e){return e.getHours()<12?"AM":"PM"}(e))}return"".concat(r," ").concat(a).concat(n(a),", ").concat(i)}function q(){var e=new URL(window.location.href);e.searchParams.delete("id"),window.history.pushState({},"",e)}function Q(){return new URLSearchParams(window.location.search).get("id")}function G(){var e;return e=u().mark((function e(){var t,n,i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("igd_last_review_popup"),n=Number(localStorage.getItem("igd_remind_in_days"))||2,i=(new Date).getTime(),r=24*n*60*60*1e3,!(t&&i-t<=r)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Swal.fire({title:"Are You Enjoying This Plugin?",text:"Your feedback helps us create a better experience for you.",icon:"question",showDenyButton:!0,confirmButtonText:"Yes, I'm enjoying it",denyButtonText:"Not really",reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?Swal.fire({title:"We're glad to hear that!",text:"Would you mind taking a few minutes to rate us and write a review?",icon:"success",showDenyButton:!0,confirmButtonText:"Sure, I'd be happy to",denyButtonText:"Maybe later",reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(window.open("https://wordpress.org/support/plugin/integrate-google-drive/reviews/?filter=5#new-post","_blank"),wp.ajax.post("igd_hide_review_notice")):e.isDenied&&Swal.fire({title:"Would you like us to remind you about this later?",icon:"info",showCancelButton:!0,confirmButtonText:"Remind me in 3 days",denyButtonText:"Remind me in 10 days",showDenyButton:!0,cancelButtonText:"Don't remind me about this",allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal igd-review-remind-swal"}}).then((function(e){e.isConfirmed?localStorage.setItem("igd_remind_in_days",3):e.isDenied?localStorage.setItem("igd_remind_in_days",10):e.isDismissed&&wp.ajax.post("igd_hide_review_notice")}))})):e.isDenied&&Swal.fire({title:"Sorry to hear that!",text:"Could you please provide us with some feedback to help us improve?",input:"textarea",inputPlaceholder:"Enter your feedback here...",showCancelButton:!1,confirmButtonText:"Submit",showLoaderOnConfirm:!0,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(Swal.fire({title:"Thank you for your feedback!",text:"We'll use your feedback to improve our plugin.",icon:"info",customClass:{container:"igd-swal igd-review-swal"}}),wp.ajax.post("igd_review_feedback",{feedback:e.value})):e.isDismissed&&wp.ajax.post("igd_hide_review_notice")}))}));case 8:e.sent,localStorage.setItem("igd_last_review_popup",(new Date).getTime());case 10:case"end":return e.stop()}}),e)})),G=function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){m(a,i,r,o,l,"next",e)}function l(e){m(a,i,r,o,l,"throw",e)}o(void 0)}))},G.apply(this,arguments)}function J(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Z=React,$=Z.useState,ee=Z.useRef,te=Z.useEffect,ne=Z.useContext;function ie(){var e=ne(t),n=e.isSearch,i=e.searchFiles,r=e.setFiles,a=e.listFiles,o=e.activeFolder,l=e.setIsSearchResults,c=e.initFolders,s=e.searchKeyword,d=e.setSearchKeyword,u=e.initialSearchTerm,m=ee(null),g=Y($(!1),2),f=g[0],p=g[1],v=ee(),h=Y($(n||u),2),w=h[0],y=h[1],b=function(e){if(e&&e.preventDefault(),p(!1),l(!1),!s)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void p(!0);i(s)},_=I();return te((function(){if(_&&s&&!(s.length<5))return m.current=setTimeout((function(){b()}),1500),function(){clearTimeout(m.current)}}),[s]),React.createElement("form",{ref:v,className:"header-action-item igd-search-bar ".concat(w?"active":""," ").concat(f?"error":""),onSubmit:b},(!n||n&&!!s)&&React.createElement("div",{className:"search-dismiss",onClick:function(){n||y(!w),d(""),p(!1),l(!1),o?a(o):r(c&&!n?c:[])}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search","integrate-google-drive"),value:s,onChange:function(e){d(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;w?b():(y(!0),null===(e=v.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{"data-tip":wp.i18n.__("Search","integrate-google-drive"),"data-for":"search",width:"20",height:"20",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"9.7659",cy:"9.76639",r:"8.98856",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M16.0176 16.4849L19.5416 19.9997",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),React.createElement(ReactTooltip,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}var re=React.useContext,ae=igd.settings.rememberLastFolder,oe=void 0===ae||ae;function le(){var e=re(t),n=e.breadcrumbs,i=e.initFolders,r=e.setFiles,a=e.activeFolder,o=e.setActiveFolder,l=e.setActiveFile,c=e.listFiles,s=e.initParentFolder,d=e.show,u=e.isShortcodeBuilder,m=e.activeAccount,g=e.setIsOptions,f=e.setActiveFiles,p=!!n&&Object.keys(n),v=p.length>2?p[0]:"",h=p.length>3?p.slice(1,-2):[],w=p.length?p.slice(-2):[],y=function(e){e.preventDefault(),e.stopPropagation(),g(!1),f([]),l(a),d(e)};return React.createElement("div",{className:"igd-breadcrumb"},React.createElement("div",{className:"breadcrumb-item",onClick:function(e){i?s?(o(s),c(s)):(o(null),r(i),oe&&V(i,s)):(o(null),r([]),oe&&V(i,s))}},React.createElement("i",{className:"dashicons dashicons-admin-home"}),React.createElement("span",{className:""},wp.i18n.__("Home","integrate-google-drive"))),!!a&&React.createElement(React.Fragment,null,!!v&&React.createElement("div",{className:"breadcrumb-item ".concat(u||a.id!==v?"":"active"),onClick:function(e){a.id===v?y(e):c({id:v,name:n[v],accountId:a.accountId})}},React.createElement("span",null,J(n[v]))),!!h.length&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tip":!0,"data-for":"collapsed_breadcrumbs",className:"breadcrumb-item"},React.createElement("i",{className:"dashicons dashicons-ellipsis"}),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(ReactTooltip,{id:"collapsed_breadcrumbs",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,className:"collapsed-breadcrumbs igd-tooltip",getContent:function(){return h.map((function(e){return React.createElement("div",{key:e,className:"collapsed-breadcrumbs-item",onClick:function(t){c({id:e,name:n[e],accountId:a.accountId})}},React.createElement("span",null,n[e]))}))}})),w.map((function(e){return React.createElement("div",{key:e,className:"breadcrumb-item ".concat(U(a.id,m)||u||a.id!==e?"":"active"),onClick:function(t){U(a.id,m)||(a.id===e?y(t):c({id:e,name:n[e],accountId:a.accountId}))}},React.createElement("span",null,J(n[e])))}))))}function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ce(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=React.useContext,ge=window.ReactTooltip;function fe(){var e=me(t),n=e.shortcodeId,i=e.activeAccount,r=e.setActiveAccount,a=e.files,o=e.allFolders,l=e.getFiles,c=e.isShortcodeBuilder,s=e.initFolders,d=e.activeFolder,u=e.isSearch,m=e.setShowSidebar,g=e.activeFiles,f=e.sort,p=e.setSort,v=e.setActiveFile,h=e.permissions,w=e.showBreadcrumbs,y=e.isOptions,b=e.setIsOptions,_=e.showRefresh,E=e.showSorting,R=e.shortcodeBuilderType,N=e.isMobile,S=e.show,O=e.hideAll,C="gallery"===R,A=igd.isPro,F={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created","integrate-google-drive"),updated:wp.i18n.__("Modified","integrate-google-drive")},k={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")};return React.createElement("div",{className:"igd-file-browser-header"},(!u||c)&&w&&React.createElement(le,null),React.createElement("div",{className:"header-action"},N&&!c&&igd.isAdmin&&React.createElement("i",{className:"dashicons dashicons-menu-alt3 header-action-item sidebar-toggle",onClick:function(){return m((function(e){return!e}))}}),!!C&&!!h&&!!h.photoProof&&React.createElement("button",{className:"igd-btn btn-primary ".concat(g.length?"":"disabled"),onClick:function(){Swal.fire({title:wp.i18n.sprintf(wp.i18n.__("Approve Selection (%s selected)","integrate-google-drive"),g.length),text:wp.i18n.__("Are you sure you want to approve the selected files?","integrate-google-drive"),input:"textarea",inputValue:"",inputAttributes:{autocapitalize:"off",placeholder:wp.i18n.__("Enter a message to send to the author","integrate-google-drive")},showCancelButton:!1,confirmButtonText:wp.i18n.__("Approve","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return wp.ajax.post("igd_photo_proof",{shortcode_id:n,message:e,selected:g,email:h.photoProofEmail}).done((function(){Swal.fire({title:"Sent!",text:"Your selected images have been sent to the author.",icon:"success",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:"Error!",text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})}))}})},disabled:!g.length},React.createElement("i",{className:"dashicons dashicons-camera"}),React.createElement("span",null,wp.i18n.__("Send Selection","integrate-google-drive"))),(s||d)&&(!h||h.allowSearch||u)&&React.createElement(ie,null),_&&(!u||c)&&d&&React.createElement("div",{"data-tip":wp.i18n.__("Refresh","integrate-google-drive"),"data-for":"sync",className:"header-action-item action-update",onClick:function(){d&&l(d,"refresh")}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/update.svg"),alt:"Sync Files"}),React.createElement(ge,{id:"sync",effect:"solid",place:"bottom",className:"igd-tooltip"})),E&&(!u||c)&&d&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tip":wp.i18n.__("Sort","integrate-google-drive"),"data-for":"sort",className:"header-action-item action-sort"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/sort.svg"),alt:"Sort"}),React.createElement(ge,{id:"sort",effect:"solid",place:"bottom",className:"igd-tooltip"})),React.createElement(ge,{id:"sort",type:"light",event:"click",globalEventOff:"click",className:"igd-sort-modal igd-tooltip",place:"bottom",border:!0,backgroundColor:"#fff",clickable:!0,borderColor:"#ddd",effect:"solid"},React.createElement("div",{className:"igd-sort-modal-inner"},React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(F).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(f.sortBy===e?"active":""),onClick:function(){return p(de(de({},f),{},{sortBy:e}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,F[e]))}))),React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(k).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(f.sortDirection===e?"active":""),onClick:function(){return p((function(t){return de(de({},t),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,k[e]))})))))),null!==y&&(c||(!C||C&&!!h&&!!h.download&&!!h.zipDownload)&&(!u||u&&!!a.length))&&React.createElement("div",{"data-tip":wp.i18n.__("Options","integrate-google-drive"),"data-for":"options",onClick:function(e){e.preventDefault(),v(null),b(!y),y?O():S(e)},className:"header-action-item action-options"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/options.svg"),alt:"Options"}),React.createElement(ge,{id:"options",effect:"solid",place:"bottom",className:"igd-tooltip"})),(!s||o)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"header-action-item action-accounts user-box","data-tip":!0,"data-for":"switch-account"},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:i.photo,onError:function(e){return x(e.currentTarget,i.email)}}),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/arrow-down.svg"),className:"user-arrow"})),React.createElement(ge,{id:"switch-account",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,border:!0,borderColor:"#ddd",resizeHide:!1,className:"user-box-modal-wrap igd-tooltip",overridePosition:function(e,t,n,i){var r=e.left,a=e.top,o=document.documentElement;return{left:r=Math.min(o.clientWidth-i.clientWidth,r),top:a=Math.min(o.clientHeight-i.clientHeight,a)}}},React.createElement("div",{className:"user-box-modal"},React.createElement("span",{className:"user-box-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(igd.accounts).map((function(e){var t=igd.accounts[e],n=t.id,a=t.name,o=t.photo,l=t.email,c=i.id===n;return React.createElement("div",{key:e,className:"user-box-account ".concat(c?"active":""),onClick:function(){return r(igd.accounts[e])}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return x(e.currentTarget,l)},src:o}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},a),React.createElement("span",{className:"account-email"},l)),c&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),!c&&!s&&React.createElement(React.Fragment,null,React.createElement("button",{"data-tip":"Multiple Accounts - PRO","data-for":"addAccountPromo",className:"igd-btn btn-primary",onClick:function(){A||!igd.accounts?igd.authUrl?M():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings":j(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))),!A&&!!igd.accounts&&React.createElement(ge,{id:"addAccountPromo",effect:"solid",place:"right",className:"igd-tooltip",backgroundColor:"#FDB837"})))))))}function pe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function he(e){var t=e.file,n=e.isSelected,i=e.selectedFolders,r=void 0===i?[]:i,a=e.setSelectedFolders;return React.createElement("button",{className:"select-btn ".concat(n?"active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),a(n?pe(r.filter((function(e){return e.id!=t.id}))):[].concat(pe(r),[t]))}},React.createElement("i",{className:"dashicons ".concat(n?"dashicons-no":"dashicons-plus")}),React.createElement("span",null,n?wp.i18n.__("Remove","integrate-google-drive"):wp.i18n.__("Select","integrate-google-drive")))}var we=React.useContext;function ye(){var e=we(t),n=e.activeAccount,i=e.initFolders,r=e.activeFolder,a=e.setActiveFolder,o=e.selectedFolders,l=e.shortcodeBuilderType,c=e.listFiles,s=e.setSelectedFolders,d=e.isList,u=e.selectionType,m="uploader"===l,g="embed"===l,f="view"===l,p="download"===l,v="slider"===l,h=n.root_id,w=E(!1,n);i&&(w=w.filter((function(e){return i.includes(e.id)})));var y=l&&!f&&!p&&!g&&!v;return m?y=!o.length||o[0].id===h:"parent"===u&&(y=!0),w.map((function(e){var t=e.id,n=e.name,i=e.iconLink,l=o&&!!o.find((function(e){return e.id===t}));return React.createElement("div",{key:t,className:"".concat(t===(null==r?void 0:r.id)?"active":""," file-item root-item folder-item"),onClick:function(t){t.stopPropagation(),a(e),c(e)}},React.createElement("img",{src:i,alt:n}),React.createElement("span",null,n),y&&h===t&&React.createElement(he,{file:e,isSelected:l,selectedFolders:o,setSelectedFolders:s,isList:d}))}))}var be=window.React,_e=be.useRef,Ee=be.useContext;function Re(){var e=Ee(t),n=e.activeAccount,i=e.activeFolder,r=e.isUpload,a=e.setIsUpload,o=e.isMobile,l=e.setShowSidebar,c=n.storage,s=void 0===c?{}:c,d=Math.round(100*s.usage/s.limit),u=!(!i||A(i.id,n)&&n.root_id!==i.id),m=_e(null);return React.createElement("div",{ref:m,className:"igd-sidebar-wrap"},React.createElement("div",{className:"igd-sidebar"},React.createElement("div",{className:"sidebar-uploader"},React.createElement("button",{id:"igd_upload_files",disabled:!u,className:"".concat(r?"active":u?"":"disabled"," igd-btn"),onClick:function(){a((function(e){return!e})),o&&l(!1)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("span",null,wp.i18n.__("Upload Files","integrate-google-drive")))),React.createElement("div",{className:"sidebar-folders"},React.createElement(ye,null)),React.createElement("div",{className:"storage-info-wrap"},React.createElement("i",{className:"dashicons dashicons-database"}),React.createElement("div",{className:"storage-info"},React.createElement("div",{className:"storage-info-sidebar"},React.createElement("div",{style:{width:"".concat(d,"%")},className:"storage-info-fill ".concat(d>90?"fill-danger":"")})),React.createElement("span",null,y(s.usage)," of ",y(s.limit)," used")))))}function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ne(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pe=React,je=Pe.useState,Ie=Pe.useEffect,De=Pe.useRef,Te=Pe.useContext;Pe.useCallback;function Le(){var e=Te(t),n=e.account,i=void 0===n?igd.activeAccount:n,r=e.notifications,a=e.folders,o=e.filters,l=e.maxFiles,c=e.maxFileSize,s=e.minFileSize,d=e.activeFolder,u=e.isUpload,m=e.setIsUpload,g=e.isFormUploader,f=e.isRequired,p=e.showUploadLabel,v=e.uploadLabelText,h=e.uploadFileName,w=e.isWooCommerceUploader,y=e.wcItemId,E=e.wcOrderId,N=e.wcProductId,S=e.initUploadedFiles,O=void 0===S?[]:S,C=e.files,A=e.setFiles,F=e.setAllFiles,k=e.enableFolderUpload,x=void 0===k?!!d:k,P=e.uploadImmediately,j=void 0===P?!!d||w:P,I=e.overwrite,D=e.showUploadConfirmation,T=e.uploadConfirmationMessage,L=o||{},B=L.allowExtensions,U=L.allowAllExtensions,M=L.allowExceptExtensions,z=Fe(je(O),2),H=z[0],K=z[1],V=Fe(je(O),2),W=V[0],q=V[1],Q=Fe(je([]),2),G=Q[0],J=Q[1],Y=Fe(je([]),2),X=Y[0],Z=Y[1],$=Fe(je(0),2),ee=$[0],te=$[1],ne=Fe(je(!1),2),ie=ne[0],re=ne[1],ae=Fe(je([]),2),oe=ae[0],le=ae[1],ce=De(null),se=De(null),de=De(null),ue=De(null),me=De(null),ge=d;if(!ge){var fe=a?a.filter((function(e){return b(e)})):[];ge=fe&&fe.length?fe[0]:{id:"root",accountId:i.id}}var pe=function(e){if(e){var t=ce.current.files,n=t.findIndex((function(t){return t.id===e.id}))+1;n<t.length&&ve(t[n])}},ve=function(e){ce.current.stop(),te(0),J((function(t){return[].concat(Ae(t),[e])}));var t=R(e);wp.ajax.post("igd_get_upload_url",{data:{name:e.name,queueIndex:e.status,uploadFileName:h,size:e.size,type:e.type,folderId:ge.id,accountId:ge.accountId,path:t&&t.substring(0,t.lastIndexOf("/")+1),fileId:e.id,overwrite:I,isWooCommerceUploader:w,wcProductId:N,wcOrderId:E,wcItemId:y}}).done((function(e){ce.current.setOption("url",e),ce.current.start()})).fail((function(t){pe(e),Z(X.filter((function(t){return t.id!==e.id}))),J(X.filter((function(t){return t.id!==e.id}))),te(0),K((function(n){return n.map((function(n){return n.id===e.id&&(n.error=t.error),n}))}))}))},he=function(){var e={browse_button:se.current,drop_element:ue.current,multipart:!1,multi_selection:!l||l>1,filters:{max_files:l,file_ext:U?M:B,max_file_size:c?"".concat(parseInt(c),"mb"):0,min_file_size:s},init:{FilesAdded:function(e,t){re(!1),K((function(e){return[].concat(Ae(e),Ae(t))})),Z((function(e){return[].concat(Ae(e),Ae(t))})),j&&ve(t[0])},FilesRemoved:function(e,t){Z((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))})),K((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))}))},FileUploaded:function(e,t,n){!function(e,t){pe(e);var n=JSON.parse(t.response);if(n){var i={file:n=Oe(Oe({},n),{},{type:n.mimeType,accountId:ge.accountId,pluploadId:e.id})};w&&(i.wcOrderId=E,i.wcItemId=y,i.wcProductId=N),q((function(e){return[].concat(Ae(e),[n])})),Z((function(t){return t.filter((function(t){return t.id!==e.id}))})),wp.ajax.post("igd_file_uploaded",i)}}(t,n)},UploadProgress:function(e,t){te(t.percent)},UploadComplete:function(){J([]),Z([]),setTimeout((function(){re(!0)}),!g&&D?1e3:0)},Error:function(e,t){return function(e,t){var n;switch(e){case-600:n=wp.i18n.__("File size exceeds the maximum upload size.","integrate-google-drive")+"(".concat(c?"".concat(parseInt(c),"mb"):0,")");break;case"SIZE_MIN_ERROR":n=wp.i18n.__("File size is less than the minimum upload size.","integrate-google-drive")+"(".concat(s,"mb)");break;case"EXT_ERROR":n=wp.i18n.__("This file type is not allowed","integrate-google-drive");break;case"FILES_MAX_ERROR":n=wp.i18n.__("You can not upload more than","integrate-google-drive")+" ".concat(l," ").concat(wp.i18n.__("files","integrate-google-drive"));break;default:n=t.error}t.error=n,K((function(e){var n=e.findIndex((function(e){return e.id===t.id}));if(n>-1){var i=Ae(e);return i[n]=t,i}return[].concat(Ae(e),[t])}))}(t.code,t.file)}}};return!U&&B&&(e.filters.mime_types=[{title:"Allowed files",extensions:B}]),e},we=function(e,t,n){if(!e)return n(!0);var i=t.name.split(".").pop();(U?!e.split(",").map((function(e){return e.trim()})).includes(i):e.split(",").map((function(e){return e.trim()})).includes(i))?n(!0):(this.trigger("Error",{code:"EXT_ERROR",file:t}),n(!1))},ye=function(e,t,n){if(!(e=1024*e*1024))return n(!0);t.size<e?(this.trigger("Error",{code:"SIZE_MIN_ERROR",file:t}),n(!1)):n(!0)},be=function(e,t,n){if(!e)return n(!0);var i=this.files.length;O.length&&(i=ue.current.querySelectorAll(".file-list-item.uploaded").length),i>=e?(this.trigger("Error",{code:"FILES_MAX_ERROR",file:t}),n(!1)):n(!0)},_e=function(){if(plupload.buildUrl=function(e){return e},plupload.addFileFilter("file_ext",we),plupload.addFileFilter("min_file_size",ye),plupload.addFileFilter("max_files",be),ce.current=new plupload.Uploader(he()),ce.current.init(),x){var e=new mOxie.FileInput({browse_button:de.current,directory:!0});e.init(),e.onchange=function(){ce.current.addFile(e.files)}}};Ie((function(){return _e(),function(){ce.current&&ce.current.destroy()}}),[]);Ie((function(){if(ie&&W.length){if(r&&r.uploadNotification&&wp.ajax.post("igd_notification",{files:W,notifications:r,type:"upload"}),A){var e=[].concat(Ae(W),Ae(C));A(e),F((function(t){return Oe(Oe({},t),{},Ce({},ge.id,e))}))}g&&function(){if(jQuery){var e=jQuery,t=e(ue.current).closest("form");if(t.length){var n=e(ue.current).parent().next(".upload-file-list"),i=function(e){return e.map((function(e){return{id:e.id,accountId:e.accountId,name:e.name,iconLink:e.iconLink,thumbnailLink:e.thumbnailLink,size:e.size,parents:e.parents}}))}(W);if(["metform","elementor","ninjaforms","cf7"].includes(g)){var r=i.map((function(e){var t="https://drive.google.com/file/d/".concat(e.id,"/view");return"".concat(e.name," â€” ( ").concat(t," )")})).join(", \n\n");n.val(r).change()}else n.val(JSON.stringify(i)).change();if(t.trigger("change"),!j){var a=t.find(":submit");a.length?(a.is("input")?a.val(me.current):a.text(me.current),a.trigger("click")):t.submit()}}}}()}}),[ie]),Ie((function(){if(X.length&&!G.length&&g&&!j&&ue.current){var e=jQuery(ue.current).closest("form");if(e.length){var t=jQuery(e).find(":submit");if(t.length){var n=t.parent();t.addClass("igd-disabled");var i=function(e){e.preventDefault();var n=t.is("input");me.current=t.is("input")?t.val():t.text(),n?t.val(wp.i18n.__("Uploading Files...","integrate-google-drive")):t.text(wp.i18n.__("Uploading Files...","integrate-google-drive")),ve(X[0])};return n.on("click",i),function(){t&&(n.off("click",i),t.removeClass("igd-disabled"))}}}}}),[X]),Ie((function(){if(g){var e=jQuery(ue.current).closest("form"),t=function(e){K([]),Z([]),J([]),q([])};return e.on("reset",t),function(){return e.off("reset",t)}}}),[]);var Ee=!g&&!w&&!j&&D&&W.length&&ie,Re=X.length||H.filter((function(e){return!e.error})).length,Ne=X.length?j||G.length?wp.i18n.__("Item(s) Uploading...","integrate-google-drive"):wp.i18n.__("Item(s) Selected","integrate-google-drive"):wp.i18n.__("Item(s) Uploaded","integrate-google-drive");return React.createElement("div",{onDragEnter:function(){return ue.current.classList.add("drag-active")},onDragLeave:function(){return ue.current.classList.remove("drag-active")},onDrop:function(){return ue.current.classList.remove("drag-active")},ref:ue,className:"igd-file-uploader igd-module-uploader ".concat(g?" igd-form-uploader":""," ").concat(!f||X.length||H.length?"":"required-error","  ").concat(Ee?"show-confirmation":""," ")},React.createElement("div",{className:"igd-file-uploader-body"},!!Ee&&React.createElement("div",{className:"upload-confirmation"},React.createElement("div",{className:"upload-confirmation-message",dangerouslySetInnerHTML:{__html:T}}),(!l||l>W.length)&&React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return re(!1)}},wp.i18n.__("Upload More Files","integrate-google-drive"))),React.createElement("div",{className:"igd-file-uploader-inner"},p&&React.createElement("h4",{className:"igd-file-uploader-label"},v),React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("p",null,wp.i18n.__("Drag and drop files here","integrate-google-drive")),React.createElement("p",{className:"or"},wp.i18n.__("OR","integrate-google-drive")),React.createElement("div",{className:"igd-file-uploader-buttons"},React.createElement("button",{type:"button",ref:se},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M842.24 355.413333l-232.106667-256a42.666667 42.666667 0 0 0-31.573333-14.08h-298.666667A107.946667 107.946667 0 0 0 170.666667 192v640A107.946667 107.946667 0 0 0 279.893333 938.666667h464.213334A107.946667 107.946667 0 0 0 853.333333 832V384a42.666667 42.666667 0 0 0-11.093333-28.586667zM597.333333 213.333333l116.906667 128h-85.333333a33.706667 33.706667 0 0 1-31.573334-36.266666z m146.773334 640H279.893333a22.613333 22.613333 0 0 1-23.893333-21.333333v-640a22.613333 22.613333 0 0 1 23.893333-21.333333H512v134.4A119.04 119.04 0 0 0 627.626667 426.666667H768v405.333333a22.613333 22.613333 0 0 1-23.893333 21.333333z",fill:"currentColor"}),React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"})),React.createElement("span",{className:"ml-1"},wp.i18n.__("Browse Files","integrate-google-drive"))),x&&React.createElement("button",{type:"button",ref:de},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"}),React.createElement("path",{d:"M832 300.8h-298.666667L421.12 165.12a42.666667 42.666667 0 0 0-32.853333-15.786667H192A105.386667 105.386667 0 0 0 85.333333 253.013333v517.973334a105.386667 105.386667 0 0 0 106.666667 103.68h640a105.386667 105.386667 0 0 0 106.666667-103.68V404.48a105.386667 105.386667 0 0 0-106.666667-103.68z m21.333333 469.333333a19.626667 19.626667 0 0 1-21.333333 18.346667h-640a19.626667 19.626667 0 0 1-21.333333-18.346667V253.013333a19.626667 19.626667 0 0 1 21.333333-18.346666h176.213333l110.933334 135.68a42.666667 42.666667 0 0 0 32.853333 15.786666h320a19.626667 19.626667 0 0 1 21.333333 18.346667z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Folder","integrate-google-drive")))),u&&React.createElement("i",{className:"cancel-upload dashicons dashicons-no",onClick:function(){return m(!1)}}),React.createElement("div",{className:"upload-info"},!!s&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Min File Size:","integrate-google-drive")," ",s,"MB"),!!c&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Max File Size:","integrate-google-drive")," ",c,"MB")))),!!H.length&&!Ee&&React.createElement("div",{className:"file-list-wrapper"},React.createElement("div",{className:"file-list-header"},React.createElement("span",{className:"file-count"},Re),React.createElement("span",{className:"file-status-text"},Ne)),React.createElement("div",{className:"file-list"},Ae(new Set(H)).map((function(e){var t=e.id,n=e.name,i=e.size,r=e.type,a=e.error,o=G.find((function(e){return e.id===t})),l=W.find((function(e){return e.id===t||e.pluploadId===t})),c=oe.find((function(e){return e.id===t})),s=R(e);return React.createElement("div",{key:t,className:"file-list-item ".concat(o?"active":""," ").concat(l?"uploaded":""),id:t},React.createElement("img",{width:32,height:32,src:_(r)}),React.createElement("div",{className:"file-info"},React.createElement("div",{className:"upload-item"},React.createElement("span",{className:"upload-item-name"},s||n),React.createElement("span",{className:"upload-item-size"},"(",plupload.formatSize(i),")")),React.createElement("div",{className:"file-info-percentage"},!!l&&React.createElement("i",{className:"dashicons dashicons-saved"}),!l&&o&&!a&&!c&&React.createElement("div",{className:"igd-spinner"}),!l&&!!o&&!!ee&&React.createElement("span",{className:"percentage"},ee,"%"),!l&&o&&!c&&!a&&React.createElement("i",{className:"dashicons dashicons-controls-pause",onClick:function(){ce.current.stop(),le([].concat(Ae(oe),[e]))}}),!l&&c&&!a&&React.createElement("i",{className:"dashicons dashicons-controls-play",onClick:function(){ce.current.start(),le(oe.filter((function(e){return e.id!==t})))}}),React.createElement(React.Fragment,null,React.createElement("i",{"data-tip":wp.i18n.__("Remove","integrate-google-drive"),"data-for":"remove-file",className:"remove-file dashicons dashicons-no-alt",onClick:function(){if(K((function(e){return e.filter((function(e){return e.id!==t}))})),Z((function(e){return e.filter((function(e){return e.id!==t}))})),ce.current.removeFile(e),l){q((function(e){return e.filter((function(e){return e.id!==l.id}))}));var n={id:l.id,account_id:l.accountId,nonce:igd.nonce};w&&(n.isWooCommerceUploader=!0,n.wcProductId=N,n.wcOrderId=E,n.wcItemId=y),wp.ajax.post("igd_upload_remove_file",n)}else o&&(ce.current.stop(),te(0),pe(e)),ce.current.removeFile(e),ce.current.setOption("url",""),J((function(e){return e.filter((function(e){return e.id!==t}))}))}}),React.createElement(ReactTooltip,{id:"remove-file",effect:"solid",place:"top",className:"igd-tooltip"}))),a?React.createElement("span",{className:"file-info-error"},a):React.createElement("span",{className:"file-info-progress",style:{"--percentage":o?"".concat(ee||2,"%"):0}},React.createElement("span",{className:"file-info-progress-bar"}))))}))),!!X.length&&!g&&!w&&!j&&React.createElement("button",{type:"button",className:"igd-btn btn-primary start-upload",onClick:function(){return ve(X[0])}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),G.length?wp.i18n.__("Uploading Files...","integrate-google-drive"):wp.i18n.__("Start Upload","integrate-google-drive"))))}var Be=React.useContext;function Ue(){var e=Be(t),n=e.isUpload,i=e.permissions,r=e.setIsUpload,a=e.isShortcodeBuilder,o=e.shortcodeBuilderType,l=e.files,c=!a&&(!o||"browser"===o)&&(!i||i.upload),s=wp.i18n.__("There is no items here.","integrate-google-drive"),d=wp.i18n.__("The folder is empty.","integrate-google-drive");return a&&l.length&&(s=wp.i18n.__("No items available for selection.","integrate-google-drive"),d=wp.i18n.__("This folder doesn't contain any selectable items.","integrate-google-drive")),React.createElement("div",{className:"igd-root-placeholder empty-folder-placeholder"},!n&&React.createElement(React.Fragment,null,React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/empty-folder-placeholder.svg"),alt:"Empty Folder"}),React.createElement("span",{className:"igd-root-placeholder-title"},s),React.createElement("span",{className:"igd-root-placeholder-text"},d),c&&React.createElement("button",{type:"button",className:"igd-btn btn-primary uploader-btn",onClick:function(){return r(!0)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),wp.i18n.__("Upload Files","integrate-google-drive"))),c&&n&&React.createElement(Le,null))}const Me=React;var ze=n.n(Me),He=n(884),Ke=n.n(He),Ve=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),We="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,qe=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Qe="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(qe):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ge=["top","right","bottom","left","width","height","size","weight"],Je="undefined"!=typeof MutationObserver,Ye=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&l()}function o(){Qe(a)}function l(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(o,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){We&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Je?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){We&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ge.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Xe=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Ze=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||qe},$e=at(0,0,0,0);function et(e){return parseFloat(e)||0}function tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+et(e["border-"+n+"-width"])}),0)}function nt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return $e;var i=Ze(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],a=e["padding-"+r];t[r]=et(a)}return t}(i),a=r.left+r.right,o=r.top+r.bottom,l=et(i.width),c=et(i.height);if("border-box"===i.boxSizing&&(Math.round(l+a)!==t&&(l-=tt(i,"left","right")+a),Math.round(c+o)!==n&&(c-=tt(i,"top","bottom")+o)),!function(e){return e===Ze(e).document.documentElement}(e)){var s=Math.round(l+a)-t,d=Math.round(c+o)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(d)&&(c-=d)}return at(r.left,r.top,l,c)}var it="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ze(e).SVGGraphicsElement}:function(e){return e instanceof Ze(e).SVGElement&&"function"==typeof e.getBBox};function rt(e){return We?it(e)?function(e){var t=e.getBBox();return at(0,0,t.width,t.height)}(e):nt(e):$e}function at(e,t,n,i){return{x:e,y:t,width:n,height:i}}var ot=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=at(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=rt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),lt=function(e,t){var n,i,r,a,o,l,c,s=(i=(n=t).x,r=n.y,a=n.width,o=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(l.prototype),Xe(c,{x:i,y:r,width:a,height:o,top:r,right:i+a,bottom:o+r,left:i}),c);Xe(this,{target:e,contentRect:s})},ct=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ve,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ze(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ot(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ze(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new lt(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),st="undefined"!=typeof WeakMap?new WeakMap:new Ve,dt=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ye.getInstance(),i=new ct(t,n,this);st.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){dt.prototype[e]=function(){var t;return(t=st.get(this))[e].apply(t,arguments)}}));const ut=void 0!==qe.ResizeObserver?qe.ResizeObserver:dt;function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gt.apply(this,arguments)}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){mt(e,t,n[t])}))}return e}function pt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ht={cursor:"pointer"},wt=function(e){var t=e.index,n=e.onClick,i=e.photo,r=e.margin,a=e.direction,o=e.top,l=e.left,c=e.key,s={margin:r,display:"block"};"column"===a&&(s.position="absolute",s.left=l,s.top=o);return ze().createElement("img",gt({key:c,style:n?ft({},s,ht):s},i,{onClick:n?function(e){n(e,{photo:i,index:t})}:null}))},yt=Ke().shape({key:Ke().string,src:Ke().string.isRequired,width:Ke().number.isRequired,height:Ke().number.isRequired,alt:Ke().string,title:Ke().string,srcSet:Ke().oneOfType([Ke().string,Ke().array]),sizes:Ke().oneOfType([Ke().string,Ke().array])});wt.propTypes={index:Ke().number.isRequired,onClick:Ke().func,photo:yt.isRequired,margin:Ke().number,top:function(e){if("column"===e.direction&&"number"!=typeof e.top)return new Error("top is a required number when direction is set to `column`")},left:function(e){if("column"===e.direction&&"number"!=typeof e.left)return new Error("left is a required number when direction is set to `column`")},direction:Ke().string};var bt=function(e,t){return t||(t=0),Number(Math.round(e+"e"+t)+"e-"+t)},_t=function(e){var t=e.width,n=e.height;return bt(t/n,2)};function Et(e){this.content=[],this.scoreFunction=e}Et.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var i=this.content.pop();if(n==t-1)break;this.content[n]=i,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=this.scoreFunction(t);e>0;){var i=Math.floor((e+1)/2)-1,r=this.content[i];if(n>=this.scoreFunction(r))break;this.content[i]=t,this.content[e]=r,e=i}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);;){var r=2*(e+1),a=r-1,o=null;if(a<t){var l=this.content[a],c=this.scoreFunction(l);c<i&&(o=a)}if(r<t){var s=this.content[r];this.scoreFunction(s)<(null==o?i:c)&&(o=r)}if(null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}};var Rt=function(e,t,n){var i=function(e,t,n){var i={},r={},a={};a[t]=0;var o=new Et((function(e){return e.weight}));for(o.push({id:t,weight:0});o.size();){var l=o.pop(),c=l.id;if(!r[c]){var s=e(c)||{};for(var d in r[c]=1,s){var u=l.weight+s[d];(void 0===a[d]||a[d]>u)&&(a[d]=u,o.push({id:d,weight:u}),i[d]=c)}}}if(void 0===a[n])throw new Error("There is no path from ".concat(t," to ").concat(n));return i}(e,t,n);return function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse()}(i,n)},Nt=function(e,t,n){return(t-e.length*(2*n))/e.reduce((function(e,t){return e+_t(t)}),0)},St=function(e,t,n,i,r,a){var o=e.slice(t,n),l=Nt(o,i,a);return Math.pow(Math.abs(l-r),2)},Ot=function(e){var t=e.containerWidth,n=e.limitNodeSearch,i=e.targetRowHeight,r=e.margin,a=e.photos,o=function(e,t,n,i,r){return function(a){var o={};o[+(a=+a)]=0;for(var l=a+1;l<n.length+1&&!(l-a>i);++l)o[l.toString()]=St(n,a,l,t,e,r);return o}}(i,t,a,n,r),l=Rt(o,"0",a.length);l=l.map((function(e){return+e}));for(var c=1;c<l.length;++c)for(var s=a.slice(l[c-1],l[c]),d=Nt(s,t,r),u=l[c-1];u<l[c];++u)a[u].width=bt(d*_t(a[u]),1),a[u].height=d;return a},Ct=ze().memo((function(e){var t=e.photos,n=e.onClick,i=e.direction,r=e.margin,a=e.limitNodeSearch,o=e.targetRowHeight,l=e.columns,c=e.renderImage,s=vt((0,Me.useState)(0),2),d=s[0],u=s[1],m=(0,Me.useRef)(null);(0,Me.useLayoutEffect)((function(){var e=null,t=new ut((function(t){var n=t[0].contentRect.width;d!==n&&(e=window.requestAnimationFrame((function(){u(Math.floor(n))})))}));return t.observe(m.current),function(){t.disconnect(),window.cancelAnimationFrame(e)}}));var g=function(e,i){var r=i.index;n(e,{index:r,photo:t[r],previous:t[r-1]||null,next:t[r+1]||null})};if(!d)return ze().createElement("div",{ref:m},"Â ");var f,p,v=d-1;"row"===i&&("function"==typeof a&&(a=a(d)),"function"==typeof o&&(o=o(d)),void 0===a&&(a=2,d>=450&&(a=function(e){var t=e.targetRowHeight,n=e.containerWidth;return bt(n/t/1.5)+8}({containerWidth:d,targetRowHeight:o}))),f={display:"flex",flexWrap:"wrap",flexDirection:"row"},p=Ot({containerWidth:v,limitNodeSearch:a,targetRowHeight:o,margin:r,photos:t})),"column"===i&&("function"==typeof l&&(l=l(d)),void 0===l&&(l=1,d>=500&&(l=2),d>=900&&(l=3),d>=1500&&(l=4)),f={position:"relative"},p=function(e){for(var t=e.photos,n=e.columns,i=e.containerWidth,r=e.margin,a=(i-2*r*n)/n,o=t.map((function(e){var t=e.height/e.width*a;return ft({},e,{width:bt(a,1),height:bt(t,1)})})),l=[],c=[],s=0;s<n;s++)l[s]=bt(s*(a+2*r),1),c[s]=0;var d=o.map((function(e){var t=c.reduce((function(e,t,n){return t<c[e]?n:e}),0);e.top=c[t],e.left=l[t],c[t]=c[t]+e.height+2*r;var n=c.reduce((function(e,t,n){return t>c[e]?n:e}),0);return e.containerHeight=c[n],e}));return d}({containerWidth:v,columns:l,margin:r,photos:t}),f.height=p[p.length-1].containerHeight);var h=c||wt;return ze().createElement("div",{className:"react-photo-gallery--gallery"},ze().createElement("div",{ref:m,style:f},p.map((function(e,t){var a=e.left,o=e.top,l=e.containerHeight,c=pt(e,["left","top","containerHeight"]);return h({left:a,top:o,key:e.key||e.src,containerHeight:l,index:t,margin:r,direction:i,onClick:n?g:null,photo:c})}))))}));Ct.propTypes={photos:Ke().arrayOf(yt).isRequired,direction:Ke().string,onClick:Ke().func,columns:Ke().oneOfType([Ke().func,Ke().number]),targetRowHeight:Ke().oneOfType([Ke().func,Ke().number]),limitNodeSearch:Ke().oneOfType([Ke().func,Ke().number]),margin:Ke().number,renderImage:Ke().func},Ct.defaultProps={margin:2,direction:"row",targetRowHeight:300};const At=Ct;function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ft(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ft(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ft(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Lt=React,Bt=Lt.useEffect,Ut=Lt.useState,Mt=Lt.useContext,zt=igd.settings.rememberLastFolder,Ht=void 0===zt||zt,Kt=function(e){var t=e.id,n=e.activeFiles,i=e.setActiveFiles,r=e.files;return React.createElement("div",{className:"item-selection",onClick:function(e){e.stopPropagation(),n.find((function(e){return e.id===t}))?i((function(e){return e.filter((function(e){return e.id!==t}))})):i((function(e){return[].concat(It(e),[r.find((function(e){return e.id===t}))])}))}},React.createElement("svg",{fill:"#FFFFFFB2",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("radialGradient",{id:"shadow",cx:"38",cy:"95.488",r:"10.488",gradientTransform:"matrix(1 0 0 -1 -26 109)",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:".832",stopColor:"#010101"}),React.createElement("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})),React.createElement("circle",{opacity:".26",fill:"url(#shadow)",cx:"12",cy:"13.512",r:"10.488"}),React.createElement("circle",{fill:"#FFF",cx:"12",cy:"12.2",r:"8.292"}),React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))};function Vt(){var e=Mt(t),n=e.galleryLayout,i=e.galleryColumns,r=e.galleryAspectRatio,a=e.galleryHeight,o=e.galleryMargin,l=e.galleryView,c=e.galleryFolderView,s=e.galleryOverlay,d=e.galleryOverlayTitle,u=e.galleryOverlayDescription,m=e.galleryOverlaySize,g=e.activeAccount,f=e.files,p=e.listFiles,v=e.setShouldRefresh,h=e.breadcrumbs,w=e.initFolders,_=e.setFiles,E=e.activeFolder,R=e.setActiveFolder,N=e.permissions,O=e.setActiveFiles,F=e.activeFiles,k=e.selectAll,x=e.isLoading,j=e.initParentFolder,T=e.notifications,L=jt(Ut({}),2),B=L[0],U=L[1],M=!!h&&Object.keys(h),H=jt(Ut([]),2),K=H[0],V=H[1],W=jt(Ut([]),2),q=W[0],Q=W[1];Bt((function(){if(!f.length)return V([]),void Q([]);var e=f.filter((function(e){return b(e)||[g.root_id,"shared","computers","starred","shared-drives"].includes(e.id)}));V(e);var t=f.filter((function(e){return C(e)||S(e)})).map((function(e){var t=e.id,i=e.description,r=e.name,a=e.size,o=e.metaData,l=void 0===o?{}:o,c={id:t,name:r,description:i,size:a,src:P(e,"gallery")};return"grid"!==n&&(l.width&&!S(e)||(l.width=600),l.height&&!S(e)||(l.height=400),c.width=l.width,c.height=l.height),c}));Q(t)}),[f]),Bt((function(){K.length&&"title"!==c&&K.forEach((function(e){A(e.id,g)||G(e)}))}),[K,g]);var G=function(e){function t(e,t){var n=jQuery(e);setTimeout((function(){e.dataset.intervalId&&clearInterval(e.dataset.intervalId),e.dataset.intervalId=setInterval((function(){var e=n.find("img"),t=e.filter(".active").length?e.filter(".active"):e.first();if(t.length){var i=t.next().length?t.next():e.first();e.removeClass("active"),i.addClass("active")}}),3e3)}),1500*t)}wp.ajax.post("igd_get_files",{data:{folder:e}}).done((function(n){var i=n.files,r=n.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var a=i.filter((function(e){return C(e)||S(e)}));a=a.slice(0,10),U((function(t){return xt(xt({},t),{},Pt({},e.id,a))})),document.querySelectorAll(".igd-gallery-folder-images").forEach(t)}})).fail((function(e){}))};Bt((function(){var e=jQuery(".react-photo-gallery--gallery img");if(e.length){var t=function(){v(!0)};return e.on("error",t),function(){e.off("error",t)}}}),[q]);var J=I();Bt((function(){if(J)if(k){O(f);var e=q.map((function(e){return xt(xt({},e),{},{isSelected:!0})}));Q(e)}else{O([]);var t=q.map((function(e){return xt(xt({},e),{},{isSelected:!1})}));Q(t)}}),[k]);var Y=function(){var e=window.innerWidth;return e<768?i.xs:e<992?i.sm:e<1200?i.md:e<1600?i.lg:e>=1920?i.xl:i.md},X=jt(Ut(Y()),2),Z=X[0],$=X[1];return Bt((function(){var e=function(){$(Y())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"igd-module-gallery gallery-view-".concat(l," gallery-layout-").concat(n),style:{"--column-width":"calc(".concat(100/Z,"% - ").concat(2*o,"px)"),"--aspect-ratio":"".concat(r)}},React.createElement("div",{className:"file-list"},!!M.length&&!!E&&React.createElement("div",{className:"go-prev file-item folder-item",onClick:function(e){if(M.length>1){var t=M[M.length-2],n={id:t,name:h[t],accountId:g.id};p(n)}else if(R(""),_(w),Ht){var i=z(w,j);i&&sessionStorage.removeItem(i)}}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!K.length&&K.map((function(e){var t=e.id,n=e.name,i=e.iconLink,r=F.find((function(e){return e.id===t})),a=i.replace("/16/","/64/");return React.createElement("div",{key:t,className:"file-item ".concat(r?"active":""," ").concat("title"===c?"folder-item":""),style:{margin:"".concat(o,"px")},onClick:function(){return p(e)}},(N.download&&N.zipDownload||N.photoProof)&&React.createElement(Kt,{id:t,activeFiles:F,setActiveFiles:O,files:f}),"thumbnail"===c&&React.createElement("div",{className:"igd-gallery-folder-images"},B[t]&&B[t].length>0?B[t].map((function(e,t){var n=e.id,i=e.name,r=P(e,"thumbnail");return React.createElement("img",{key:n,className:"".concat(0===t?"active":""),onError:function(e){e.target.src=a},src:r,alt:i})})):React.createElement("img",{className:"active",src:a,alt:n})),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},A(t,g)?React.createElement("i",{className:"file-icon dashicons ".concat(a," footer-icon")}):React.createElement("img",{className:"file-icon",src:a,alt:n})),React.createElement("span",null,n)))}))),React.createElement(At,{photos:q,margin:parseInt(o),targetRowHeight:"justified"===n&&a,columns:Z,direction:"masonry"===n?"column":"row",renderImage:function(e){var t=e.photo,n=e.margin,i=e.direction,r=e.top,a=e.left,o=t.name,l=t.description,c=t.src,g=t.size,p=t.id,v=t.width,h=t.height,w={display:"block",margin:"".concat(n,"px"),width:"".concat(v,"px"),height:"".concat(h,"px")};"column"===i&&(w.position="absolute",w.left="".concat(a,"px"),w.top="".concat(r,"px"));var b=F.find((function(e){return e.id===p}));return React.createElement("div",{className:"igd-gallery-item ".concat(b?"active":""),style:w,onClick:function(e){return function(e,t){D(e,t,f.filter((function(e){return C(e)||S(e)})),N,T,!0)}(e,p)}},(N.download&&N.zipDownload||N.photoProof)&&React.createElement(Kt,{id:p,activeFiles:F,setActiveFiles:O,files:f}),React.createElement("img",{src:c,alt:o,referrerPolicy:"no-referrer"}),!!s&&React.createElement("div",{className:"igd-gallery-item-overlay"},!!d&&React.createElement("div",{className:"overlay-title"},o),!!u&&!!l&&React.createElement("p",{className:"overlay-description"},l),!!m&&React.createElement("span",{className:"overlay-size"},y(g))))}})),J&&!x&&!K.length&&!q.length&&React.createElement(Ue,null))}function Wt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/computers-placeholder.svg"),alt:"Computers"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Computers Syncing","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The files synced with computers will display here.","integrate-google-drive")))}function qt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-placeholder.svg"),alt:"Shared Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Shared With Me","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Files and folders others have shared with you.","integrate-google-drive")))}function Qt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/starred-placeholder.svg"),alt:"Starred Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Nothing is starred","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Adds star to files and folders that you want to find easily later.","integrate-google-drive")))}function Gt(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-drives-placeholder.svg"),alt:"Shared Drives"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Shared Drives","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The Drives others have shared with you.","integrate-google-drive")))}function Jt(e){var t=e.activeFolder.id;return React.createElement(React.Fragment,null,"computers"===t&&React.createElement(Wt,null),"shared-drives"===t&&React.createElement(Gt,null),"shared"===t&&React.createElement(qt,null),"starred"===t&&React.createElement(Qt,null))}function Yt(e){var t=e.isSearchResults;return React.createElement("div",{className:"igd-root-placeholder search-placeholder ".concat(t?"empty-placeholder":"")},t&&React.createElement("svg",{width:100,height:100,className:"igd-placeholder-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 259 223",fill:"none"},React.createElement("g",{clipPath:"url(#clip0_1110_10155)"},React.createElement("path",{d:"M127.836 80.9443C127.836 103.828 127.836 126.64 127.836 149.523C127.836 157.696 124.072 161.391 115.905 161.391C81.2469 161.391 46.5181 161.391 11.8603 161.391C3.97712 161.391 0.07102 157.553 0.07102 149.665C0.07102 116.264 0.14204 82.8631 0 49.462C0 46.4062 1.0653 46.0509 3.62202 46.1219C12.4995 46.2641 21.377 46.193 30.2545 46.193C40.4104 46.193 46.092 40.4367 46.163 30.4164C46.163 21.3199 46.234 12.1524 46.092 3.05595C46.092 0.923972 46.3761 0.000114277 48.8618 0.0711803C71.5882 0.213312 94.3146 0.142246 117.041 0.142246C123.788 0.142246 127.836 4.19301 127.836 11.0153C127.907 34.2539 127.836 57.6346 127.836 80.9443ZM65.6935 103.046C76.9147 103.046 88.2069 103.046 99.428 103.046C103.689 103.046 105.891 101.34 105.891 98.2133C105.891 95.2285 103.689 93.4519 99.6411 93.4519C77.2698 93.4519 54.8985 93.4519 32.5272 93.4519C28.479 93.4519 26.2774 95.1575 26.2064 98.1423C26.1354 101.198 28.479 103.046 32.5982 103.046C43.6773 103.046 54.6854 103.046 65.6935 103.046ZM66.1196 67.6549C55.0405 67.6549 43.8904 67.6549 32.8112 67.6549C28.6211 67.6549 26.2774 69.3605 26.2774 72.4164C26.2774 75.4722 28.55 77.3199 32.7402 77.3199C54.9695 77.3199 77.1277 77.3199 99.357 77.3199C103.618 77.3199 105.891 75.6143 105.891 72.5585C105.891 69.4316 103.618 67.726 99.428 67.726C88.2779 67.6549 77.1988 67.6549 66.1196 67.6549ZM48.6487 117.756C43.1091 117.756 37.5696 117.685 32.03 117.756C28.266 117.756 26.2064 119.533 26.2774 122.518C26.2774 125.361 28.55 127.208 32.101 127.208C43.0381 127.208 54.0462 127.208 64.9833 127.208C68.5343 127.208 70.807 125.218 70.807 122.447C70.807 119.604 68.5343 117.828 64.9123 117.756C59.5148 117.756 54.0462 117.756 48.6487 117.756Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M148.999 101.482C148.999 124.081 148.999 146.751 148.999 169.35C148.999 178.376 145.377 182 136.287 182C101.984 182 67.6104 182 33.3077 182C24.6433 182 20.4531 177.452 21.1633 168.924C21.3053 167.574 21.5894 166.934 23.0098 167.076C23.72 167.147 24.4302 167.076 25.1404 167.076C55.3239 167.076 85.5074 167.076 115.691 167.076C127.409 167.076 133.588 160.894 133.588 149.097C133.588 107.523 133.659 65.9494 133.517 24.3758C133.517 21.2489 134.298 20.4672 137.352 20.5383C145.164 20.8225 148.999 24.518 148.999 32.4774C148.999 55.5027 148.999 78.5281 148.999 101.482Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M40.4817 18.6906C40.4817 22.9545 40.5527 27.2185 40.4817 31.4825C40.4106 36.9545 37.0727 40.4368 31.6752 40.5078C22.9397 40.5789 14.1332 40.5078 5.39776 40.5078C3.19614 40.5078 1.42064 39.8682 0.568403 37.6652C-0.212817 35.6043 0.710443 34.0408 2.13084 32.5484C12.2157 22.4571 22.3005 12.3657 32.4564 2.27433C33.9478 0.781945 35.5813 -0.355111 37.7829 0.639812C39.9135 1.56367 40.4817 3.34032 40.4817 5.54337C40.4106 9.87839 40.4817 14.2845 40.4817 18.6906Z",fill:"#C1E9C9"})),React.createElement("g",{clipPath:"url(#clip1_1110_10155)"},React.createElement("path",{d:"M148.9 79.6302C120.227 79.6302 91.6528 79.6302 62.9789 79.6302C51.4894 79.6302 46.8936 84.6083 48.4922 96.058C53.3877 132.199 58.4831 168.241 63.5784 204.382C64.5775 211.252 69.1733 214.935 76.9662 214.935C99.4456 215.035 121.925 214.935 144.405 214.935C169.382 214.935 194.359 214.935 219.336 214.935C221.035 214.935 222.633 214.935 224.332 215.234C226.33 215.632 227.529 217.026 227.529 219.117C227.429 221.208 226.23 222.502 224.232 222.801C222.733 223 221.234 222.9 219.736 222.9C172.779 222.9 125.822 222.9 78.8644 222.9C64.2778 222.9 57.484 217.126 55.4858 202.789C50.1906 166.747 45.1952 130.606 40.1997 94.5646C38.801 84.3096 44.4958 75.5482 54.5866 72.4617C56.2851 71.9639 57.2841 71.6652 57.7837 69.5744C59.682 62.3064 63.6783 59.6182 71.7709 59.5186C95.2495 59.5186 118.728 59.4191 142.207 59.6182C145.603 59.6182 147.801 58.8217 149.2 55.6357C150.199 53.2462 151.698 50.9563 153.097 48.7659C156.094 43.8873 160.49 41.0996 166.285 41.0996C187.465 41 208.546 40.9005 229.727 41.0996C236.62 41.1991 241.116 46.0777 241.416 52.8479C241.516 55.1379 241.516 57.5274 241.416 59.8173C241.216 66.3884 240.417 72.163 249.409 75.1499C256.902 77.639 259.799 85.7035 258.8 93.7681C255.203 121.347 251.207 148.926 247.411 176.504C247.011 179.292 245.912 181.582 242.915 181.283C239.418 180.985 239.018 178.197 239.418 175.31C241.916 157.588 244.413 139.865 246.811 122.143C248.21 112.486 249.609 102.828 250.807 93.0711C251.607 86.4005 247.411 80.9245 240.817 79.9289C238.818 79.6302 236.82 79.6302 234.822 79.6302C206.248 79.6302 177.574 79.6302 148.9 79.6302Z",fill:"#2FB44B"}),React.createElement("path",{d:"M225.431 149.025C225.331 153.904 223.632 161.072 219.536 167.444C218.037 169.834 218.237 171.228 220.235 173.219C230.126 182.777 239.818 192.634 249.509 202.391C253.205 206.074 253.705 209.659 251.007 212.347C248.31 215.035 244.813 214.537 241.116 210.853C231.525 201.395 222.034 191.937 212.542 182.379C210.444 180.188 209.046 179.491 206.048 181.383C190.962 191.14 171.48 190.144 157.593 179.292C143.605 168.34 138.11 150.22 143.506 133.394C148.901 116.667 164.486 105.118 182.57 104.521C205.549 103.724 225.431 123.039 225.431 149.025ZM183.569 176.106C200.254 176.007 213.542 162.566 213.342 145.939C213.242 129.71 199.454 116.269 183.269 116.468C166.684 116.568 153.297 130.208 153.496 146.735C153.596 163.063 167.084 176.206 183.569 176.106Z",fill:"#2FB44B"}),React.createElement("path",{d:"M107.738 171.427C112.933 171.427 118.029 171.228 123.224 171.427C128.519 171.626 131.316 174.613 131.516 179.89C131.616 182.18 131.616 184.569 131.516 186.859C131.316 191.937 128.519 195.023 123.524 195.222C112.933 195.421 102.243 195.421 91.6526 195.222C86.6572 195.123 83.8598 191.937 83.56 186.959C83.4601 184.967 83.56 182.976 83.56 180.985C83.6599 174.215 86.3575 171.526 93.3511 171.427C98.0468 171.327 102.842 171.327 107.738 171.427Z",fill:"#2FB44B"}),React.createElement("circle",{cx:"183",cy:"146",r:"30",fill:"white"}),React.createElement("rect",{width:"26.9682",height:"2.81029",transform:"matrix(0.708463 0.705748 0.708463 -0.705748 172.83 137.269)",fill:"#2FB44B"}),React.createElement("rect",{width:"27.6664",height:"2.81029",transform:"matrix(-0.708463 0.705748 0.708463 0.705748 191.885 135.286)",fill:"#2FB44B"})),React.createElement("defs",null,React.createElement("clipPath",{id:"clip0_1110_10155"},React.createElement("rect",{width:"149",height:"182",fill:"white"})),React.createElement("clipPath",{id:"clip1_1110_10155"},React.createElement("rect",{width:"219",height:"182",fill:"white",transform:"translate(40 41)"})))),t?React.createElement("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("No results found!","integrate-google-drive")):React.createElement("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("Search for files & content","integrate-google-drive")),!t&&React.createElement(ie,null))}var Xt=React.useContext;function Zt(){var e=Xt(t),n=e.files,i=e.searchKeywordRef,r=n.length?n.length:wp.i18n.__("No","integrate-google-drive"),a=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(i.current,"</strong>"),r);return React.createElement("div",{className:"search-result-info"},React.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),React.createElement("button",{onClick:function(e){document.querySelector(".search-dismiss").click()},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function en(e){return function(e){if(Array.isArray(e))return tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==$t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$t(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var on=React,ln=on.useRef,cn=on.useContext;on.useEffect;function sn(){var e=document.querySelector(".igd-tutor-attachment-modal"),n=igd.settings,i=n.preloader,r=void 0===i?"default":i,a=n.rememberLastFolder,o=void 0===a||a,l=cn(t),c=l.isLoading,s=l.activeAccount,d=l.initFolders,u=l.initParentFolder,m=l.files,g=void 0===m?[]:m,f=l.setFiles,p=l.activeFiles,h=l.setActiveFiles,w=l.breadcrumbs,_=l.activeFolder,E=l.setActiveFolder,R=l.isShortcodeBuilder,N=l.selectedFolders,S=l.setSelectedFolders,O=l.isList,C=l.showLastModified,F=l.showFileSizeField,k=l.shortcodeBuilderType,x=l.isUpload,j=l.permissions,I=l.isSearchResults,T=l.isMobile,L=l.setIsOptions,B=l.setShouldRefresh,U=l.listFiles,M=l.show,H=l.hideAll,K=l.isSelectFiles,V=l.selectionType,q=l.setActiveFile,Q=l.isLMS,G=l.getFiles,J=l.notifications,Y=l.lazyLoad,X=l.lazyLoadNumber,Z="browser"===k,$="uploader"===k,ee="gallery"===k,te="embed"===k,ne="search"===k,ie="media"===k,re="view"===k,ae="download"===k,oe="slider"===k,le=$&&N.length;N&&N.length&&K&&["single","parent","template"].includes(V)&&(le=!0);var ce=[!!Z,!!ie,!!oe,!!ee,!!te,!!re,!!ae,!!Q,!!K&&!V].includes(!0),se=!(!_||A(_.id,s)&&s.root_id!==_.id),de=ln(),ue=function(e,t){var n=v(React.useState(t?"igd-item-col-1":"igd-item-col-4"),2),i=n[0],r=n[1];function a(e){if(t)r("igd-item-col-1");else{var n=e[0].contentRect.width,i={1:320,2:480,3:768,4:992,5:1200,6:1520},a="";if(n>1520)a="igd-item-col-6";else for(var o in i)if(n<i[o]){a="igd-item-col-".concat(o);break}r(a)}}return React.useEffect((function(){if(e.current){var t=new ResizeObserver(a);return t.observe(e.current),function(){t.disconnect()}}}),[e,t]),i}(de,O);!R&&ne||!Y||function(e,t,n,i,r,a,o){React.useEffect((function(){var o=e.current;if(o&&!n&&!r&&i&&i.pageNumber&&!(i.pageNumber<1)){var l=document.body.classList.contains("block-editor-page"),c=document.body.classList.contains("elementor-editor-active"),s=document.body.classList.contains("et-fb");if(!(l||c||s)||a){var d=function(e){for(var t=e.parentElement,n=null;t;)"div"===t.nodeName.toLowerCase()&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(n=t),t=t.parentElement;return n}(o),u=d?d.scrollTop:window.pageYOffset,m=function(){var e=d?d.scrollTop:window.pageYOffset,n=e>u;if(u=e,n)if(d)d.scrollHeight-e<=d.clientHeight&&t(i,"lazy");else{var r=o.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;r.bottom<=a+5&&t(i,"lazy")}},g=d||window;return g.addEventListener("scroll",m),function(){g.removeEventListener("scroll",m)}}}}),[e,t,n,i])}(de,G,c,_,I,R);var me=w?Object.keys(w):[],ge=!1;return Y&&(null==_?void 0:_.pageNumber)>0&&g.length<((null==_?void 0:_.pageNumber)-1)*X&&E(rn(rn({},_),{},{pageNumber:0})),React.createElement("div",{ref:de,className:"igd-body ".concat(c?"lazy"===c?"lazy-loading":"loading":"")},I&&!c&&React.createElement(Zt,null),(!ee||R)&&React.createElement("div",{className:"file-list ".concat(O?"list-view":""," ").concat(ue," ").concat(g.length||A(_,s)?"":"empty"),onClick:function(){var e=document.querySelector(".igd-context-menu")?300:0;setTimeout((function(){q(null),h([])}),e)},onContextMenu:function(e){e.preventDefault(),L(!1),h([]),A(_.id,s)&&s.root_id!==_.id||(q(_),M(e))}},!ee&&O&&!!g.length&&(C||F)&&React.createElement("div",{className:"list-view-header"},React.createElement("span",{className:"col-name"},wp.i18n.__("Name","integrate-google-drive")),F&&React.createElement("span",{className:"col-size"},wp.i18n.__("Size","integrate-google-drive")),C&&React.createElement("span",{className:"col-modified"},wp.i18n.__("Modified","integrate-google-drive"))),(!_||!_&&!!d)&&(!ne||R)&&!I&&React.createElement(ye,null),(!ne||R)&&!!_&&!!me.length&&React.createElement("div",{className:"go-prev file-item folder-item",onClick:function(e){if(q(null),d){if(me.length>1){var t=me[me.length-2],n=[me[me.length-3]],i={id:t,name:w[t],accountId:s.id,parents:n};U(i)}else if(E(null),f(d),o){var r=z(d,u);r&&sessionStorage.removeItem(r)}}else if(me.length>1){var a=me[me.length-2],l=[me[me.length-3]],c={id:a,name:w[a],accountId:s.id,parents:l};U(c)}else f([]),E(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!g.length&&g.map((function(t,n){var i=t.id,r=t.name,a=t.type,o=t.iconLink,l=void 0===o?"":o,c=t.thumbnailLink,s=t.size,d=t.updated;if(i){var u=b(t),m=p.find((function(e){return e.id===i})),f=N&&!!N.find((function(e){return e.id===i})),v=R&&(ce||u)&&(!Q||!u)&&(!e||!u);le&&(v=(N[0].id||N[0])===i);var w=l.replace("/16/","/64/"),_=P(t,"thumbnail"),E=!ge&&u&&!g.slice(n+1).some(b);return E&&(ge=!0),React.createElement(React.Fragment,null,E&&!O&&React.createElement("div",{className:"folder-file-divider"}),React.createElement("div",{key:i,"data-id":i,className:"file-item ".concat(u?"folder-item":"","  ").concat(E?"folder-item-last":""," ").concat(m||f?"active":""),onClick:function(e){e.stopPropagation(),H(),T?u?U(t):R?S([].concat(en(N),[t])):(q(t),D(e,i,g,j,J)):e.detail&&1!=e.detail||R?u?U(t):R&&v&&S(f?en(N.filter((function(e){return e.id!=t.id}))):[].concat(en(N),[t])):(e.ctrlKey||e.shiftKey||e.metaKey)&&!$?h((function(e){return e.find((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[].concat(en(e),[t])})):u?U(t):(q(t),D(e,i,g,j,J))},onDoubleClick:function(e){e.stopPropagation(),R||(u?U(t):(q(t),D(e,i,g,j,J)))},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),H(),L(!1),t["shared-drives"]||R||(h([t]),q(t),M(e))},title:r},!u&&!O&&React.createElement("img",{referrerPolicy:"no-referrer",className:"igd-file-thumbnail ".concat(c?"has-thumbnail":""),src:_,loading:"lazy",onError:function(e){var t=e.target;t.classList.remove("has-thumbnail"),t.src!==w&&(t.src=w,B(!0))}}),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},React.createElement("img",{className:"file-icon",referrerPolicy:"no-referrer",src:w,alt:"icon"}),"application/vnd.google-apps.shortcut"===a&&React.createElement("svg",{className:"shortcut-icon",viewBox:"0 0 16 16",fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px"},React.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"white"}),React.createElement("path",{d:"M10,3H6V4H8.15A5,5,0,0,0,10,13V12A4,4,0,0,1,9,4.65V7h1Z",fill:"#5F6368"})),!R&&(!j||j.download&&j.zipDownload)&&React.createElement("span",{className:"file-item-checkbox ".concat(m?"checked":""),onClick:function(e){e.stopPropagation(),h(m?function(e){return e.filter((function(e){return e.id!==t.id}))}:[].concat(en(p),[t]))}},React.createElement("span",{className:"box"}))),React.createElement("span",{className:"file-item-name"},r),F&&(O?React.createElement("span",{className:"file-item-size"},s?y(s):"â€”"):(!j||j.download)&&!u&&!!s&&React.createElement("span",{className:"file-item-size"},y(s))),!R&&React.createElement("span",{className:"file-item-options",onClick:function(e){e.stopPropagation(),L(!1),q(t),M(e)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"}))),O&&C&&React.createElement("span",{className:"file-item-date"},W(d)),v&&React.createElement(he,{file:t,isSelected:f,selectedFolders:N,setSelectedFolders:S,isList:O})))}}))),!R&&ee&&React.createElement(Vt,null),!c&&(d||_&&(!A(_.id,s)||_.id===s.root_id))&&!g.length&&(R||!ee)&&(R||!ne)&&!I&&React.createElement(Ue,null),g.length>0&&!ne&&!I&&!R&&!ee&&se&&x&&React.createElement(Le,null),!c&&!g.length&&_&&A(_.id,s)&&React.createElement(Jt,{activeFolder:_}),!c&&(!R&&ne||I)&&!g.length&&React.createElement(Yt,{isSearchResults:I}),c&&React.createElement("div",{className:"loading-wrap"},igd.settings.customPreloader?React.createElement("img",{src:igd.settings.customPreloader,alt:"Loading..."}):React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/").concat(r,".svg"),alt:"Loading..."})))}function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function un(e){return function(e){if(Array.isArray(e))return hn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==dn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){if(e){if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wn=React,yn=wn.useContext,bn=wn.useState,_n=wn.useEffect;function En(){var e=yn(t),n=e.files,i=e.activeAccount,r=e.activeFile,a=e.setShowDetails,o=e.activeFolder,l=e.setFiles,c=e.listFiles,s=e.setAllFiles,d=e.initParentFolder,u=pn(bn(null),2),m=u[0],g=u[1],f=m||{},p=f.id,v=f.accountId,h=f.name,b=f.iconLink,_=f.type,E=f.size,R=f.owner,N=f.updated,S=f.created,O=f.description,C=f.parents,F=pn(bn(null),2),k=F[0],x=F[1],P=pn(bn(!1),2),j=P[0],I=P[1],D=pn(bn(""),2),T=D[0],L=D[1];_n((function(){g(null),r?g(r):o&&!A(o.id,i)&&g(o)}),[r,o]),_n((function(){if(null!=m&&m.parents){var e=m.parents[0];(null==o?void 0:o.id)!==e?(x("loading"),wp.ajax.post("igd_get_file",{id:e,accountId:v}).done((function(e){x(e)})).fail((function(e){x(null)}))):x(o)}else x(null)}),[m,o]);var B=b&&b.replace("/16/","/64/"),U=[{key:"type",label:wp.i18n.__("Type","integrate-google-drive"),value:w(_)},{key:"size",label:wp.i18n.__("Size","integrate-google-drive"),value:E&&y(E)},{key:"owner",label:wp.i18n.__("Owner","integrate-google-drive"),value:R},{key:"updated",label:wp.i18n.__("Updated","integrate-google-drive"),value:N&&W(N)},{key:"created",label:wp.i18n.__("Created","integrate-google-drive"),value:S&&W(S)}];return React.createElement("div",{className:"igd-details-wrap"},React.createElement("div",{className:"igd-details"},React.createElement("i",{className:"close-details dashicons dashicons-no",onClick:function(){a(!1),localStorage.removeItem("igd_show_details")}}),m&&!A(m.id,i)?React.createElement(React.Fragment,null,React.createElement("div",{className:"details-item name"},React.createElement("img",{src:B}),React.createElement("span",null,h)),U.map((function(e){var t=e.key,n=e.label,i=e.value;if(i)return React.createElement("div",{key:t,className:"details-item field-".concat(t)},React.createElement("span",{className:"details-item-label"},n),React.createElement("span",{className:"details-item-value"},i))})),!(null==C||!C.length)&&o&&o.id!==(null==d?void 0:d.id)&&React.createElement("div",{className:"details-item field-location"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Location","integrate-google-drive")),k&&React.createElement("div",{className:"details-item-value"},"loading"===k?React.createElement("span",{className:"igd-spinner"}):React.createElement("div",{className:"location-wrap",onClick:function(){c(k)}},React.createElement("img",{src:k.iconLink}),React.createElement("span",null,k.name)))),React.createElement("div",{className:"details-item field-description"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Description","integrate-google-drive")),React.createElement("i",{className:"dashicons ".concat(j?"dashicons-saved":"dashicons-edit"),onClick:function(){j?(!function(){var e=n.map((function(e){return e.id===p?gn(gn({},e),{},{description:T}):e}));l(un(e)),g(gn(gn({},m),{},{description:T})),s((function(t){return gn(gn({},t),{},fn({},null==o?void 0:o.id,un(e)))})),wp.ajax.post("igd_update_description",{id:p,accountId:v,description:T}).done((function(){Swal.close(),Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"},position:"top-end"})}))}(),I(!1)):(I(!0),L(O))}}),!j&&(O?React.createElement("span",{className:"details-item-value"},O):React.createElement("span",{className:"description-placeholder"},wp.i18n.__("Add description","integrate-google-drive"))),j&&React.createElement("textarea",{onChange:function(e){return L(e.target.value)},value:T,rows:4}))):React.createElement("div",{className:"details-placeholder"},React.createElement("i",{className:"dashicons dashicons-pressthis"}),React.createElement("span",null,wp.i18n.__("Select a file or folder to view its details.","integrate-google-drive")))))}function Rn(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Rn(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const Nn=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=Rn(e))&&(i&&(i+=" "),i+=t);return i};var Sn=n(155);function On(){return On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},On.apply(this,arguments)}function Cn(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var An=(0,Me.createContext)({});function Fn(){return(0,Me.useContext)(An)}var kn=function(e){return ze().createElement(An.Provider,{value:e.refTracker},e.children)};function xn(){var e=new Map;return{on:function(t,n){var i;return e.has(t)?null==(i=e.get(t))||i.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==Sn.env.NODE){e.has(t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var Pn=xn();function jn(){return(0,Me.useRef)(new Map).current}var In={show:function(e){var t=e.id,n=e.event,i=e.props,r=e.position;n.preventDefault&&n.preventDefault(),Pn.emit(0).emit(t,{event:n.nativeEvent||n,props:i,position:r})},hideAll:function(){Pn.emit(0)}};function Dn(){var e,t,n,i,r=new Map,a=!1;function o(){i[e].node.focus()}function l(){return-1!==e||(c(),!1)}function c(){e+1<i.length?e++:e+1===i.length&&(e=0),a&&s(),o()}function s(){if(l()&&!n){var c=r.get(t),s=c.isRoot,d=c.items,u=c.focusedIndex,m=c.parentNode;t.classList.remove("react-contexify__submenu--is-open"),i=d,t=m,s&&(n=!0,r.clear()),a||(e=u,o())}}return{init:function(t){i=t,e=-1,n=!0},moveDown:c,moveUp:function(){-1===e||0===e?e=i.length-1:e-1<i.length&&e--,a&&s(),o()},openSubmenu:function(){if(l()&&e>=0&&i[e].isSubmenu){var c=Array.from(i[e].submenuRefTracker.values()),s=i[e].node;return r.set(s,{isRoot:n,focusedIndex:e,parentNode:t||s,items:i}),s.classList.add("react-contexify__submenu--is-open"),t=s,c.length>0?(e=0,i=c):a=!0,n=!1,o(),!0}return!1},closeSubmenu:s}}var Tn={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},Ln=function(){};function Bn(e){return"function"==typeof e}function Un(e){return"string"==typeof e}function Mn(e,t){return Me.Children.map(Me.Children.toArray(e).filter(Boolean),(function(e){return(0,Me.cloneElement)(e,t)}))}function zn(e,t){return Bn(e)?e(t):e}function Hn(e,t){return Bn(t)?On({},e,t(e)):On({},e,t)}var Kn=function(e){var t,n,i,r=e.id,a=e.theme,o=e.style,l=e.className,c=e.children,s=e.animation,d=void 0===s?"scale":s,u=e.onHidden,m=void 0===u?Ln:u,g=e.onShown,f=void 0===g?Ln:g,p=Cn(e,["id","theme","style","className","children","animation","onHidden","onShown"]),v=(0,Me.useReducer)(Hn,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),h=v[0],w=v[1],y=(0,Me.useRef)(null),b=(0,Me.useRef)(!1),_=(n=h.visible,i=(0,Me.useRef)(),(0,Me.useEffect)((function(){i.current=n}),[n]),i.current),E=jn(),R=(0,Me.useState)((function(){return Dn()}))[0];function N(e){var t=e.event,n=e.props,i=e.position;t.stopPropagation();var r,a,o=i||(a={x:0,y:0},function(e){return"touchend"===e.type}(r=t)&&r.changedTouches&&r.changedTouches.length>0?(a.x=r.changedTouches[0].clientX,a.y=r.changedTouches[0].clientY):(a.x=r.clientX,a.y=r.clientY),(!a.x||a.x<0)&&(a.x=0),(!a.y||a.y<0)&&(a.y=0),a),l=o.x,c=o.y;setTimeout((function(){w({visible:!0,willLeave:!1,x:l,y:c,triggerEvent:t,propsFromTrigger:n})}),0)}function S(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(Un(e)||"exit"in e&&e.exit))}(d)?w((function(e){return{visible:!e.visible&&e.visible}})):w((function(e){return{willLeave:e.visible}})))}(0,Me.useEffect)((function(){return b.current=!0,Pn.on(r,N).on(0,S),function(){Pn.off(r,N).off(0,S)}}),[r]),(0,Me.useEffect)((function(){b.current&&h.visible!==_&&(h.visible?f():m())}),[h.visible,m,f]),(0,Me.useEffect)((function(){h.visible?R.init(Array.from(E.values())):E.clear()}),[h.visible,R,E]),(0,Me.useEffect)((function(){if(h.visible){var e=window,t=e.innerWidth,n=e.innerHeight,i=y.current,r=i.offsetWidth,a=i.offsetHeight,o=h.x,l=h.y;o+r>t&&(o-=o+r-t),l+a>n&&(l-=l+a-n),w({x:o,y:l})}}),[h.visible]),(0,Me.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":R.openSubmenu()||S();break;case"Escape":S();break;case"ArrowUp":R.moveUp();break;case"ArrowDown":R.moveDown();break;case"ArrowRight":R.openSubmenu();break;case"ArrowLeft":R.closeSubmenu()}}return h.visible&&(window.addEventListener("resize",S),window.addEventListener("contextmenu",S),window.addEventListener("click",S),window.addEventListener("scroll",S),window.addEventListener("keydown",e),window.addEventListener("blur",S)),function(){window.removeEventListener("resize",S),window.removeEventListener("contextmenu",S),window.removeEventListener("click",S),window.removeEventListener("scroll",S),window.removeEventListener("keydown",e),window.removeEventListener("blur",S)}}),[h.visible,R]);var O,C,A=h.visible,F=h.triggerEvent,k=h.propsFromTrigger,x=h.x,P=h.y,j=h.willLeave,I=Nn("react-contexify",l,((t={})["react-contexify__theme--"+a]=a,t),d?Un(d)?Nn(((O={})["react-contexify__will-enter--"+d]=d&&A&&!j,O["react-contexify__will-leave--"+d+" react-contexify__will-leave--'disabled'"]=d&&A&&j,O)):"enter"in d&&"exit"in d?Nn(((C={})["react-contexify__will-enter--"+d.enter]=d.enter&&A&&!j,C["react-contexify__will-leave--"+d.exit+" react-contexify__will-leave--'disabled'"]=d.exit&&A&&j,C)):null:null),D=On({},o,{left:x,top:P,opacity:1});return ze().createElement(kn,{refTracker:E},A&&ze().createElement("div",Object.assign({},p,{className:I,onAnimationEnd:function(){h.willLeave&&h.visible&&w({visible:!1,willLeave:!1})},style:D,ref:y,role:"menu"}),Mn(c,{propsFromTrigger:k,triggerEvent:F})))},Vn=function(e){var t,n=e.children,i=e.className,r=e.style,a=e.triggerEvent,o=e.data,l=e.propsFromTrigger,c=e.onClick,s=void 0===c?Ln:c,d=e.disabled,u=void 0!==d&&d,m=e.hidden,g=void 0!==m&&m,f=Cn(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),p=Fn(),v={data:o,triggerEvent:a,props:l},h=zn(u,v);if(zn(g,v))return null;var w=Nn("react-contexify__item",i,((t={})["react-contexify__item--disabled"]=h,t));return ze().createElement("div",Object.assign({},f,{className:w,style:r,onClick:function(e){v.event=e,h?e.stopPropagation():s(v)},onKeyDown:function(e){"Enter"===e.key&&(v.event=e,s(v))},ref:function(e){e&&!h&&p.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":h}),ze().createElement("div",{className:"react-contexify__item__content"},n))};var Wn=function(e){var t,n=e.arrow,i=void 0===n?"â–¶":n,r=e.children,a=e.disabled,o=void 0!==a&&a,l=e.hidden,c=void 0!==l&&l,s=e.label,d=e.className,u=e.triggerEvent,m=e.propsFromTrigger,g=e.style,f=Cn(e,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]),p=Fn(),v=jn(),h=(0,Me.useRef)(null),w=(0,Me.useState)({left:"100%",top:0,bottom:"initial"}),y=w[0],b=w[1],_={triggerEvent:u,props:m},E=zn(o,_),R=zn(c,_);if((0,Me.useEffect)((function(){if(h.current){var e=window,t=e.innerWidth,n=e.innerHeight,i=h.current.getBoundingClientRect(),r={};i.right<t?(r.left="100%",r.right=void 0):(r.right="100%",r.left=void 0),i.bottom>n?(r.bottom=0,r.top="initial"):r.bottom="initial",b(r)}}),[]),R)return null;var N=Nn("react-contexify__item",d,((t={})["react-contexify__item--disabled"]=E,t)),S=On({},g,y);return ze().createElement(kn,{refTracker:v},ze().createElement("div",Object.assign({},f,{className:N,ref:function(e){e&&!E&&p.set(e,{node:e,isSubmenu:!0,submenuRefTracker:v})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":E}),ze().createElement("div",{className:"react-contexify__item__content",onClick:function(e){e.stopPropagation()}},s,ze().createElement("span",{className:"react-contexify__submenu-arrow"},i)),ze().createElement("div",{className:"react-contexify react-contexify__submenu",ref:h,style:S},Mn(r,{propsFromTrigger:m,triggerEvent:u}))))};function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Qn(e){return function(e){if(Array.isArray(e))return $n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ei=React,ti=ei.useState,ni=ei.useEffect;function ii(e){var t=e.files,n=e.setFiles,i=e.allFiles,r=e.setAllFiles,a=e.activeAccount,o=e.initFolders,l=Xn(ti(null),2),c=l[0],s=l[1],d=Xn(ti(null),2),u=d[0],m=d[1],g=Xn(ti(null),2),f=g[0],p=g[1],v=Xn(ti([]),2),h=v[0],w=v[1],y=Xn(ti(!1),2),_=y[0],R=y[1],N=t.map((function(e){return e.id})),S=t.map((function(e){return e.parents[0]}));function O(e){return s(e.id),wp.ajax.post("igd_get_files",{data:{folder:e}}).done((function(t){var n=t.files;n=n.filter((function(e){return b(e)})),m((function(t){return Jn(Jn({},t),{},Yn({},e.id,n))}))})).fail((function(e){})).always((function(){s(null)}))}ni((function(){var e={id:a.root_id,accountId:a.id};O(e).then((function(t){w([e])}))}),[]);var C=!!f&&(N.includes(f.id)||S.includes(f.id));f&&["computers","shared","starred","shared-drives"].includes(f.id)&&(C=!0),f&&a.root_id===f.id&&S.includes(a.root_id)&&(C=!0);var A=E(!1,a);return o&&(A=o.filter((function(e){return b(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},A.map((function(e){var t=e.id,n=e.name,i=e.iconLink,r=h.find((function(e){return e.id===t})),a=!!f&&f.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(a?"active":""),onClick:function(){p(a?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(r?"down":"right"),onClick:function(n){n.stopPropagation(),w((function(n){return r?n.filter((function(e){return e.id!==t})):[].concat(Qn(n),[e])})),r||u&&u[t]||O(e)}}),React.createElement("img",{src:i,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(a?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),c===t&&React.createElement("div",{className:"igd-spinner"})),r&&React.createElement(ri,{folders:u[t]?u[t]:[],childFolders:u,selectedFolder:f,setSelectedFolder:p,getFolders:O,openFolders:h,setOpenFolders:w,loading:c}))}))),React.createElement("button",{disabled:C,type:"button",className:"igd-btn ".concat(C?"disabled":"btn-primary"),onClick:function(){R(!0),wp.ajax.post("igd_move_file",{file_ids:N,folder_id:f.id,account_id:f.accountId}).done((function(e){if(n((function(e){return e.filter((function(e){return!N.includes(e.id)}))})),i[f.id]){var a=[].concat(Qn(i[f.id]),Qn(t));r((function(e){return Jn(Jn({},e),{},Yn({},f.id,a))}))}Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File(s) moved successfully","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error moving file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){R(!1)}))}},_&&React.createElement("div",{className:"igd-spinner"}),_?wp.i18n.__("Moving...","integrate-google-drive"):wp.i18n.__("Move","integrate-google-drive")))}function ri(e){var t=e.folders,n=e.childFolders,i=e.selectedFolder,r=e.setSelectedFolder,a=e.getFolders,o=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=o.find((function(t){return t.id===e.id})),s=!!i&&i.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){r(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(i){i.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Qn(t),[e])}),t||n&&n[e.id]||a(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(ri,{folders:n[e.id],childFolders:n,getFolders:a,setSelectedFolder:r,selectedFolder:i,openFolders:o,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function oi(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ui(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ai(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ai(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ai(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||ui(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){if(e){if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var gi=React,fi=gi.useState,pi=gi.useEffect;function vi(e){var t=e.files,n=e.allFiles,i=e.setAllFiles,r=e.activeAccount,a=e.initFolders,o=di(fi(null),2),l=o[0],c=o[1],s=di(fi(null),2),d=s[0],u=s[1],m=di(fi(null),2),g=m[0],f=m[1],p=di(fi([]),2),v=p[0],h=p[1],w=di(fi(!1),2),y=w[0],_=w[1];function R(e){return c(e.id),wp.ajax.post("igd_get_files",{data:{folder:e}}).done((function(t){var n=t.files;n=n.filter((function(e){return b(e)})),u((function(t){return ci(ci({},t),{},si({},e.id,n))}))})).fail((function(e){})).always((function(){c(null)}))}pi((function(){var e={id:r.root_id,accountId:r.id};R(e).then((function(t){h([e])}))}),[]);var N=!1;g&&["computers","shared","starred","shared-drives"].includes(g.id)&&(N=!0);var S=E(!1,r);return a&&(S=a.filter((function(e){return b(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},S.map((function(e){var t=e.id,n=e.name,i=e.iconLink,r=v.find((function(e){return e.id===t})),a=!!g&&g.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(a?"active":""),onClick:function(){f(a?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(r?"down":"right"),onClick:function(n){n.stopPropagation(),h((function(n){return r?n.filter((function(e){return e.id!==t})):[].concat(oi(n),[e])})),r||d&&d[t]||R(e)}}),React.createElement("img",{src:i,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(a?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),l===t&&React.createElement("div",{className:"igd-spinner"})),r&&React.createElement(hi,{folders:d[t]?d[t]:[],childFolders:d,selectedFolder:g,setSelectedFolder:f,getFolders:R,openFolders:v,setOpenFolders:h,loading:l}))}))),React.createElement("button",{disabled:N,type:"button",className:"igd-btn ".concat(N?"disabled":"btn-primary"),onClick:function(){_(!0),wp.ajax.post("igd_copy_file",{files:t,folder_id:g.id}).done((function(e){if(Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File(s) copied successfully","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),n[g.id]){var t=[].concat(oi(n[g.id]),oi(e));i((function(e){return ci(ci({},e),{},si({},g.id,t))}))}})).fail((function(e){Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error copying file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){_(!1)}))}},y&&React.createElement("div",{className:"igd-spinner"}),y?wp.i18n.sprintf(wp.i18n.__("Copying %s files","integrate-google-drive"),t.length):wp.i18n.__("Copy","integrate-google-drive")))}function hi(e){var t=e.folders,n=e.childFolders,i=e.selectedFolder,r=e.setSelectedFolder,a=e.getFolders,o=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=o.find((function(t){return t.id===e.id})),s=!!i&&i.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){r(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(i){i.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(oi(t),[e])}),t||n&&n[e.id]||a(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(hi,{folders:n[e.id],childFolders:n,getFolders:a,setSelectedFolder:r,selectedFolder:i,openFolders:o,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bi=React,_i=bi.useState,Ei=bi.useEffect;function Ri(e){var t=e.file,n=e.isDirectLink,i=t.id,r=t.name,a=t.accountId,o=t.type,l=function(){document.querySelector(".share-link input").select(),document.execCommand("copy"),setTimeout((function(){Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Link copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)},c=L(JSON.stringify({id:i,accountId:a,type:o,name:r})),s=n?"".concat(igd.homeUrl,"/?direct_file=").concat(c):null,d=n?"".concat(igd.homeUrl,"/?direct_file=").concat(c,"&embed=1"):null,u=wi(_i(s),2),m=u[0],g=u[1],f=wi(_i(d),2),p=f[0],v=f[1];Ei((function(){n||(Swal.showLoading(),wp.ajax.send("igd_get_share_link",{data:{file:t},success:function(e){g(e.viewLink),v(e.embedLink)},error:function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}}).done((function(){Swal.hideLoading()})))}),[]);var h=wi(_i("link"),2),w=h[0],y=h[1],b=igd.settings.channels,_=void 0===b?["shareLink","embedCode","email"]:b;return m&&React.createElement(React.Fragment,null,React.createElement("div",{className:"share-link"},"link"===w?React.createElement("input",{type:"text",value:m,readOnly:!0,onClick:l}):React.createElement("textarea",{readOnly:!0,onClick:function(){document.querySelector(".share-link textarea").select(),document.execCommand("copy"),setTimeout((function(){Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Embed code copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)}},'<iframe src="'.concat(p,'" width="100%" height="480" frameBorder="0" allowTransparency="true" allow="encrypted-media" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>'))),React.createElement("div",{className:"share-links"},_.includes("shareLink")&&React.createElement("div",{className:"share-item link",onClick:function(){y("link"),l()}},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))),_.includes("embedCode")&&React.createElement("div",{className:"share-item embed",onClick:function(){return y("embed")}},React.createElement("i",{className:"dashicons dashicons-editor-code"}),React.createElement("span",null,wp.i18n.__("Embed","integrate-google-drive"))),_.includes("email")&&React.createElement("a",{className:"share-item email",href:"mailto:?subject=".concat(r,"&body=").concat(m),onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-email"}),React.createElement("span",null,wp.i18n.__("Email","integrate-google-drive"))),_.includes("facebook")&&React.createElement("a",{className:"share-item facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(m),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-facebook"}),React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),_.includes("twitter")&&React.createElement("a",{className:"share-item twitter",href:"https://twitter.com/intent/tweet?text=".concat(r,"&url=").concat(m),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-twitter"}),React.createElement("span",null,wp.i18n.__("Twitter","integrate-google-drive"))),_.includes("whatsapp")&&React.createElement("a",{className:"share-item whatsapp",href:"https://wa.me/?text=".concat(m),target:"_blank",onClick:function(){return y("link")}},React.createElement("i",{className:"dashicons dashicons-whatsapp"}),React.createElement("span",null,wp.i18n.__("WhatsApp","integrate-google-drive")))))}var Ni=React,Si=Ni.useEffect,Oi=Ni.useRef,Ci=ReactDOM.createPortal;const Ai=function(e){var t=e.children,n=Oi(document.createElement("div"));return Si((function(){return document.body.appendChild(n.current),function(){return document.body.removeChild(n.current)}}),[]),Ci(t,n.current)};function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function ki(e){return function(e){if(Array.isArray(e))return xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Fi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Di=React.useContext;function Ti(){var e=Di(t),n=e.activeAccount,i=e.getFiles,r=e.activeFiles,a=e.setActiveFiles,o=e.activeFile,l=e.activeFolder,c=e.permissions,s=e.notifications,d=e.shortcodeBuilderType,u=e.isOptions,m=e.setIsOptions,g=e.isList,f=e.setIsList,p=e.setShowDetails,v=e.setIsUpload,h=e.isShortcodeBuilder,w=e.contextMenuId,_=e.selectAll,E=e.setSelectAll,R=e.files,N=e.setFiles,S=e.setAllFiles,O=e.allFiles,C=e.initFolders,F=e.initParentFolder,k="search"===d,x="gallery"===d,P=o&&l&&o.id===l.id,I=function(){return P||!o||b(o)?1!==r.length||b(r[0])?u?r:[o]:[r[0]]:[o]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?wp.i18n.__("Direct Link","integrate-google-drive"):wp.i18n.__("Share","integrate-google-drive");Swal.fire({title:t,html:'<div id="igd-share-modal"></div>',didOpen:function(){var t=document.getElementById("igd-share-modal");ReactDOM.render(React.createElement(Ri,{file:o,isDirectLink:e}),t)},showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,customClass:{container:"igd-swal share-modal"}})},B=o&&o.permissions?o.permissions:{},U=!!B.canEdit,M=!!B.canPreview,z=!!B.canRename;c&&(c.refresh=!0,c.selectAll=c.download&&c.zipDownload);var K=[{key:"doc",title:wp.i18n.__("Google Doc","integrate-google-drive"),icon:"dashicons-media-document"},{key:"sheet",title:wp.i18n.__("Google Sheet","integrate-google-drive"),icon:"dashicons-media-spreadsheet"},{key:"slide",title:wp.i18n.__("Google Slide","integrate-google-drive"),icon:"dashicons-media-interactive"}],V=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"},{key:"newFolder",title:wp.i18n.__("New Folder","integrate-google-drive"),icon:"dashicons-open-folder"},{key:"createDoc",title:wp.i18n.__("Create Document","integrate-google-drive"),icon:"dashicons-welcome-add-page"},{key:"upload",title:wp.i18n.__("Upload Files","integrate-google-drive"),icon:"dashicons-cloud-upload"},{key:"preview",title:c&&!1===c.inlinePreview?wp.i18n.__("Preview in a new window","integrate-google-drive"):wp.i18n.__("Preview","integrate-google-drive"),icon:"dashicons-visibility"},{key:"drive",title:wp.i18n.__("Open in Google Drive","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"details",title:wp.i18n.__("View Details","integrate-google-drive"),icon:"dashicons-info-outline"},{key:"directLink",title:wp.i18n.__("Direct Link","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"share",title:wp.i18n.__("Share","integrate-google-drive"),icon:"dashicons-share"},{key:"selectAll",title:_?wp.i18n.__("Deselect All","integrate-google-drive"):wp.i18n.__("Select All","integrate-google-drive"),icon:"dashicons-screenoptions"},{key:"edit",title:wp.i18n.__("Edit (New Window)","integrate-google-drive"),icon:"dashicons-edit-page"},{key:"download",title:wp.i18n.__("Download","integrate-google-drive")+"".concat(u&&r.length>1?" (".concat(r.length,")"):""),icon:"dashicons-download"},{key:"import",title:wp.i18n.__("Import to Media","integrate-google-drive")+"".concat(u&&r.length>1?" (".concat(r.length,")"):""),icon:"dashicons-migrate"},{key:"move",title:wp.i18n.__("Move","integrate-google-drive")+"".concat(u&&r.length>1?" (".concat(r.length,")"):""),icon:"dashicons-editor-break"},{key:"rename",title:wp.i18n.__("Rename","integrate-google-drive"),icon:"dashicons-edit"},{key:"copy",title:wp.i18n.__("Copy","integrate-google-drive")+"".concat(u&&r.length>1?" (".concat(r.length,")"):""),icon:"dashicons-admin-page"},{key:"delete",title:wp.i18n.__("Delete","integrate-google-drive")+"".concat(u&&r.length>1?" (".concat(r.length,")"):""),icon:"dashicons-trash"},{key:"view",title:g?wp.i18n.__("Grid View","integrate-google-drive"):wp.i18n.__("List View","integrate-google-drive"),icon:g?"dashicons-grid-view":"dashicons-list-view"}].filter((function(e){var t=e.key;if((!h||["view","selectAll"].includes(t))&&(!k||["preview","download","view"].includes(t))&&("drive"!==t||!u&&!C)&&(!c||c[t])&&("view"!==t||(!x||h)&&u)&&("edit"!==t||U)&&(!["share","directLink","details"].includes(t)||o)&&("selectAll"!==t||l&&u)&&("preview"!==t||!(!o&&(1!==r.length||b(r[0]))||o&&(!M||b(o))||u&&(1!==r.length||b(r[0]))))&&("copy"!==t||!(u&&!r.length||!u&&o&&b(o)||u&&r.length&&r.some((function(e){return b(e)}))))&&("move"!==t||!u||r.length)&&("import"!==t||!(u&&(!r.length||r.some((function(e){return b(e)})))||o&&b(o)))&&("rename"!==t||!u||!(r.length>1)&&z)&&("delete"!==t||!u||r.length)&&("download"!==t||(o||r.length)&&(!o||o.permissions&&(b(o)||o.permissions.canDownload)))&&(P||l&&u&&!o&&!r.length||!["refresh","newFolder","upload","createDoc"].includes(t))&&(!(u&&l&&n.root_id!==l.id&&A(l.id,n))||["view"].includes(t))&&(!P||r.length||u||["refresh","newFolder","upload","createDoc"].includes(t)))return!0}));return V.length||!c||c.view||m(null),React.createElement(Ai,null,React.createElement(Kn,{id:w,className:"igd-context-menu",animation:Tn.fade},V.map((function(e){var t=e.key,d=e.title,h=e.icon;return React.createElement(Vn,{key:t,onClick:function(e){e.data;var d=e.event;e.triggerEvent;if(m(!1),"newFolder"===t)return a([]),void Swal.fire({title:wp.i18n.__("New Folder","integrate-google-drive"),text:wp.i18n.__("Enter new folder name","integrate-google-drive"),input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_new_folder",{name:e,parent_id:l.id,account_id:l.accountId}).done((function(e){var t=[].concat(ki(R),[e]);N(t),S((function(e){return ji(ji({},e),{},Ii({},l.id,t))})),Swal.close(),Swal.fire({title:"Created!",text:"Folder has been created.",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:"Error!",text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});if("refresh"!==t)if("upload"!==t)if("edit"!==t)if("share"!==t)if("directLink"!==t)if("preview"!==t)if("drive"!==t)if("download"!==t)if("rename"!==t)if("move"!==t){var h,w;if("copy"!==t)return"import"===t?igd.isPro?void function(){var e=u?r.filter((function(e){return!b(e)})):[o].filter((function(e){return!b(e)}));Swal.fire({title:"Importing ".concat(e.length," files"),text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal"},didOpen:function(){Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:e},success:function(e){},error:function(e){},complete:function(){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("File(s) have been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}})}})}():void j(wp.i18n.__("Upgrade to PRO to import cloud files to the Media Library.","integrate-google-drive")):"delete"===t?(h=u?r.map((function(e){return e.id})):[o.id],w=u?r[0].accountId:o.accountId,void Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,customClass:{container:"igd-swal"},confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(){return wp.ajax.post("igd_delete_files",{file_ids:h,account_id:w})}}).then((function(e){if(e.isConfirmed){s&&s.deleteNotification&&wp.ajax.post("igd_notification",{files:I(),notifications:s,type:"delete"});var t=R.filter((function(e){return!h.includes(e.id)}));N(t),S((function(e){return ji(ji({},e),{},Ii({},l.id,t))})),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.__("File(s) has been deleted.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}}))):"view"===t?(f(!g),void function(e,t,n){var i=H(t,n);localStorage.setItem("igd_listing_view_".concat(i),e)}(g?"grid":"list",C,F)):"details"===t?(p(!0),void localStorage.setItem("igd_show_details",1)):void("selectAll"!==t||E((function(e){return!e})));Swal.fire({title:wp.i18n.__("Copy","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-copy"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-copy-swal"},didOpen:function(e){ReactDOM.render(React.createElement(vi,{files:u?r:[o],allFiles:O,setAllFiles:S,activeAccount:n,initFolders:C}),document.getElementById("igd-copy"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-copy"))}})}else Swal.fire({title:wp.i18n.__("Move","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-move"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-move-swal"},didOpen:function(e){var t=document.getElementById("igd-move");ReactDOM.render(React.createElement(ii,{files:u?r:[o],setFiles:N,allFiles:O,setAllFiles:S,activeAccount:n,initFolders:C}),t)},willClose:function(){var e=document.getElementById("igd-move");ReactDOM.unmountComponentAtNode(e)}});else Swal.fire({title:wp.i18n.__("Rename","integrate-google-drive"),text:wp.i18n.__("Enter new name","integrate-google-drive"),input:"text",inputValue:o.name,inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Rename","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_rename_file",{name:e,id:o.id,accountId:o.accountId}).done((function(){var t=R.map((function(t){return t.id===o.id?ji(ji({},t),{},{name:e}):t}));N(t),S((function(e){return ji(ji({},e),{},Ii({},l.id,t))})),Swal.close(),Swal.fire({title:wp.i18n.__("Renamed!","integrate-google-drive"),text:wp.i18n.__("File has been renamed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});else{if(o&&o.exportAs&&Object.keys(o.exportAs).length)return;if(P||!o||b(o))if(1!==r.length||b(r[0]))!function(){var e=(new Date).getTime(),t=u?r.map((function(e){return e.id})):[o.id],n=u?r[0].accountId:o.accountId,i="".concat(igd.ajaxUrl,"?action=igd_download_zip&file_ids=").concat(L(JSON.stringify(t)),"&id=").concat(e,"&accountId=").concat(n);Swal.fire({title:wp.i18n.__("Download","integrate-google-drive"),html:'<div class="igd-download-wrap"><div id="igd-download-status"></div><div id="igd-download-progress"></div><iframe id="igd-hidden-download" class="igd-hidden" src="'.concat(i,'" ></iframe></div>'),showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"igd-swal igd-download-popup"},didOpen:function(){Swal.showLoading();var t=jQuery("#igd-download-status"),n=jQuery("#igd-download-progress");window.downloadStatusInterval=setInterval((function(){wp.ajax.send("igd_download_status",{data:{id:e},success:function(e){if(!document.getElementById("igd-hidden-download"))return clearInterval(window.downloadStatusInterval),void Swal.close();if(!e)return clearInterval(window.downloadStatusInterval),Swal.close(),void Swal.fire({title:wp.i18n.__("Completed!","integrate-google-drive"),text:wp.i18n.__("Download completed","integrate-google-drive"),icon:"success",showConfirmButton:!1,toast:!0,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}});var i=e.status,r=e.total,a=e.downloaded,o=e.action;"failed"===o?(clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:i,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})):(t.html(i),"downloading"===o&&n.html("".concat(y(a)," of ").concat(y(r)," - ").concat(Math.round(a/r*100),"%")))},error:function(e){clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}})}),1e3)},willClose:function(){clearInterval(window.downloadStatusInterval)}})}();else{var _="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(r[0].id,"&accountId=").concat(r[0].accountId);window.location.href=_}else{var A="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(o.id,"&accountId=").concat(o.accountId);window.location.href=A}s&&s.downloadNotification&&wp.ajax.post("igd_notification",{files:I(),notifications:s,type:"download"})}else{var k=o||r[0];window.open(k.webViewLink,"_blank").focus()}else{var x=o||r[0];D(d,x.id,[x],c,s)}else T(!0);else T();else window.open(o.webViewLink,"_blank").focus();else v(!0);else i(l,"refresh")},data:{action:t},className:"context-menu-item ".concat(t," ").concat(["import"].includes(t)&&!igd.isPro?"disabled":"")},"createDoc"===t?React.createElement(Wn,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,d)),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},K.map((function(e){var t=e.key,n=e.title,i=e.icon;return React.createElement(Vn,{key:t,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",t=wp.i18n.__("New Document","integrate-google-drive"),n=wp.i18n.__("Enter document name","integrate-google-drive");"sheet"===e?(t=wp.i18n.__("New Spreadsheet","integrate-google-drive"),n=wp.i18n.__("Enter spreadsheet name","integrate-google-drive")):"slide"===e&&(t=wp.i18n.__("New Presentation","integrate-google-drive"),n=wp.i18n.__("Enter presentation name","integrate-google-drive")),Swal.fire({title:t,text:n,input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(t){return t?wp.ajax.post("igd_create_doc",{name:t,type:e,folder_id:l.id,account_id:l.accountId}).done((function(t){var n=[].concat(ki(R),[t]);N(n),S((function(e){return ji(ji({},e),{},Ii({},l.id,n))})),Swal.close();var i=wp.i18n.__("Document created","integrate-google-drive"),r=wp.i18n.__("Document created successfully","integrate-google-drive");"sheet"===e?(i=wp.i18n.__("Spreadsheet created","integrate-google-drive"),r=wp.i18n.__("Spreadsheet created successfully","integrate-google-drive")):"slide"===e&&(i=wp.i18n.__("Presentation created","integrate-google-drive"),r=wp.i18n.__("Presentation created successfully","integrate-google-drive")),Swal.fire({title:i,text:r,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}})}(t)},className:"context-menu-item ".concat(t)},React.createElement("i",{className:"dashicons ".concat(i)}),React.createElement("span",null,n))}))):"download"===t&&o&&o.exportAs&&Object.keys(o.exportAs).length?React.createElement(Wn,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,wp.i18n.__("Download as","integrate-google-drive"))),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},Object.keys(o.exportAs).map((function(e){return React.createElement(Vn,{key:e,className:"context-menu-item ".concat(e),onClick:function(){return function(e){var t=o.exportAs[e].mimetype;window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(o.id,"&accountId=").concat(o.accountId,"&mimetype=").concat(t)}(e)}},React.createElement("i",{className:"dashicons dashicons-media-text"}),React.createElement("span",null,e))}))):React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons ".concat(h)}),React.createElement("span",null,d),["import"].includes(t)&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive")))))}))))}function Li(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?M():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zi(e){return function(e){if(Array.isArray(e))return Wi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Vi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){if(e){if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qi=React,Qi=qi.useState,Gi=qi.useEffect,Ji=qi.useMemo,Yi=qi.useRef,Xi=igd.settings.rememberLastFolder,Zi=void 0===Xi||Xi;function $i(e){var t=e.shortcodeId,n=e.initParentFolder,r=e.isShortcodeBuilder,a=e.selectedFolders,o=e.setSelectedFolders,l=e.allFolders,c=e.privateFolders,s=e.initFolders,d=e.filters,u=e.shortcodeBuilderType,m=e.isList,g=e.showLastModified,f=void 0===g?!u:g,p=e.showFileSizeField,v=void 0===p||p,h=e.fileNumbers,w=e.sort,y=e.permissions,_=e.notifications,R=e.showHeader,O=void 0===R?r||!u:R,F=e.showRefresh,k=void 0===F||F,x=e.showSorting,P=void 0===x||x,j=e.showBreadcrumbs,D=void 0===j||j,T=e.galleryLayout,L=e.galleryAspectRatio,B=e.galleryColumns,U=e.galleryHeight,M=e.galleryMargin,W=e.galleryView,q=e.galleryFolderView,Q=e.thumbnailCaption,J=e.galleryOverlay,Y=e.galleryOverlayTitle,X=e.galleryOverlayDescription,Z=e.galleryOverlaySize,$=e.isSelectFiles,ee=e.selectionType,te=e.initialSearchTerm,ne=e.isLMS,ie=e.lazyLoad,re=void 0===ie||ie,ae=e.lazyLoadNumber,oe=void 0===ae?100:ae,le=e.account,ce=void 0===le?igd.activeAccount:le;!s&&igd.userAccessData&&(n=igd.userAccessData.initParentFolder,s=igd.userAccessData.initFolders);var se=null;Zi&&(se=function(e,t){var n=null,i=document.body.classList.contains("elementor-editor-active"),r=document.body.classList.contains("et-fb"),a=document.body.classList.contains("block-editor-page");if(i||r||a)return n;var o=z(e,t),l=sessionStorage.getItem(o);return l&&(n=JSON.parse(l)).id===(null==t?void 0:t.id)&&(n=null),n}(s,n));var de,ue="search"===u&&!r,me="gallery"===u,ge="media"===u,pe=Ki(Qi(ce),2),ve=pe[0],he=pe[1],we=Ki(Qi(!ue&&s?s:[]),2),ye=we[0],be=we[1],_e=[];!ue&&s&&(_e=Hi({},(null===(de=n)||void 0===de?void 0:de.id)||"",s));var Ee=Ki(Qi(_e),2),Ne=Ee[0],Se=Ee[1],Oe=Ki(Qi([]),2),Ce=Oe[0],Ae=Oe[1],Fe=Ki(Qi(null),2),ke=Fe[0],xe=Fe[1],Pe=Ki(Qi(!s&&!n&&!ue),2),je=Pe[0],Ie=Pe[1],De=Ki(Qi({}),2),Te=De[0],Le=De[1],Be=Ki(Qi(!1),2),Ue=Be[0],Me=Be[1],ze=Ki(Qi(!1),2),He=ze[0],Ke=ze[1],Ve=Ki(Qi(window.innerWidth<=768),2),We=Ve[0],qe=Ve[1],Qe=Ki(Qi(!We&&!r&&!s),2),Ge=Qe[0],Je=Qe[1],Ye=Ki(Qi(!1),2),Xe=Ye[0],Ze=Ye[1],$e=Ki(Qi(!1),2),et=$e[0],tt=$e[1],nt=Yi(te),it=Ki(Qi(te),2),rt=it[0],at=it[1],ot=!We&&"1"==localStorage.getItem("igd_show_details")&&!s,lt=Ki(Qi(ot),2),ct=lt[0],st=lt[1],dt=null;s?n&&(dt=n):dt=E(ve.root_id,ve),se&&(dt=se);var ut=Ki(Qi(dt),2),mt=ut[0],gt=ut[1],ft=localStorage.getItem("igd_sort")?JSON.parse(localStorage.getItem("igd_sort")):{sortBy:"name",sortDirection:"asc"},pt=Ki(Qi(null!=w?w:ft),2),vt=pt[0],ht=pt[1],wt=function(e,t){var n=H(e,t);return localStorage.getItem("igd_listing_view_".concat(n))}(s,n);wt&&(m="list"===wt);var yt=Ki(Qi(m),2),bt=yt[0],_t=yt[1],Et=I();Gi((function(){Object.keys(igd.accounts).length&&(y&&y.allowSearch&&te?At(te):ue&&!r||(s||n?Zi&&se&&Ot(se,"last"):Ot()))}),[]),Gi((function(){if(Et){Ie("switch"),Se({});var e={id:ve.root_id,accountId:ve.id,name:wp.i18n.__("My Drive","integrate-google-drive")};igd.activeAccount=ve,wp.ajax.post("igd_switch_account",{id:ve.id}).done((function(){Ot(e,"switch")})).fail((function(e){}))}}),[ve]),Gi((function(){Et&&(localStorage.setItem("igd_sort",JSON.stringify(vt)),Ot(mt,"sort"))}),[vt]),Gi((function(){var e=function(){qe(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Gi((function(){Et&&n.id&&n.id!==(null==mt?void 0:mt.id)&&Ct(n)}),[n]);var Rt=Ki(Qi(!1),2),Nt=Rt[0],St=Rt[1];function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(xe(null),Ae([]),Me(!1),Ie(t||!0),s){if(!e)return Ie(!1),gt(null),void be(s);c?e.isPrivate=!0:ue&&(e.folders=s)}else e||se&&se.accountId===ve.id&&(e=se),e||(e=r?{id:ve.root_id,accountId:ve.id}:E(ve.root_id,ve));"lazy"!==t&&(e.pageNumber=1),wp.ajax.post("igd_get_files",{data:{folder:e,sort:vt,refresh:"refresh"===t,from_server:r||!!s&&!!n&&n.id===e.id,fileNumbers:h,limit:re?oe:0,filters:d}}).done((function(i){var r=i.files,a=void 0===r?[]:r,o=i.breadcrumbs,l=i.error,c=i.nextPageNumber,d=void 0===c?0:c;if(l)"refresh"!==t&&Swal.fire({html:l,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{a.length&&Zi&&K(e,s,n),!a.length&&Zi&&V(s,n),"lazy"===t&&mt&&mt.id===e.id&&(a=[].concat(zi(ye),zi(a))),ge&&(a=a.filter((function(e){return N(e)||b(e)}))),ne&&(a=a.filter((function(e){return S(e)||b(e)}))),me&&(a=a.filter((function(e){return C(e)||S(e)||b(e)}))),be(a);var u=Mi(Mi({},e),{},{pageNumber:d});Se((function(t){return Mi(Mi({},t),{},Hi({},e.id,[].concat(zi(a),[u])))})),gt(u),o&&Le(o)}})).fail((function(t){gt(Mi(Mi({},e),{},{pageNumber:0})),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}})})).always((function(){return Ie(!1)}))}function Ct(e){var t=e.id;if(xe(null),Ae([]),Me(!1),Ne[t]){var i=Ne[t];e=i.find((function(t){return t.id===e.id}))||e,gt(e),be(i.filter((function(e){return e.id!==t}))),Zi&&K(mt,s,n),Le(function e(t){if(A(t,ve)){var n=E(t,ve);return Hi({},t,n.name)}var r=Object.keys(Te),a=i.find((function(e){return e.id===t}));if(a){var o=Hi({},t,a.name),l=a.parents||[];return!l.length||s&&s.find((function(e){return e.id===t}))?o:Mi(Mi({},e(l[0])),o)}if(r.includes(t)){var c=r.indexOf(t);return Object.fromEntries(r.slice(0,c+1).map((function(e){return[e,Te[e]]})))}return{}}(t))}else Ot(e);!s&&igd.showReviewPopup&&setTimeout((function(){!function(){G.apply(this,arguments)}()}),5e3)}function At(e){Me(!0),nt.current=e;var t=mt?[mt]:s;Ie(!0),xe(null),Ae([]),Ke(!1),wp.ajax.post("igd_search_files",{folders:t,sort:vt,fileNumbers:h,keyword:e,accountId:ve.id,isPrivate:c,fullTextSearch:null==y?void 0:y.fullTextSearch,filters:d}).done((function(t){var n=t.files,i=t.error;if(i)Swal.fire({html:i,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{if(s){var r=s.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=[].concat(zi(r),zi(n))}be(n)}})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){Ie(!1)})),_&&_.searchNotification&&wp.ajax.post("igd_notification",{files:t,keyword:e,notifications:_,type:"search"})}Gi((function(){!Nt||(null==mt?void 0:mt.pageNumber)>1||Ot(mt,"refresh")}),[Nt]),Gi((function(){if(s&&Te){var e=Object.keys(Te),t=mt&&mt.id?mt.id:mt,i=!!e&&e.findIndex((function(e){return e===t}));if(n&&(e.find((function(e){return e===n.id}))&&delete Te[n.id],e[e.length-1]===n.id&&Le({})),-1!==i)for(var r=function(t){if(s.find((function(n){return n.id===e[t]})))return"break";delete Te[e[t]]},a=0;a<i;a++){if("break"===r(a))break}}}),[Te]),Gi((function(){if(Et)if(r){var e;if(et){var t=[].concat(zi(a),zi(ye)),n=new Set;e=t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}else e=a.filter((function(e){return!ye.some((function(t){return t.id===e.id}))}));o(e)}else me||r||Ae(et?ye:[])}),[et]),Gi((function(){Et&&(tt(!1),Ae([]))}),[mt]);var Ft,kt=Ji((function(){return"igd-context-menu-".concat(Date.now())}),[]),xt=(Ft={id:kt},{show:function(e,t){In.show({id:(null==t?void 0:t.id)||(null==Ft?void 0:Ft.id),props:(null==t?void 0:t.props)||(null==Ft?void 0:Ft.props),event:e,position:null==t?void 0:t.position})},hideAll:function(){In.hideAll()}}),Pt=xt.show,jt=xt.hideAll;return Gi((function(){var e=function(){ReactTooltip.hide(),jt()},t=document.querySelector(".igd-shortcode-builder-form");return t&&t.addEventListener("scroll",e),function(){t&&t.removeEventListener("scroll",e)}}),[]),0!==Object.keys(igd.accounts).length?React.createElement(i,{value:{shortcodeId:t,activeAccount:ve,activeFiles:Ce,setActiveFiles:Ae,activeFile:ke,setActiveFile:xe,activeFolder:mt,permissions:y,notifications:_,shortcodeBuilderType:u,isList:bt,setIsList:_t,setShowDetails:st,setIsUpload:Ke,getFiles:Ot,isShortcodeBuilder:r,isMobile:We,setActiveAccount:he,allFolders:l,initFolders:s,isSearch:ue,setShowSidebar:Je,sort:vt,setSort:ht,setFiles:be,setAllFiles:Se,breadcrumbs:Te,setActiveFolder:gt,isSearchResults:Ue,setIsSearchResults:Me,isOptions:Xe,setIsOptions:Ze,listFiles:Ct,showBreadcrumbs:D,showRefresh:k,showSorting:P,initParentFolder:n,isUpload:He,isLoading:je,files:ye,allFiles:Ne,selectedFolders:a,setSelectedFolders:o,filters:d,showLastModified:f,showFileSizeField:v,setShouldRefresh:St,galleryLayout:T,galleryAspectRatio:L,galleryColumns:B,galleryHeight:U,galleryMargin:M,galleryView:W,galleryFolderView:q,thumbnailCaption:Q,galleryOverlay:J,galleryOverlayTitle:Y,galleryOverlayDescription:X,galleryOverlaySize:Z,show:Pt,hideAll:jt,contextMenuId:kt,isSelectFiles:$,selectionType:ee,selectAll:et,setSelectAll:tt,searchFiles:At,initialSearchTerm:te,searchKeywordRef:nt,searchKeyword:rt,setSearchKeyword:at,isLMS:ne,lazyLoad:re,lazyLoadNumber:oe}},React.createElement("div",{className:"igd-file-browser"},React.createElement(Ti,null),(O||ue)&&React.createElement(fe,null),React.createElement("div",{className:"igd-file-browser-body"},Ge&&React.createElement(Re,null),React.createElement(sn,null),!r&&ct&&React.createElement(En,null)))):React.createElement(Li,null)}Zi=Zi||igd.isAdmin;var er=React.createContext();const tr=er;var nr=er.Provider;function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ar=window.MediaElementPlayer,or=React,lr=or.useState,cr=or.useEffect,sr=or.useRef,dr=or.useCallback;const ur=function(e){var t=e.file,n=e.preload,i=e.isPlaying,r=e.setIsPlaying,a=e.playNext,o=e.playPrev,l=e.toggleLoop,c=e.toggleShuffle,s=e.togglePlaylist,d=e.handleDownload,u=e.nextPrevious,m=e.showShuffle,g=e.download,f=e.showLoop,p=e.playableItems,v=e.showPlaylist,h=e.playlistAutoplay,w=sr(null),y=ir(lr(null),2),b=y[0],_=y[1],E=t||{},R=E.id,N=E.accountId,S=t&&O(t),C="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(R,"&accountId=").concat(N),A=t&&P(t,"large");cr((function(){if(ar){var e=w.current.querySelector("video, audio"),t={enableAutosize:!0,success:function(e,t,n){e.addEventListener("playing",(function(){r("play")})),e.addEventListener("pause",(function(){r("pause")})),e.addEventListener("ended",(function(){h&&a(!0)})),e.addEventListener("waiting",(function(){r(!0)}))},error:function(e,t){r("pause")}},n=new ar(e,t);_(n);var i=n.id;if(u&&null===w.current.querySelector(".mejs-previous-button")){var y=document.createElement("div");y.className="mejs-button mejs-previous-button",y.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Prev" aria-label="Prev" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"/></svg></button>'),y.addEventListener("click",o);var E=document.createElement("div");E.className="mejs-button mejs-next-button",E.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Next" aria-label="Next" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"/></svg></button>'),E.addEventListener("click",(function(){return a()})),n.addControlElement(E,"previous"),n.addControlElement(y,"next")}if(f&&null===w.current.querySelector(".mejs-loop-button")){var R=document.createElement("div");R.className="mejs-button mejs-loop-button",R.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Loop" aria-label="Loop" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M176 112h211.8l-62.05 51.72c-6.781 5.656-7.703 15.75-2.047 22.53C326.9 190 331.4 192 336 192c3.609 0 7.234-1.219 10.23-3.719l96-80C445.9 105.3 448 100.7 448 95.1s-2.109-9.248-5.75-12.28l-96-80c-6.797-5.688-16.89-4.719-22.55 2.031c-5.656 6.781-4.734 16.88 2.047 22.53L387.8 80H176C78.95 80 0 158.1 0 255.1C0 264.8 7.156 272 16 272S32.01 264.8 32.01 256C32.01 176.6 96.59 112 176 112zM496 240c-8.844 0-16.01 7.156-16.01 16c0 79.41-64.59 144-143.1 144H124.2l62.05-51.72c6.781-5.656 7.703-15.75 2.047-22.53C182.7 319 172.6 318.1 165.8 323.7l-96 80C66.11 406.8 64 411.2 64 415.1s2.109 9.25 5.75 12.28l96 80C168.8 510.8 172.4 512 175.1 512c4.594 0 9.141-1.969 12.31-5.75c5.656-6.781 4.734-16.88-2.047-22.53L124.2 432H336c97.05 0 176-78.97 176-176C512 247.2 504.8 240 496 240z"/></svg></button>'),R.addEventListener("click",l),n.addControlElement(R,"loop")}if(m&&null===w.current.querySelector(".mejs-shuffle-button")){var N=document.createElement("div");N.className="mejs-button mejs-shuffle-button",N.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Shuffle" aria-label="Shuffle" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 128v-8c0-6.6 5.4-12 12-12h105.8c3.3 0 6.5 1.4 8.8 3.9l89.7 97-21.8 23.6L109 140H12c-6.6 0-12-5.4-12-12zm502.6 278.6l-64 64c-20.1 20.1-54.6 5.8-54.6-22.6v-44h-25.7c-3.3 0-6.5-1.4-8.8-3.9l-89.7-97 21.8-23.6L367 372h17v-52c0-28.5 34.5-42.7 54.6-22.6l64 64c12.5 12.5 12.5 32.7 0 45.2zm-19.8-25.4l-64-64c-2.5-2.5-6.8-.7-6.8 2.8v128c0 3.6 4.3 5.4 6.8 2.8l64-64c1.6-1.5 1.6-4.1 0-5.6zm19.8-230.6l-64 64c-20.1 20.1-54.6 5.8-54.6-22.6v-52h-17L126.6 400.1c-2.3 2.5-5.5 3.9-8.8 3.9H12c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h97l240.4-260.1c2.3-2.5 5.5-3.9 8.8-3.9H384V64c0-28.5 34.5-42.7 54.6-22.6l64 64c12.5 12.5 12.5 32.7 0 45.2zm-19.8-25.4l-64-64c-2.5-2.5-6.8-.7-6.8 2.8v128c0 3.6 4.3 5.4 6.8 2.8l64-64c1.6-1.5 1.6-4.1 0-5.6z"/></svg></button>'),N.addEventListener("click",c),n.addControlElement(N,"shuffle")}if(g&&null===w.current.querySelector(".mejs-playlist-button")){var S=document.createElement("div");S.className="mejs-button mejs-download-button",S.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Download" aria-label="Download" tabindex="0"><svg  width="18" height="18" fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M245.4 379.1C248.4 382.7 252.2 384 256 384s7.594-1.344 10.62-4.047l144-128c6.594-5.859 7.219-15.98 1.344-22.58c-5.875-6.625-16.06-7.234-22.59-1.328L272 332.4V16C272 7.156 264.8 0 256 0S240 7.156 240 16v316.4L122.6 228C116.1 222.1 105.9 222.8 100 229.4C94.16 235.1 94.78 246.1 101.4 251.1L245.4 379.1zM448 320h-48c-8.836 0-16 7.162-16 16c0 8.836 7.164 16 16 16H448c17.67 0 32 14.33 32 32v64c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32v-64c0-17.67 14.33-32 32-32h48C120.8 352 128 344.8 128 336C128 327.2 120.8 320 112 320H64c-35.35 0-64 28.65-64 64v64c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64v-64C512 348.7 483.3 320 448 320zM440 416c0-13.25-10.75-24-24-24s-24 10.75-24 24s10.75 24 24 24S440 429.3 440 416z"/></svg></button>'),S.addEventListener("click",d),n.addControlElement(S,"download")}if(v&&p.length>1&&null===w.current.querySelector(".mejs-playlist-button")){var O=document.createElement("div");O.className="mejs-button mejs-playlist-button",O.innerHTML='<button type="button" aria-controls="'.concat(i,'" title="Playlist" aria-label="Playlist" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M16 223.1h256c8.801 0 16-7.201 16-16c0-8.801-7.199-16-16-16h-256c-8.799 0-16 7.201-16 16C0 216.8 7.201 223.1 16 223.1zM16 95.99h256c8.801 0 16-7.201 16-16c0-8.801-7.199-16-16-16h-256c-8.799 0-16 7.199-16 16C0 88.79 7.201 95.99 16 95.99zM144 319.1h-128c-8.799 0-16 7.201-16 16c0 8.801 7.201 16 16 16h128c8.801 0 16-7.201 16-16C160 327.2 152.8 319.1 144 319.1zM498.8 6.162C493.3 2.176 486.6 .0156 480 0c-3.354-.0078-6.727 .5195-10 1.611l-96.62 31.88C360.8 37.74 352 49.99 352 63.99v312.1c-20.38-14.88-48.63-24.13-80-24.13c-61.88 0-112 35.88-112 80C160 476.1 210.1 512 272 512s112-35.88 112-80V191.1l106.1-35.38C503.1 152.2 512 139.1 512 126.2V31.96C512 21.71 507.1 12.16 498.8 6.162zM272 479.1c-47.13 0-80-25.25-80-48c0-22.75 32.88-47.1 80-47.1s80 25.25 80 48C352 454.7 319.1 479.1 272 479.1zM480 126.2l-96 32l.0469-94.17L383.5 63.99L480 31.99V126.2z"/></svg></button>'),O.addEventListener("click",s),n.addControlElement(O,"playlist")}return function(){b&&_(null)}}}),[t]);var F=I();cr((function(){F&&b&&"play"!==i&&"pause"!==i&&(i?b.play():b.pause())}),[i,b]);var k=dr((function(){var e=w.current.querySelectorAll(".igd-player-media, video");if(e.length){var t=w.current.offsetWidth,n=w.current.offsetHeight;e.forEach((function(e){e.style.width="".concat(t,"px"),e.style.height="".concat(n,"px")}))}}),[]);cr((function(){if(w.current){var e=new ResizeObserver(k);return e.observe(w.current),function(){e.disconnect()}}}),[w.current,k]);var x=S?'<audio src="'.concat(C,'" width="100%" controls></audio>'):'<video class="igd-player-media-video" src="'.concat(C,'" width="100%" height="100%" controls  poster=').concat(A," ").concat(n?' preload="'.concat(n,'"'):"","></video>");return React.createElement("div",{className:"igd-player-media-wrap",ref:w,dangerouslySetInnerHTML:{__html:x}})};function mr(e){var t=e.files,n=e.searchKeywordRef,i=t.length?t.length:wp.i18n.__("No","integrate-google-drive"),r=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(n.current,"</strong>"),i);return React.createElement("div",{className:"search-result-info"},React.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),React.createElement("button",{onClick:function(e){document.querySelector(".search-dismiss").click()},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pr=React,vr=pr.useState,hr=pr.useRef,wr=pr.useEffect;pr.useContext;function yr(e){var t=e.initFolders,n=e.initParentFolder,i=e.sort,r=e.filters,a=e.privateFolders,o=e.setFiles,l=e.fullTextSearch,c=e.initialSearchTerm,s=e.isSearchResults,d=e.setIsSearchResults,u=e.searchKeywordRef,m=e.notifications,g=e.isLoading,f=e.setIsLoading,p=gr(vr(c),2),v=p[0],h=p[1],w=hr(null),y=gr(vr(!1),2),_=y[0],E=y[1],R=hr(),S=gr(vr(!!c),2),O=S[0],C=S[1],A=function(e){var c;f(!0),d(!0),u.current=e;var s=n?[n]:t;wp.ajax.post("igd_search_files",{folders:s,sort:i,keyword:e,accountId:null===(c=s[0])||void 0===c?void 0:c.accountId,isPrivate:a,fullTextSearch:l,filters:r}).done((function(e){var t=e.files,n=e.error;n?Swal.fire({html:n,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}}):(t=t.filter((function(e){return b(e)||N(e)})),o(t))})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){f(!1)})),m&&m.searchNotification&&wp.ajax.post("igd_notification",{files:s,keyword:e,notifications:m,type:"search"})},F=function(e){if(e&&e.preventDefault(),E(!1),!v)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void E(!0);A(v)},k=I();return wr((function(){if(k&&v&&!(v.length<4))return w.current=setTimeout((function(){F()}),2e3),function(){clearTimeout(w.current)}}),[v]),wr((function(){R.current.addEventListener("keydown",(function(e){" "===e.key&&e.stopPropagation()}),!0),c&&A(c)}),[]),React.createElement("form",{ref:R,className:"playlist-search ".concat(O?"active":""," ").concat(_?"error":""),onSubmit:F},g&&React.createElement("div",{className:"igd-spinner"}),s&&!g&&React.createElement("div",{className:"search-dismiss",onClick:function(){C(!O),h(""),E(!1),d(!1),o(t)}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search in the playlist","integrate-google-drive"),value:v,onChange:function(e){h(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;O?F():(C(!0),null===(e=R.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{width:"18",height:"18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})),React.createElement(ReactTooltip,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Er=React.useState;function Rr(e){var t=e.file,n=e.files,i=e.setFile,r=e.folderFiles,a=e.getFolderFiles,o=e.isSub,l=e.isPlaying,c=e.setIsPlaying,s=e.download,d=e.activeFolder,u=e.setActiveFolder,m=e.playlistThumbnail,g=e.playlistNumber,f=e.allowSearch,p=e.initParentFolder,v=e.initFolders,h=e.filters,w=e.privateFolders,_=e.fullTextSearch,E=e.initialSearchTerm,R=e.sort,O=e.setFiles,C=e.isSearchResults,A=e.setIsSearchResults,F=e.searchKeywordRef,k=e.notifications,x=br(Er(!1),2),j=x[0],I=x[1];return React.createElement("div",{className:o?"sub-item":"igd-player-playlist"},!o&&f&&React.createElement(React.Fragment,null,React.createElement(yr,{initFolders:v,initParentFolder:p,filters:h,sort:R,privateFolders:w,setFiles:O,fullTextSearch:_,initialSearchTerm:E,isSearchResults:C,setIsSearchResults:A,searchKeywordRef:F,isLoading:j,setIsLoading:I,notifications:k}),C&&!j&&React.createElement(mr,{files:n,searchKeywordRef:F})),n.length>0&&n.map((function(e,n){var o=e.id,x=e.name,j=e.size,I=P(e,"icon"),D=b(e);if(D||N(e)){var T=o===d,L=(null==t?void 0:t.id)===o;return React.createElement("div",{key:o,className:"playlist-item-wrap"},React.createElement("div",{className:"playlist-item ".concat(L?"active":""),onClick:function(n){if(D){if(u(!T&&o),r[o])return;a(e)}else if(t&&t.id===o)c(!l||"pause"===l);else if(c(!0),i(e),S(e)){var s=n.target.closest(".igd-player");s&&(s.classList.contains("playlist-bottom")||window.innerWidth<768)&&s.scrollIntoView({behavior:"smooth"})}}},g&&React.createElement("span",{className:"item-index"},String(n+1).padStart(2,"0"),"."),D&&(!T||!!r[o])&&React.createElement("span",{className:"dashicons ".concat(T?"dashicons-arrow-down":"dashicons-arrow-right")}),T&&!r[o]&&React.createElement("div",{className:"igd-spinner"}),m&&React.createElement("img",{src:I,alt:x}),React.createElement("span",{className:"item-name"},x),!D&&s&&!!j&&React.createElement("span",{className:"item-size"},y(j)),!D&&L&&l&&"pause"!==l&&React.createElement("span",{className:"dashicons dashicons-controls-pause"}),!D&&(!L||!l||"pause"===l)&&React.createElement("span",{className:"dashicons dashicons-controls-play"})),T&&!!r[o]&&React.createElement(Rr,{isSub:!0,files:r[o],file:t,setFile:i,folderFiles:r,getFolderFiles:a,isPlaying:l,setIsPlaying:c,download:s,activeFolder:d,setActiveFolder:u,playlistThumbnail:m,playlistNumber:g,allowSearch:f,initParentFolder:p,initFolders:v,filters:h,privateFolders:w,fullTextSearch:_,initialSearchTerm:E,sort:R,setFiles:O,isSearchResults:C,setIsSearchResults:A,searchKeywordRef:F,notifications:k}))}})))}function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Sr(e){return function(e){if(Array.isArray(e))return xr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Nr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Nr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||kr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){if(e){if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pr=React,jr=Pr.useState,Ir=Pr.useEffect,Dr=Pr.useRef;function Tr(e){var t=e.initFolders,n=void 0===t?[]:t,i=e.showLoop,r=e.showShuffle,a=e.nextPrevious,o=e.download,l=e.sort,c=e.allowSearch,s=e.initParentFolder,d=e.filters,u=e.privateFolders,m=e.fullTextSearch,g=void 0===m||m,f=e.initialSearchTerm,p=e.showPlaylist,v=void 0===p||p,h=e.openedPlaylist,w=void 0===h||h,y=e.playlistPosition,_=void 0===y?"bottom":y,E=e.notifications,R=e.playlistThumbnail,C=e.playlistAutoplay,A=e.playlistNumber,F=Fr(jr(n),2),k=F[0],x=F[1],j=Fr(jr(n.filter((function(e){return N(e)}))),2),D=j[0],T=j[1],L=Fr(jr(D.length?D[0]:null),2),B=L[0],U=L[1],M=Fr(jr(null),2),z=M[0],H=M[1],K=Fr(jr(v&&w),2),V=K[0],W=K[1],q=Dr(f),Q=Fr(jr(!1),2),G=Q[0],J=Q[1];Ir((function(){k.length&&T(n.filter((function(e){return!b(e)})))}),[k]);var Y=Fr(jr({}),2),X=Y[0],Z=Y[1],$=Fr(jr(!1),2),ee=$[0],te=$[1],ne=B&&S(B),ie=Dr("true"===localStorage.getItem("igd_is_loop")),re=Fr(jr(ie.current),2),ae=re[0],oe=re[1],le=Dr("true"===localStorage.getItem("igd_is_shuffle")),ce=Fr(jr(le.current),2),se=ce[0],de=ce[1],ue=B?D.findIndex((function(e){return e.id===B.id})):0,me=Dr(null),ge=I();Ir((function(){ge&&E&&E.playNotification&&wp.ajax.post("igd_notification",{files:[B],notifications:E,type:"play"})}),[B]);var fe=B&&O(B);return React.createElement("div",{ref:me,className:"\n                igd-player \n                playlist-".concat(_,"\n               \n                ").concat(ne?"type-video":"type-audio"," \n                ").concat(ee?"active":"paused"," \n                ").concat(ae?"is-loop":"","\n                ").concat(V?"is-playlist":"","\n                ").concat(se?"is-shuffle":"","\n            ")},React.createElement("div",{className:"media-wrap"},fe&&React.createElement("div",{className:"current-item"},React.createElement("img",{src:P(B,"thumbnail"),alt:B.name}),React.createElement("div",{className:"item-caption"},React.createElement("span",{className:"item-title"},B.name),!!B.description&&React.createElement("span",{className:"item-description"},B.description))),B&&React.createElement(ur,{file:B,isPlaying:ee,setIsPlaying:te,playNext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(te(!0),!e||!ie.current){var t=ue+1<D.length?D[ue+1]:D[0];le.current&&(t=D[Math.floor(Math.random()*D.length)]),U(t)}},playPrev:function(){te(!0),U(ue-1>=0?D[ue-1]:D[D.length-1])},download:o,showPlaylist:v,togglePlaylist:function(){return W((function(e){return!e}))},nextPrevious:a,showShuffle:r,showLoop:i,toggleLoop:function(){oe((function(e){return ie.current=!e,localStorage.setItem("igd_is_loop",e?"false":"true"),!e}))},toggleShuffle:function(){de((function(e){return le.current=!e,localStorage.setItem("igd_is_shuffle",e?"false":"true"),!e}))},playableItems:D,handleDownload:function(){var e="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(B.id,"&accountId=").concat(B.accountId);window.open(e,"_blank").focus(),E&&E.downloadNotification&&wp.ajax.post("igd_notification",{files:[B],notifications:E,type:"download"})},playlistAutoplay:C})),V&&React.createElement(Rr,{file:B,files:k,setFile:U,folderFiles:X,getFolderFiles:function(e){wp.ajax.post("igd_get_files",{data:{folder:e,sort:l,filters:d}}).done((function(t){var n=t.files;n=n.filter((function(e){return N(e)||b(e)})),Z((function(t){return Cr(Cr({},t),{},Ar({},e.id?e.id:e,n))})),T((function(e){return[].concat(Sr(e),Sr(n.filter((function(e){return!b(e)}))))}))}))},isPlaying:ee,setIsPlaying:te,download:o,activeFolder:z,setActiveFolder:H,playlistThumbnail:R,playlistNumber:A,allowSearch:c,initParentFolder:s,initFolders:n,filters:d,privateFolders:u,fullTextSearch:g,initialSearchTerm:f,sort:l,setFiles:x,isSearchResults:G,setIsSearchResults:J,searchKeywordRef:q,notifications:E}))}function Lr(e){var t=e.initFolders,n=e.slideName,i=e.slideDescription,r=e.slideHeight,a=e.slidesToShow,o=e.slideAutoplay,l=e.slideAutoplaySpeed,c=e.slideDots,s=e.slideArrows,d=e.download,u=e.preview,m=e.notifications,g=t.filter((function(e){return!b(e)&&!!e.thumbnailLink})),f={dots:c,arrows:s,speed:500,slidesToShow:a<g.length?parseInt(a):g.length,slidesToScroll:a<g.length?parseInt(a):g.length,infinite:!0,initialSlide:0,autoplay:o,autoplaySpeed:parseInt(l),cssEase:"linear",nextArrow:React.createElement("button",{type:"button",className:"slick-arrow slick-next"}),prevArrow:React.createElement("button",{type:"button",className:"slick-arrow slick-prev"}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]};return React.createElement("div",{className:"igd-slider",style:{"--slide-height":r}},React.createElement(Slider.default,f,g.map((function(e,t){var r=e.id,a=e.accountId,o=e.name,l=e.description,c=P(e,"gallery");return React.createElement(React.Fragment,null,React.createElement("div",{className:"slider-img-wrap"},React.createElement("img",{referrerPolicy:"no-referrer",src:c,alt:o})),React.createElement("div",{className:"slider-content-wrap"},n&&React.createElement("h3",null,o),i&&!!l&&React.createElement("p",null,l),React.createElement("div",{className:"slider-actions"},u&&React.createElement("button",{className:"igd-btn btn-primary",onClick:function(e){return function(e,t){D(e,t,g,{download:d,preview:u,inlinePreview:!0,notifications:m})}(e,r)}},React.createElement("i",{className:"dashicons dashicons-search"})),d&&React.createElement("button",{className:"igd-btn btn-primary",onClick:function(e){return function(e,t){if(m&&m.downloadNotification){var n=g.find((function(t){return t.id===e}));wp.ajax.post("igd_notification",{files:[n],notifications:m,type:"download"})}var i="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(e,"&accountId=").concat(t);window.location.href=i}(r,a)}},React.createElement("i",{className:"dashicons dashicons-download"})))))}))))}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mr=React,zr=Mr.useEffect,Hr=Mr.useState;function Kr(e){var t=e.data,n=e.isPreview,r=Br(Hr(!1),2),a=r[0],o=r[1],l=Br(Hr(""),2),c=l[0],s=l[1],d=t.id,u=t.type,m=t.allFolders,g=t.privateFolders,f=void 0!==g&&g,p=t.folders,v=void 0===p?[]:p,h=t.filters,w=t.galleryLayout,y=void 0===w?"justified":w,_=t.galleryAspectRatio,R=void 0===_?"1/1":_,S=t.galleryColumns,O=void 0===S?{xs:1,sm:2,md:3,lg:4,xl:5}:S,C=t.galleryHeight,A=void 0===C?300:C,F=t.galleryMargin,k=void 0===F?5:F,x=t.galleryView,P=void 0===x?"rounded":x,j=t.galleryFolderView,I=void 0===j?"title":j,D=t.galleryOverlay,L=void 0===D||D,B=t.galleryOverlayTitle,U=void 0===B||B,M=t.galleryOverlayDescription,z=void 0===M||M,H=t.galleryOverlaySize,K=void 0!==H&&H,V=t.view,W=t.lazyLoad,q=void 0===W||W,Q=t.lazyLoadNumber,G=void 0===Q?100:Q,J=t.showLastModified,Y=void 0!==J&&J,X=t.showFileSizeField,Z=void 0===X||X,$=t.showHeader,ee=void 0===$||$,te=t.showRefresh,ne=void 0===te||te,ie=t.showSorting,re=void 0===ie||ie,ae=t.showBreadcrumbs,oe=void 0===ae||ae,le=t.showLoop,ce=t.showShuffle,se=t.nextPrevious,de=void 0===se||se,ue=t.showPlaylist,me=void 0===ue||ue,ge=t.playlistThumbnail,fe=void 0===ge||ge,pe=t.playlistNumber,ve=void 0===pe||pe,he=t.playlistAutoplay,we=void 0===he||he,ye=t.openedPlaylist,be=void 0===ye||ye,_e=t.playlistPosition,Ee=void 0===_e?"bottom":_e,Re=t.fileNumbers,Ne=t.sort,Se=t.maxFiles,Oe=t.maxFileSize,Ce=t.minFileSize,Ae=t.notifications,Fe=t.preview,ke=void 0===Fe||Fe,xe=t.inlinePreview,Pe=void 0===xe||xe,je=t.allowPreviewPopout,Ie=void 0===je||je,De=t.directLink,Te=void 0!==De&&De,Be=t.createDoc,Ue=void 0!==Be&&Be,Me=t.edit,ze=void 0!==Me&&Me,He=t.newFolder,Ke=void 0!==He&&He,Ve=t.rename,We=void 0!==Ve&&Ve,qe=t.details,Qe=void 0!==qe&&qe,Ge=t.moveCopy,Je=t.moveCopy,Ye=t.canDelete,Xe=void 0!==Ye&&Ye,Ze=t.upload,$e=void 0!==Ze&&Ze,et=t.download,tt=void 0===et||et,nt=t.zipDownload,it=void 0!==nt&&nt,rt=t.allowShare,at=void 0!==rt&&rt,ot=t.viewSwitch,lt=void 0===ot||ot,ct=t.allowSearch,st=void 0===ct?"search"===u:ct,dt=t.fullTextSearch,ut=void 0===dt||dt,mt=t.initialSearchTerm,gt=void 0===mt?"":mt,ft=t.comment,pt=void 0!==ft&&ft,vt=t.commentMethod,ht=void 0===vt?"facebook":vt,wt=t.photoProof,yt=void 0!==wt&&wt,bt=t.photoProofEmail,_t=t.uploadImmediately,Et=t.isFormUploader,Rt=t.isRequired,Nt=t.isWooCommerceUploader,St=t.wcOrderId,Ot=t.wcItemId,Ct=t.wcProductId,At=t.uploadedFiles,Ft=void 0===At?[]:At,kt=t.initParentFolder,xt=t.enableFolderUpload,Pt=t.overwrite,jt=t.showUploadLabel,It=t.uploadLabelText,Dt=void 0===It?wp.i18n.__("Upload Files","integrate-google-drive"):It,Tt=t.uploadFileName,Lt=t.showUploadConfirmation,Bt=void 0===Lt||Lt,Ut=t.uploadConfirmationMessage,Mt=void 0===Ut?"<h3>Upload successful!</h3><p>Your file(s) have been uploaded. Thank you for your submission!</p>":Ut,zt=t.slideName,Ht=void 0===zt||zt,Kt=t.slideDescription,Vt=t.slideHeight,Wt=void 0===Vt?"300px":Vt,qt=t.slidesToShow,Qt=void 0===qt?3:qt,Gt=t.slidesToScroll,Jt=void 0===Gt?1:Gt,Yt=t.slideAutoplay,Xt=t.slideAutoplaySpeed,Zt=void 0===Xt?3e3:Xt,$t=t.slideDots,en=void 0===$t||$t,tn=t.slideArrows,nn=void 0===tn||tn,rn=t.account,an=m?E():v;return zr((function(){n&&(o(!0),wp.ajax.post("igd_get_shortcode_content",{data:t}).done((function(e){return s(e)})).fail((function(e){})).always((function(){o(!1),setTimeout((function(){T()}),100)})))}),[n,t]),React.createElement(React.Fragment,null,n&&a&&React.createElement("div",{className:"igd-spinner spinner-large"}),n&&!a&&React.createElement("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:c}}),!n&&React.createElement(React.Fragment,null,["browser","gallery","search"].includes(u)&&React.createElement($i,{shortcodeId:d,account:rn,galleryLayout:y,galleryAspectRatio:R,galleryColumns:O,galleryOverlay:L,galleryOverlayTitle:U,galleryOverlayDescription:z,galleryOverlaySize:K,galleryHeight:A,galleryMargin:k,galleryView:P,galleryFolderView:I,initParentFolder:kt,allFolders:m,privateFolders:f,initFolders:an,filters:h,isList:"list"===V,lazyLoad:q,lazyLoadNumber:G,showLastModified:Y,showFileSizeField:Z,showHeader:ee,showRefresh:ne,showSorting:re,showBreadcrumbs:oe,fileNumbers:Re,sort:Ne,shortcodeBuilderType:u,initialSearchTerm:gt,permissions:{preview:ke,inlinePreview:Pe,allowPreviewPopout:Ie,directLink:Te,newFolder:Ke,rename:We,move:Je,copy:Ge,upload:$e,download:tt,zipDownload:it,details:Qe,view:lt,delete:Xe,share:at,allowSearch:st,createDoc:Ue,edit:ze,fullTextSearch:ut,comment:pt,commentMethod:ht,photoProof:yt,photoProofEmail:bt},notifications:Ae}),"slider"===u&&React.createElement(Lr,{initFolders:an,slideName:Ht,slideDescription:Kt,slideHeight:Wt,slidesToShow:Qt,slidesToScroll:Jt,slideAutoplay:Yt,slideAutoplaySpeed:Zt,slideDots:en,slideArrows:nn,download:t.download,preview:t.preview,notifications:Ae}),"uploader"===u&&React.createElement(i,{value:{account:rn,folders:v,filters:h,maxFiles:Se,maxFileSize:Oe,minFileSize:Ce,enableFolderUpload:xt,isFormUploader:Et,isRequired:Rt,showUploadLabel:jt,uploadLabelText:Dt,uploadFileName:Tt,isWooCommerceUploader:Nt,wcOrderId:St,wcItemId:Ot,wcProductId:Ct,notifications:Ae,initUploadedFiles:Ft,uploadImmediately:_t,overwrite:Pt,showUploadConfirmation:Bt,uploadConfirmationMessage:Mt}},React.createElement(Le,null)),"media"===u&&React.createElement(Tr,{initParentFolder:kt,initFolders:an.filter((function(e){return N(e)||b(e)})),showLoop:le,showShuffle:ce,nextPrevious:de,showPlaylist:me,playlistThumbnail:fe,playlistNumber:ve,playlistAutoplay:we,openedPlaylist:be,playlistPosition:Ee,download:t.download,sort:Ne,filters:h,privateFolders:f,allowSearch:st,fullTextSearch:ut,initialSearchTerm:gt,notifications:Ae})))}function Vr(e){var t=e.data,n=e.onClose;return React.createElement("div",{className:"igd-shortcode-preview-wrap"},React.createElement("div",{className:"igd-shortcode-preview-header"},React.createElement("div",{className:"header-title"},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Shortcode Preview","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:n},React.createElement("i",{className:"dashicons dashicons-no"}))),React.createElement(Kr,{data:t,isPreview:!0}))}function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Wr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=React,Yr=Jr.useContext,Xr=Jr.useEffect;function Zr(){var e=Yr(tr),t=e.edit,n=e.setEdit,i=e.editData,r=e.updateShortcode,a=e.setEditData,o=e.updating,l=e.deleteShortcode,c=i.title,s=i.id,d=i.folders,u=i.allFolders,m=!!d&&!!d.length||!!u;Xr((function(){"-1"==t&&document.getElementById("shortcode-title").focus()}),[t]);return React.createElement("div",{className:"igd-shortcode-builder-header ".concat(t?"is-edit":"")},React.createElement("div",{className:"header-title"},React.createElement("img",{src:igd.pluginUrl+"/assets/images/shortcode-builder/shortcode-icon.svg",alt:"Shortcode Builder"}),t?React.createElement(React.Fragment,null,React.createElement("label",{htmlFor:"shortcode-title"},s>0?wp.i18n.__("Edit Shortcode","integrate-google-drive"):wp.i18n.__("Add New Shortcode","integrate-google-drive")),React.createElement("input",{type:"text",onChange:function(e){return a((function(t){return Qr(Qr({},t),{},{title:e.target.value})}))},value:c,className:"shortcode-title",id:"shortcode-title"})):React.createElement("span",null,wp.i18n.__("Shortcode Builder","integrate-google-drive"))),React.createElement("div",{className:"header-actions"},t?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",className:"igd-btn btn-back",onClick:function(){q(),n(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive"))),!!s&&s>0&&React.createElement("button",{"data-tip":wp.i18n.__("Delete Shortcode","integrate-google-drive"),"data-for":"delete",type:"button",className:"igd-btn btn-danger btn-delete",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,focusCancel:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal"},preConfirm:function(){return l(s,!0)}})}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive")),React.createElement(ReactTooltip,{id:"delete",effect:"solid",place:"top",className:"igd-tooltip"})),React.createElement("button",{type:"button","data-tip":!0,"data-for":"previewShortcode",className:"igd-btn btn-info btn-preview ".concat(m?"":"disabled"),onClick:function(){var e;m&&(e=i,Swal.fire({html:'<div id="igd-shortcode-preview" class="igd-shortcode-preview"></div>',showConfirmButton:!1,customClass:{popup:"igd-shortcode-preview-popup",container:"igd-shortcode-preview-container"},didOpen:function(){var t=document.getElementById("igd-shortcode-preview");ReactDOM.render(React.createElement(Vr,{data:e,onClose:function(){return Swal.close()}}),t)},willClose:function(){var e=document.getElementById("igd-shortcode-preview");ReactDOM.unmountComponentAtNode(e)}}))}},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Preview","integrate-google-drive"))),React.createElement(ReactTooltip,{id:"previewShortcode",getContent:function(){return m?wp.i18n.__("Preview Shortcode","integrate-google-drive"):wp.i18n.__("No files selected","integrate-google-drive")},effect:"solid",place:"top",backgroundColor:m?"#000":"#FDB837",className:"igd-tooltip"}),React.createElement("button",{type:"button",className:"igd-btn btn-save btn-primary",onClick:function(){var e=new URL(window.location.href);e.searchParams.delete("id"),window.history.pushState({},"",e),r(i,!0)}},o?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Save","integrate-google-drive")))):React.createElement("button",{type:"button",className:"igd-btn btn-primary add-new-btn",onClick:function(){return n(-1)}},o?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add new shortcode","integrate-google-drive")))))}function $r(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ea(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ta=React.useMemo,na="...",ia=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))};const ra=function(e){var t=e.onPageChange,n=e.pageCount,i=e.siblingCount,r=void 0===i?1:i,a=e.currentPage,o=void 0===a?1:a,l=e.className,c=function(e){var t=e.pageCount,n=e.siblingCount,i=void 0===n?1:n,r=e.currentPage;return ta((function(){if(i+5>=t)return ia(1,t);var e=Math.max(r-i,1),n=Math.min(r+i,t),a=e>2,o=n<t-2,l=1,c=t;if(!a&&o){var s=ia(1,2+2*i);return[].concat($r(s),[na,t])}if(a&&!o){var d=ia(t-(2+2*i)+1,t);return[l,na].concat($r(d))}if(a&&o){var u=ia(e,n);return[l,na].concat($r(u),[na,c])}}),[t,i,r])}({pageCount:n,siblingCount:r,currentPage:o});if(0===o||c.length<2)return null;var s=c[c.length-1];return React.createElement("ul",{className:"pagination-container ".concat(l||"")},React.createElement("li",{className:"pagination-item ".concat(1===o?"disabled":""),onClick:function(){return 1!==o&&void t(o-1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.787 490.787"},React.createElement("pat",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}),React.createElement("path",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}))),c.map((function(e){return e===na?React.createElement("li",{key:e,className:"pagination-item dots"},"â€¦"):React.createElement("li",{key:e,className:"pagination-item ".concat(e===o?"selected":""),onClick:function(){return t(e)}},e)})),React.createElement("li",{className:"pagination-item ".concat(o===s?"disabled":""),onClick:function(){return o!==s&&void t(o+1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.8 490.8"},React.createElement("path",{d:"M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"}),React.createElement("path",{d:"M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"}))))};function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ca(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==aa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==aa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){if(e){if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ga=wp.components,fa=ga.FormToggle,pa=ga.CheckboxControl,va=ga.SelectControl,ha=window.ReactTooltip,wa=React,ya=wa.useContext,ba=wa.useState,_a=wa.useEffect;function Ea(){var e=ya(tr),t=e.shortcodes,n=e.deleteShortcode,i=e.setEdit,r=e.updateShortcode,a=e.duplicateShortcode,o=e.total,l=e.page,c=e.setPage,s=e.perPage,d=e.setPerPage,u=da(ba([]),2),m=u[0],g=u[1],f=F(),p=localStorage.getItem("igd_shortcode_list_columns"),v=da(ba(p?JSON.parse(p):["ID","type","status","shortcode","created"]),2),h=v[0],w=v[1];_a((function(){localStorage.setItem("igd_shortcode_list_columns",JSON.stringify(h))}),[h]);return React.createElement("div",{className:"igd-shortcode-list-wrap"},React.createElement("div",{className:"igd-shortcode-list-header"},React.createElement("h3",{className:"igd-shortcode-list-title"},wp.i18n.__("All Shortcodes","integrate-google-drive")),React.createElement("div",{className:"igd-list-column-settings"},React.createElement("i",{"data-tip":!0,"data-for":"column-settings-tooltip",className:"column-settings-icon dashicons dashicons-admin-generic"}),React.createElement(ha,{id:"column-settings-tooltip",effect:"solid",place:"left",event:"click",type:"light",clickable:!0,border:!0,scrollHide:!1,borderColor:"#ddd",className:"igd-tooltip",globalEventOff:"click"},React.createElement("div",{className:"settings-wrap settings-columns"},React.createElement("h4",null,wp.i18n.__("Columns","integrate-google-drive")),React.createElement("div",{className:"column-options"},["ID","type","status","shortcode","locations","created"].map((function(e,t){return React.createElement("div",{className:"igd-column-setting",key:t},React.createElement(pa,{label:e,checked:h.includes(e),onChange:function(){var t=h.includes(e)?h.filter((function(t){return t!==e})):[].concat(sa(h),[e]);w(t)}}))})))),React.createElement("div",{className:"settings-wrap settings-per-page"},React.createElement("h4",null,wp.i18n.__("Items Per Page","integrate-google-drive")),React.createElement(va,{value:s,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],onChange:function(e){d(e),c(1),localStorage.setItem("igd_shortcode_list_per_page",e)}}))))),!!m.length&&React.createElement("div",{className:"selection-actions-wrap"},React.createElement("div",{className:"selection-count"},m.length," ",wp.i18n.__("Item(s) selected","integrate-google-drive")),React.createElement("button",{className:"igd-btn btn-warning",onClick:function(){return g([])}},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Clear Selection","integrate-google-drive"))),React.createElement("button",{className:"igd-btn btn-info",onClick:function(){a(m),g([])}},React.createElement("i",{className:"dashicons dashicons-admin-page"}),React.createElement("span",null,wp.i18n.__("Duplicate","integrate-google-drive"))),React.createElement("button",{className:"igd-btn btn-danger",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You will not be able to recover this shortcode!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),reverseButtons:!0,customClass:{container:"igd-swal"}}).then((function(e){e.isConfirmed&&(m.forEach((function(e){n(e)})),g([]))}))}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive")))),React.createElement("table",{className:"igd-shortcode-list"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"col-selection"},React.createElement(pa,{checked:m.length===t.length,onChange:function(){m.length===t.length?g([]):g(t.map((function(e){return e.id})))}})),h.includes("ID")&&React.createElement("th",{className:"col-id"},wp.i18n.__("ID","integrate-google-drive")),React.createElement("th",{className:"col-title"},wp.i18n.__("Title","integrate-google-drive")),h.includes("type")&&React.createElement("th",{className:"col-shortcode-type"},wp.i18n.__("Type","integrate-google-drive")),h.includes("status")&&React.createElement("th",null,wp.i18n.__("Status","integrate-google-drive")),h.includes("shortcode")&&React.createElement("th",null,wp.i18n.__("Shortcode","integrate-google-drive")),h.includes("locations")&&React.createElement("th",null,wp.i18n.__("Locations","integrate-google-drive")),h.includes("created")&&React.createElement("th",null,wp.i18n.__("Created","integrate-google-drive")),React.createElement("th",null,wp.i18n.__("Actions","integrate-google-drive")))),React.createElement("tbody",null,t.map((function(e){var t=e.id,o=e.title,l=e.status,c=e.created_at,s=e.config,d=e.locations,u=f[null==s?void 0:s.type]?f[null==s?void 0:s.type].title:"";return React.createElement("tr",{className:"igd-shortcode-list-item"},React.createElement("td",{className:"col-selection"},React.createElement(pa,{checked:m.includes(t),onChange:function(){m.includes(t)?g(m.filter((function(e){return e!==t}))):g([].concat(sa(m),[t]))}})),h.includes("ID")&&React.createElement("td",{className:"col-id"},t),React.createElement("td",{className:"col-title"},o),h.includes("type")&&React.createElement("td",{className:"col-shortcode-type"},React.createElement("div",null,React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(s.type,".svg"),alt:o}),React.createElement("span",null,u))),h.includes("status")&&React.createElement("td",{className:"col-shortcode-status"},React.createElement(fa,{"data-tip":wp.i18n.__("Shortcode status","integrate-google-drive"),"data-for":"shortcodeStatus",checked:"on"===l,onChange:function(){r(la(la({},s),{},{id:t,status:"on"===l?"off":"on"}))}}),React.createElement(ha,{id:"shortcodeStatus",effect:"solid",place:"top",className:"igd-tooltip"})),h.includes("shortcode")&&React.createElement("td",{className:"col-code"},React.createElement("div",null,React.createElement("i",{"data-tip":wp.i18n.__("Copy shortcode","integrate-google-drive"),"data-for":"copyShortcode",className:"dashicons dashicons-admin-page",onClick:k}),React.createElement(ha,{id:"copyShortcode",effect:"solid",place:"top",className:"igd-tooltip"}),React.createElement("code",{onClick:k},'[integrate_google_drive id="'.concat(t,'"]')))),h.includes("locations")&&React.createElement("td",{className:"col-locations"},d&&d.length>0?React.createElement("div",{className:"shortcode-locations"},React.createElement("span",{"data-tip":!0,"data-for":"shortcodeLocations-".concat(t),className:"location-count"},d.length),React.createElement(ha,{id:"shortcodeLocations-".concat(t),effect:"solid",place:"top",delayHide:1e3,type:"light",clickable:!0,border:!0,scrollHide:!1,borderColor:"#ddd",className:"igd-tooltip locations-tooltip",globalEventOff:"click"},React.createElement("h3",null,wp.i18n.__("Shortcode Locations","integrate-google-drive")),d.map((function(e,t){return React.createElement("div",{key:t,className:"location-item"},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("span",{className:"location-index"},t+1,". "),React.createElement("span",{className:"location-title"},e.title),React.createElement("i",{className:"dashicons dashicons-external"})))})))):React.createElement("div",{className:"shortcode-locations"},React.createElement("span",{className:"location-count"},wp.i18n.__("0","integrate-google-drive")))),h.includes("created")&&React.createElement("td",{className:"col-created"},function(e){var t=new Date,n=Math.abs(t-new Date(e)),i=Math.floor(n/864e5);if(i>7)return W(e);var r=Math.floor(n/36e5),a=Math.floor(n/6e4);return i>0?i+" day"+(i>1?"s":"")+" ago":r>0?r+" hour"+(r>1?"s":"")+" ago":a+" minute"+(a>1?"s":"")+" ago"}(c)),React.createElement("td",{className:"col-actions"},React.createElement("button",{"data-tip":wp.i18n.__("Edit shortcode","integrate-google-drive"),"data-for":"editShortcode-".concat(t),className:"igd-btn btn-primary",onClick:function(){!function(e){var t=new URL(window.location.href);t.searchParams.set("id",e),window.history.pushState({},"",t)}(t),i(t)}},React.createElement("i",{className:"dashicons dashicons-edit-large"}),React.createElement("span",null,wp.i18n.__("Edit","integrate-google-drive"))),React.createElement(ha,{id:"editShortcode-".concat(t),effect:"solid",place:"top",className:"igd-tooltip"}),React.createElement("button",{"data-tip":wp.i18n.__("Tools","integrate-google-drive"),"data-for":"toolsTooltip-".concat(t),className:"igd-btn btn-tools"},React.createElement("i",{className:"dashicons dashicons-ellipsis"})),React.createElement(ha,{id:"toolsTooltip-".concat(t),effect:"solid",place:"top",className:"igd-tooltip"}),React.createElement(ha,{id:"toolsTooltip-".concat(t),effect:"solid",place:"bottom",event:"click",type:"light",clickable:!0,border:!0,scrollHide:!1,borderColor:"#ddd",className:"options-tooltip igd-tooltip",globalEventOff:"click"},React.createElement("div",{className:"action-tools"},React.createElement("button",{className:"igd-btn",onClick:function(){return e=s,void Swal.fire({html:'<div id="igd-shortcode-preview" class="igd-shortcode-preview"></div>',showConfirmButton:!1,customClass:{popup:"igd-shortcode-preview-popup",container:"igd-shortcode-preview-container"},didOpen:function(){ReactDOM.render(React.createElement(Vr,{data:e,onClose:function(){return Swal.close()}}),document.getElementById("igd-shortcode-preview"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-shortcode-preview"))}});var e}},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Preview","integrate-google-drive"))),React.createElement("button",{className:"igd-btn",onClick:function(){a([t])}},React.createElement("i",{className:"dashicons dashicons-admin-page"}),React.createElement("span",null,wp.i18n.__("Duplicate","integrate-google-drive"))),React.createElement("button",{className:"igd-btn",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,focusCancel:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal"},preConfirm:function(){return n(t)}})}},React.createElement("i",{className:"text-red-500 dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive")))))))})))),React.createElement("div",{className:"igd-shortcode-list-footer"},React.createElement(ra,{className:"igd-pagination",pageCount:Math.ceil(o/s),currentPage:l,onPageChange:function(e){return c(e)}})))}function Ra(e){var t=e.setEdit;return React.createElement("div",{className:"no-item-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/placeholder.png"),alt:"No Shortcode"}),React.createElement("h3",null,wp.i18n.__("You didn't create any shortcode yet!","integrate-google-drive")),React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return t(-1)}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add new shortcode","integrate-google-drive"))))}function Na(e){return Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(e)}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Na(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Na(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Na(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aa=React.useContext;function Fa(e){var t=e.setTab,n=e.isEditor,i=Aa(tr),r=i.editData,a=i.setEditData,o=F(),l=r.type;return React.createElement("div",{className:"shortcode-module-body"},React.createElement("div",{className:"shortcode-types"},Object.keys(o).map((function(e){var i=e===l,r=o[e],c=r.title,s=r.isPro,d=r.description;return React.createElement("div",{key:e,className:"shortcode-type ".concat(s&&!igd.isPro?"pro-feature":""," ").concat(i?"active":""," ").concat(n?"edit-mode":""),onClick:function(){!s||igd.isPro?l!==e&&(a((function(t){return Oa(Oa({},t),{},{type:e,folders:[]})})),["embed","view","download"].includes(e)&&a((function(e){return Oa(Oa({},e),{},{allFolders:!1})})),t("sources")):j(wp.i18n.__("Upgrade to PRO to use this module.","integrate-google-drive"))}},s&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive"))),React.createElement("div",{className:"icon-wrap icon-".concat(e)},React.createElement("img",{className:"type-".concat(e),src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(e,".svg"),alt:c})),React.createElement("span",null,c),React.createElement("p",{className:"description"},d))}))))}function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}function xa(e){return function(e){if(Array.isArray(e))return La(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ta(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ka(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ka(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ka(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Ta(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){if(e){if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ba=wp.components.FormToggle,Ua=React,Ma=Ua.useEffect,za=Ua.useRef,Ha=Ua.useContext,Ka=Ua.useState,Va=SortableElement((function(e){var t=e.item,n=e.onRemove,i=e.onClick,r=e.length;return React.createElement("div",{className:"selected-item"},r>1&&React.createElement("i",{className:"dashicons dashicons-move sort-item"}),React.createElement("div",{className:"file-item",onClick:function(){return i(t)}},t.iconLink?React.createElement("img",{src:t.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"item-name"},t.name?t.name:E(t,igd.accounts[t.accountId]))),React.createElement("span",{className:"remove-item dashicons dashicons-no-alt",onClick:function(){return n(t)}}))})),Wa=SortableContainer((function(e){var t=e.items,n=e.onRemove,i=e.onClick;return React.createElement("div",null,!!t&&!!t.length&&t.map((function(e,r){return React.createElement(Va,{length:t.length,key:"item-".concat(r),index:r,item:e,onRemove:n,onClick:i})})))}));function qa(){var e=igd,t=e.activeAccount,n=e.isPro,i=e.settings,r=Ha(tr),a=r.editData,o=r.updateShortcode,l=r.setEditData,c=r.isSelectFiles,s=r.isInlineSelect,d=r.isFormBuilder,u=r.selectionType,m=r.isEditor,g=r.isLMS,f=r.initParentFolder,p=r.initFolders,v=a.type,h=a.allFolders,w=a.folders,y=void 0===w?[]:w,b=a.privateFolders,_=a.createPrivateFolder,R=a.nameTemplate,N=void 0===R?i.nameTemplate?i.nameTemplate:"%user_login% (%user_email%)":R,S=a.parentFolder,O=void 0===S?i.parentFolder?i.parentFolder:E(t.root_id):S,C=a.templateFolder,A=void 0===C?i.templateFolder?i.templateFolder:null:C,F=a.createEntryFolders,k=a.entryFolderNameTemplate,x=void 0===k?"cf7"===d?"Form entry - %form_title%":"Entry (%entry_id%) - %form_title%":k,P=a.mergeFolders,I=Da(Ka(!1),2),D=I[0],T=I[1],L=Da(Ka(!1),2),B=L[0],U=L[1],M=Da(Ka(f),2),z=M[0],H=M[1],K="browser"===v,V="uploader"===v,W="slider"===v,q="gallery"===v,Q="media"===v,G="search"===v,J="embed"===v,Y="view"===v,X="download"===v,Z=za(null);Ma((function(){if(Z.current){new ResizeObserver((function(e){var t=e[0].target;e[0].contentRect.width<700?t.classList.add("view-list"):t.classList.remove("view-list")})).observe(Z.current)}}),[]);var $="",ee="";b&&(ee=wp.i18n.__("Don't select any items if you don't want to show the module for the users who are not linked any folders.","integrate-google-drive"),K?$=wp.i18n.__("Select files & folders for non-linked users","integrate-google-drive"):V?$=wp.i18n.__("Select Upload Folder for non-linked users","integrate-google-drive"):q?$=wp.i18n.__("Select image files and folders for non-linked users","integrate-google-drive"):Q?$=wp.i18n.__("Select audio, video files and folders for non-linked users","integrate-google-drive"):G&&($=wp.i18n.__("Select folders for non-linked users.","integrate-google-drive"))),d&&!b&&($=wp.i18n.__("Select Upload Folder","integrate-google-drive"));var te=["%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","",!!d&&"cf7"!==d&&"%entry_id%",!!d&&"elementor"!==d&&"%form_id%",!!d&&"%form_title%","","%date%","%time%","%unique_id%"],ne=["cf7"!==d&&"%entry_id%","elementor"!==d&&"%form_id%","%form_title%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"],ie=!(J&&"classic"===m||Y||X||h||c||g),re=wp.i18n.__("Turn ON to display the private files and folders linked to the user.","integrate-google-drive");J?re=wp.i18n.__("Turn ON to embed the private files and folders linked to the user.","integrate-google-drive"):V?re=wp.i18n.__("Turn ON to upload the files in the private folder linked to the user.","integrate-google-drive"):G&&(re=wp.i18n.__("Turn ON to search the private files and folders linked to the user.","integrate-google-drive"));var ae=Da(Ka(null),2),oe=ae[0],le=ae[1],ce=za(),se=Da(Ka(null),2),de=se[0],ue=se[1],me=za();return React.createElement("div",{className:"shortcode-module-body content-sources"},!W&&!J&&!Y&&!X&&!V&&!c&&!g&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("All Folders & Files","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Ba,{checked:h,onChange:function(){return l(ja(ja({},a),{},{allFolders:!h}))}}),React.createElement("span",{className:"description"},wp.i18n.__("If turned ON, users can navigate through all the folders & files of all the linked Google Drive accounts.","integrate-google-drive"),React.createElement("br",null),wp.i18n.__("Otherwise, to select specific folders & files turn off this option.","integrate-google-drive")))),d&&React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("User Private Folders","integrate-google-drive")),ie&&React.createElement("div",{className:"settings-field field-private-folder"},React.createElement("h4",{className:"settings-field-label"},V?wp.i18n.__("Use Private Folder","integrate-google-drive"):wp.i18n.__("Use Private Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Ba,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:n&&b,onChange:function(){n?l(ja(ja({},a),{},{privateFolders:!b})):j(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}}),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},re,React.createElement("a",{href:"https://softlabbd.com/docs/how-to-use-and-enable-private-folders-automatically-link-manually/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),!!b&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Create Private Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Ba,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:n&&_,onChange:function(){n?l(ja(ja({},a),{},{createPrivateFolder:!_})):j(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}}),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Turn ON to create and link a folder automatically to the user who has not linked any folder yet while the user will view the module.","integrate-google-drive"))),!!_&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Naming template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),type:"text",value:N,onChange:function(e){igd.isPro?l(ja(ja({},a),{},{nameTemplate:e.target.value})):j(wp.i18n.__("Upgrade to PRO to enable auto private folders creation for the user.","integrate-google-drive"))},onSelect:function(e){return le(e.target.selectionStart)},ref:ce}),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"left",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the folder name template for the automatically created private folders.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title"},React.createElement("strong",null,wp.i18n.__("Available template tags:","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},te.map((function(e,t){if("boolean"!=typeof e)return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){if(igd.isPro){var t;t=(t=null!==oe?N.slice(0,oe)+e+" "+N.slice(oe):N+" "+e).trim(),l(ja(ja({},a),{},{nameTemplate:t}));var n=oe+e.length+1;ce.current.setSelectionRange(n,n)}else j(wp.i18n.__("Upgrade to PRO to enable auto private folders creation.","integrate-google-drive"))}},e)}))))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Parent Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!O&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},igd.accounts[O.accountId].email),React.createElement("div",{className:"template-folder-item"},O.iconLink?React.createElement("img",{src:O.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},O.name?O.name:E(O,igd.accounts[O.accountId]))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return l(ja(ja({},a),{},{parentFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn ".concat(D?"btn-warning":"btn-primary"),onClick:function(){n?T(!D):j(wp.i18n.__("Upgrade to PRO to enable auto private folders creation for the user.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),D?React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive")):React.createElement("span",null,O?wp.i18n.__("Change Parent Folder","integrate-google-drive"):wp.i18n.__("Select Parent Folder","integrate-google-drive"))),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select the parent folder where the automatically created private folders will be created.","integrate-google-drive"))),!!D&&n&&React.createElement("div",{id:"igd-select-files",className:"igd-module-builder-modal-wrap inline-select"},React.createElement(nr,{value:{editData:{folders:[]},setEditData:function(e){var t=e.folders,n=void 0===t?[]:t;l((function(e){return ja(ja({},e),{},{parentFolder:n[0]})})),T(!1)},isEditor:!0,isInlineSelect:!0,isSelectFiles:!0,selectionType:"parent",initParentFolder:f,initFolders:p}},React.createElement(ol,null))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Template Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!A&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},igd.accounts[A.accountId].email),React.createElement("div",{className:"template-folder-item"},A.iconLink?React.createElement("img",{src:A.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},A.name?A.name:E(A,igd.accounts[A.accountId]))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return l(ja(ja({},a),{},{templateFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn ".concat(B?"btn-warning":"btn-primary"),onClick:function(){n?U(!B):j(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),B?React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive")):React.createElement("span",null,A?wp.i18n.__("Change Template Folder","integrate-google-drive"):wp.i18n.__("Select Template Folder","integrate-google-drive"))),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),!!O&&!!A&&O.accountId!==A.accountId&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder must be from the same account.","integrate-google-drive"))),!!O&&!!A&&O.id===A.id&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder can't be the same.","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the template folder that will be copied to the new private folder.","integrate-google-drive"))),!!B&&n&&React.createElement("div",{id:"igd-select-files",className:"igd-module-builder-modal-wrap inline-select"},React.createElement(nr,{value:{editData:{folders:[]},setEditData:function(e){var t=e.folders,n=void 0===t?[]:t;l((function(e){return ja(ja({},e),{},{templateFolder:n[0]})})),U(!1)},isEditor:!0,isInlineSelect:!0,isSelectFiles:!0,selectionType:"template",initParentFolder:f,initFolders:p}},React.createElement(ol,null)))))))),d&&React.createElement("h3",{className:"igd-settings-body-title form-entry-title"},wp.i18n.__("Form Entry Folders","integrate-google-drive")),!!d&&React.createElement("div",{className:"settings-field form-entry-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Create Entry Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Ba,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:F,onChange:function(){n?l(ja(ja({},a),{},{createEntryFolders:!F})):j(wp.i18n.__("Upgrade to Pro to create entry folders","integrate-google-drive"))}}),!n&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Create a folder for each form entry.","integrate-google-drive")),!!F&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Name template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:x,onChange:function(e){igd.isPro?l(ja(ja({},a),{},{entryFolderNameTemplate:e.target.value})):j(wp.i18n.__("Upgrade to PRO to create form entry folders.","integrate-google-drive"))},onSelect:function(e){return ue(e.target.selectionStart)},ref:me}),React.createElement("p",{className:"description"},wp.i18n.__("Set the form entry folder name template.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title"},React.createElement("strong",null,wp.i18n.__("Available template tags:","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},ne.map((function(e,t){if("boolean"!=typeof e)return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){if(igd.isPro){var t;t=(t=null!==de?x.slice(0,de)+e+" "+x.slice(de):x+" "+e).trim(),l(ja(ja({},a),{},{entryFolderNameTemplate:t}));var n=de+e.length+1;me.current.setSelectionRange(n,n)}else j(wp.i18n.__("Upgrade to PRO to enable auto entry folders creation.","integrate-google-drive"))}},e)}))),"cf7"===d&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field names to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the name "your-name" and a field with the name "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),["fluentforms","metform"].includes(d)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field name attributes to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the FIELD NAME attribute "your-name" and a field with the name attribute "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),["wpforms","gravityforms","formidableforms"].includes(d)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD ID to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__("If you have a field with the ID 1, you can use the tag %field_id_1% to rename the upload folder.","integrate-google-drive"))),"ninjaforms"===d&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD KEY  to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the key "your-name" and a field with the key "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),"elementor"===d&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the field ID  to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the id "name" and a field with the key "field_12ca45", you can use the tags %name% and %field_12ca45% to rename the upload folder.',"integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Merge Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Ba,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:P,onChange:function(){n?l(ja(ja({},a),{},{mergeFolders:!P})):j(wp.i18n.__("Upgrade to Pro to create entry folders","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow merging folders if a folder with the same name already exists, and upload files into that existing folder instead of creating a new one.","integrate-google-drive"))))))),(!h||!!c||!!g)&&!b&&React.createElement("div",{ref:Z,className:"igd-select-sources-wrap"},!g&&React.createElement("div",{className:"source-title-wrap"},!!$&&React.createElement("h3",{className:"igd-select-sources-title"},$),!!ee&&React.createElement("p",{className:"igd-select-sources-description"},ee)),React.createElement($i,{isShortcodeBuilder:!0,shortcodeBuilderType:v,isSelectFiles:c,selectionType:u,isLMS:g,setSelectedFolders:function(e){g&&o(e),l(ja(ja({},a),{},{folders:xa(e).filter((function(e,t,n){return t===n.findIndex((function(t){return e.id?t.id===e.id:t===e}))}))}))},selectedFolders:y,initParentFolder:z,initFolders:p}),!s&&!g&&React.createElement("div",{className:"igd-selected-list"},React.createElement("div",{className:"igd-selected-list-header"},React.createElement("span",{className:"header-title"},"(",y.length,") ",wp.i18n.__("Selected Items","integrate-google-drive")),!!y&&!!y.length&&React.createElement("button",{className:"igd-btn btn-danger",onClick:function(){return l(ja(ja({},a),{},{folders:[]}))}},React.createElement("span",null,wp.i18n.__("Clear","integrate-google-drive")))),React.createElement(Wa,{lockAxis:"y",lockToContainerEdges:!0,shouldCancelStart:function(e){return!e.target.classList.contains("sort-item")},items:y,helperClass:"sortable-item",onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;l((function(e){return ja(ja({},e),{},{folders:(i=y,r=t,a=n,function(e,t,n){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const i=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(i,0,r)}}(i=[...i],r,a),i)});var i,r,a}))},onRemove:function(e){return l(ja(ja({},a),{},{folders:y.filter((function(t){return t!==e}))}))},onClick:function(e){e.parents&&H((function(t){return ja(ja({},t),{},{id:e.parents[0],accountId:e.accountId})}))}}),(!y||!y.length)&&React.createElement("div",{className:"no-files-message"},React.createElement("i",{className:"dashicons dashicons-info"}),React.createElement("span",null,wp.i18n.__("No items selected","integrate-google-drive"),".")),V&&React.createElement("p",null,wp.i18n.__("Choose a single upload folder for file uploads.","integrate-google-drive"),!!y.length&&React.createElement("span",null,wp.i18n.__("To change it, deselect the current folder and select a new one.","integrate-google-drive"))),J&&React.createElement("p",null,wp.i18n.__("If folder is selected, all the files of the folder will be embedded.","integrate-google-drive"),React.createElement("br",null),React.createElement("b",null,"Note:")," ",wp.i18n.__("Embed files must be public","integrate-google-drive")))))}function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Ga(e){return function(e){if(Array.isArray(e))return Ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){Za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Za(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=wp.components,eo=$a.FormToggle,to=$a.CheckboxControl,no=React.useContext;function io(){var e=no(tr),t=e.editData,n=e.setEditData,i=e.isFormBuilder,r=t.allowExtensions,a=t.allowAllExtensions,o=t.allowExceptExtensions,l=t.allowNames,c=t.allowAllNames,s=t.allowExceptNames,d=t.nameFilterOptions,u=void 0===d?["files"]:d,m=t.showFiles,g=void 0===m||m,f=t.showFolders,p=void 0===f||f,v=t.type,h=t.maxFileSize,w=t.maxFiles,y=t.minFiles,b=t.minFileSize,_=t.fileNumbers,E="uploader"===v,R="browser"===v,N="gallery"===v,S="embed"===v,O="search"===v,C="media"===v,A="slider"===v;return React.createElement("div",{className:"shortcode-module-body"},(R||N||O)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(eo,{checked:g,onChange:function(){return n(Xa(Xa({},t),{},{showFiles:!g}))}}),React.createElement("p",{className:"description"},wp.i18n.__("If turned off, files won't show.","integrate-google-drive")))),(R||N||O)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Folders","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(eo,{checked:p,onChange:function(){return n(Xa(Xa({},t),{},{showFolders:!p}))}}),React.createElement("p",{className:"description"},wp.i18n.__("If turned off, folders won't show.","integrate-google-drive")))),React.createElement("div",{className:"settings-field filter-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allowed Extensions","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-field-input"},React.createElement("input",{type:"text",disabled:a,value:r,onChange:function(e){return n(Xa(Xa({},t),{},{allowExtensions:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__('Enter comma ( , ) seperated file extensions to allow, such as "jpg, png, gif". Leave empty to %s all extension files.',"integrate-google-drive"),E?wp.i18n.__("upload","integrate-google-drive"):wp.i18n.__("show","integrate-google-drive")))),React.createElement("div",{className:"filter-field-all"},React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Allow all : ","integrate-google-drive")," "),React.createElement(eo,{checked:a,onChange:function(){return n(Xa(Xa({},t),{},{allowAllExtensions:!a}))}})),React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Except : ","integrate-google-drive")),React.createElement("input",{type:"text",disabled:!a,value:o,onChange:function(e){return n(Xa(Xa({},t),{},{allowExceptExtensions:e.target.value}))}})),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__('When "Allow all" is enabled, exceptions will not be %s.',"integrate-google-drive"),E?wp.i18n.__("uploaded","integrate-google-drive"):wp.i18n.__("displayed","integrate-google-drive")))))),(R||N||S||O||C||A)&&React.createElement("div",{className:"settings-field filter-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allowed Names","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-field-input"},React.createElement("input",{type:"text",disabled:c,value:l,onChange:function(e){return n(Xa(Xa({},t),{},{allowNames:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__("Enter file and folder names, separated by commas, to display. Leave blank to display all files and folders.","integrate-google-drive")))),React.createElement("div",{className:"filter-field-all"},React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Allow all : ","integrate-google-drive")," "),React.createElement(eo,{checked:c,onChange:function(){return n(Xa(Xa({},t),{},{allowAllNames:!c}))}})),React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Except : ","integrate-google-drive")),React.createElement("input",{type:"text",disabled:!c,value:s,onChange:function(e){return n(Xa(Xa({},t),{},{allowExceptNames:e.target.value}))}})),React.createElement("p",{className:"description"},wp.i18n.__('When "Allow all" is enabled, exceptions will not be displayed.',"integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can use the * and ? wildcards to match multiple characters and single characters respectively.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example:","integrate-google-drive")),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"report*, *.txt")," ",wp.i18n.__("will match all files that start with report and have the .txt extension.","integrate-google-drive")),React.createElement("li",null,React.createElement("strong",null,"file?, image_*")," ",wp.i18n.__('will match all files that start with file like "file1", "file2", and all files that start with image_.',"integrate-google-drive"))))),React.createElement("div",{className:"name-filter-option"},React.createElement("h4",{className:"name-filter-option-label"},wp.i18n.__("Apply to : ","integrate-google-drive")," "),["files","folders"].map((function(e){return React.createElement("div",{key:e,className:"name-filter-option-item"},React.createElement(to,{label:e,checked:u.includes(e),onChange:function(){u.includes(e)?n(Xa(Xa({},t),{},{nameFilterOptions:u.filter((function(t){return t!==e}))})):n(Xa(Xa({},t),{},{nameFilterOptions:[].concat(Ga(u),[e])}))}}))})),React.createElement("p",{className:"description"},wp.i18n.__("Select the type of files to apply the name filters.","integrate-google-drive")))))),(R||N||O||C||A)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Maximum File Numbers","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,max:1e3,value:_,onChange:function(e){return n(Xa(Xa({},t),{},{fileNumbers:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the maximum number of how many files you want to show. Leave empty to show all files.","integrate-google-drive")))),E&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Max File Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,value:w,onChange:function(e){var i=e.target.value;i=i.replace(/[^0-9]/g,""),n(Xa(Xa({},t),{},{maxFiles:i}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the max number of files to upload at once. Leave empty for no limit.","integrate-google-drive")))),i&&"metform"!==i&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Min File Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,value:y,onChange:function(e){var i=e.target.value;i=i.replace(/[^0-9]/g,""),n(Xa(Xa({},t),{},{minFiles:i}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the minimum number of files to upload. Leave empty for no limit.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Max File Size (MB)","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:0,value:h,onChange:function(e){var i=e.target.value;i=i.replace(/[^0-9]/g,""),n(Xa(Xa({},t),{},{maxFileSize:i}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the maximum upload file size (MB).","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Min File Size (MB)","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:0,value:b,onChange:function(e){var i=e.target.value;i=i.replace(/[^0-9]/g,""),n(Xa(Xa({},t),{},{minFileSize:i}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the minimum upload file size (MB).","integrate-google-drive"))))))}function ro(e){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(e)}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ro(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ro(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ro(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uo=wp.components,mo=uo.ButtonGroup,go=uo.Button,fo=uo.FormToggle,po=uo.RangeControl,vo=uo.__experimentalRadio,ho=uo.__experimentalRadioGroup,wo=React,yo=wo.useState,bo=wo.useContext,_o=wo.useEffect,Eo=wo.useRef,Ro=igd.isPro;function No(){var e=bo(tr),t=e.editData,n=e.setEditData,i=e.isFormBuilder,r={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created Date","integrate-google-drive"),updated:wp.i18n.__("Modified Date","integrate-google-drive")},a={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")},o=t.moduleWidth,l=void 0===o?"100%":o,c=t.moduleHeight,s=void 0===c?"":c,d=t.embedWidth,u=void 0===d?"100%":d,m=t.embedHeight,g=void 0===m?"480px":m,f=t.galleryHeight,p=void 0===f?300:f,v=t.galleryMargin,h=void 0===v?5:v,w=t.galleryColumns,y=void 0===w?{xs:1,sm:2,md:3,lg:4,xl:5}:w,b=t.galleryView,_=void 0===b?"rounded":b,E=t.galleryLayout,R=void 0===E?"justified":E,N=t.galleryFolderView,S=void 0===N?"title":N,O=t.galleryAspectRatio,C=void 0===O?"1/1":O,A=t.galleryOverlay,F=void 0===A||A,k=t.galleryOverlayTitle,x=void 0===k||k,P=t.galleryOverlayDescription,I=void 0===P||P,D=t.galleryOverlaySize,T=void 0!==D&&D,L=t.showHeader,B=void 0===L||L,U=t.showBreadcrumbs,M=void 0===U||U,z=t.directImage,H=void 0!==z&&z,K=t.showFileName,V=void 0!==K&&K,W=t.allowEmbedPopout,q=void 0===W||W,Q=t.embedType,G=void 0===Q?"readOnly":Q,J=t.showRefresh,Y=void 0===J||J,X=t.showSorting,Z=void 0===X||X,$=t.showPlaylist,ee=void 0===$||$,te=t.openedPlaylist,ne=void 0===te||te,ie=t.playlistAutoplay,re=void 0===ie||ie,ae=t.playlistThumbnail,oe=void 0===ae||ae,le=t.playlistNumber,ce=void 0===le||le,se=t.playlistPosition,de=void 0===se?"bottom":se,ue=t.showLoop,me=t.showShuffle,ge=t.nextPrevious,fe=void 0===ge||ge,pe=t.sort,ve=void 0===pe?{sortBy:"name",sortDirection:"asc"}:pe,he=t.view,we=void 0===he?"list":he,ye=t.lazyLoad,be=void 0===ye||ye,_e=t.lazyLoadNumber,Ee=void 0===_e?100:_e,Re=t.showLastModified,Ne=void 0!==Re&&Re,Se=t.type,Oe=t.openNewTab,Ce=void 0===Oe||Oe,Ae=t.uploadImmediately,Fe=t.enableFolderUpload,ke=t.overwrite,xe=t.uploadFileName,Pe=void 0===xe?"%file_name%%file_extension%":xe,je=t.showUploadLabel,Ie=t.uploadLabelText,De=void 0===Ie?wp.i18n.__("Upload Files","integrate-google-drive"):Ie,Te=t.showUploadConfirmation,Le=void 0===Te?Ro:Te,Be=t.uploadConfirmationMessage,Ue=void 0===Be?"<h3>Upload successful!</h3><p>Your file(s) have been uploaded. Thank you for your submission!</p>":Be,Me=t.slideName,ze=void 0===Me||Me,He=t.slideDescription,Ke=void 0!==He&&He,Ve=t.slideHeight,We=void 0===Ve?"300px":Ve,qe=t.slidesToShow,Qe=void 0===qe?3:qe,Ge=t.slideAutoplay,Je=void 0===Ge||Ge,Ye=t.slideAutoplaySpeed,Xe=void 0===Ye?3e3:Ye,Ze=t.slideDots,$e=void 0===Ze||Ze,et=t.slideArrows,tt=void 0===et||et,nt="browser"===Se,it="uploader"===Se,rt="gallery"===Se,at="search"===Se,ot="media"===Se,lt="view"===Se,ct="embed"===Se,st="slider"===Se,dt="upload-confirmation-message",ut={tinymce:{wpautop:!0,toolbar1:"formatselect,bold,italic,strikethrough,forecolor,backcolor,bullist,numlist,blockquote,hr,alignleft,aligncenter,alignright,link,unlink,media,spellchecker,fullscreen,wp_adv",toolbar2:"underline,alignjustify,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",plugins:"lists,fullscreen,paste,wpautoresize,wpdialogs,wpeditimage,wpgallery,wplink,wptextpattern,wpview,wordpress,wpemoji,media,textcolor,hr",menubar:!1,branding:!1,height:250,wp_adv_height:48,setup:function(e){e.on("change",(function(){var t=e.getContent();n((function(e){return co(co({},e),{},{uploadConfirmationMessage:t})}))}))}},quicktags:{buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,close"},mediaButtons:!0};_o((function(){if(!document.body.classList.contains("et-fb")&&!i&&it&&Le&&Ro&&wp.editor)return setTimeout((function(){wp.editor.remove(dt),wp.domReady((function(){return wp.editor.initialize(dt,ut)}))}),100),function(){document.getElementById(dt)&&wp.editor.remove(dt)}}),[Le]);var mt=ao(yo(null),2),gt=mt[0],ft=mt[1],pt=Eo(),vt=ao(yo("lg"),2),ht=vt[0],wt=vt[1];return React.createElement("div",{className:"shortcode-module-body"},!st&&!ct&&!lt&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Module Container","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Container Width","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:l,onChange:function(e){return n(co(co({},t),{},{moduleWidth:e.target.value}))},placeholder:"100%"}),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Container Height","integrate-google-drive")),React.createElement("input",{type:"text",value:s,onChange:function(e){return n(co(co({},t),{},{moduleHeight:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the module container width and height. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '80%'. Keep blank for default value.","integrate-google-drive"))))))),ct&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Iframe Width","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:u,onChange:function(e){return n(co(co({},t),{},{embedWidth:e.target.value}))},placeholder:"100%"}),React.createElement("p",{className:"description"},wp.i18n.__("Set embed iframe width. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '100%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Iframe Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:g,onChange:function(e){return n(co(co({},t),{},{embedHeight:e.target.value}))},placeholder:"480px"}),React.createElement("p",{className:"description"},wp.i18n.__("Set embed iframe height. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '100%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Name","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:V,onChange:function(){return n(co(co({},t),{},{showFileName:!V}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file name at the top of the file.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Direct Media Display","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:Ro&&H,onChange:function(){Ro?n(co(co({},t),{},{directImage:!H})):j(wp.i18n.__("Upgrade to Pro to display Audio, Video and Images directly without embed.","integrate-google-drive"))}}),!Ro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Display Audio, Video and Image files directly without embedding them into an iframe.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},wp.i18n.__("Occasionally, audio and video files may not play correctly within an embedded player. Enable this option to resolve the issue by displaying media files directly, bypassing the embed.","integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Type","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ho,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),label:"Embed Type",checked:Ro?G:"readOnly",onChange:function(e){Ro?n(co(co({},t),{},{embedType:e})):j(wp.i18n.__("Upgrade to Pro to change the embed type.","integrate-google-drive"))}},React.createElement(vo,{value:"readOnly"},wp.i18n.__("Read Only","integrate-google-drive")),React.createElement(vo,{value:"editable"},wp.i18n.__("Editable","integrate-google-drive")),React.createElement(vo,{value:"fullEditable"},wp.i18n.__("Full Editable","integrate-google-drive"))),!Ro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the embed type for the selected documents.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Read Only","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in a read-only mode.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("Editable","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in an editable mode. Users will be able to edit the document.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("Full Editable","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in an editable mode with extended edit tool-bars and features.","integrate-google-drive")),React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Note:","integrate-google-drive"))," ",wp.i18n.__("The editable mode is only available for the editable Google Docs & Office Docs.","integrate-google-drive")))))),"readOnly"===G&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allow Pop-out","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:q,onChange:function(){return n(co(co({},t),{},{allowEmbedPopout:!q}))}}),React.createElement("p",{className:"description"},wp.i18n.__("In the embed document view (e.g. a pdf) there is a pop-out button that when clicked will bring the user to the Google Drive view of the document, with full features to download, print, etc. ","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},wp.i18n.__("If the pop-out option is disabled, users will be able to view the embedded document only on your website and not on Google Drive.","integrate-google-drive"))))))),rt&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Layout","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive")},["justified","grid","masonry"].map((function(e){return React.createElement(go,{isPrimary:e===R,isSecondary:e!==R,onClick:function(){Ro?n(co(co({},t),{},{galleryLayout:e})):j(wp.i18n.__("Upgrade to change the gallery layout.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",{style:{textTransform:"capitalize"}},e))}))),!Ro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the layout for the gallery.","integrate-google-drive")))),(!Ro||"justified"!==R)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Columns","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"column-devices"},React.createElement(mo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive")},["xs","sm","md","lg","xl"].map((function(e){var t="xs"===e?"Mobile":"sm"===e?"Tablet":"md"===e?"Laptop":"lg"===e?"Desktop":"xl"===e?"Large Desktop":"";return React.createElement(go,{isPrimary:e===ht,isSecondary:e!==ht,onClick:function(){Ro?wt(e):j(wp.i18n.__("Upgrade to change the gallery column.","integrate-google-drive"))}},React.createElement("span",null,t))})))),React.createElement(po,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),value:y[ht],onChange:function(e){Ro?n(co(co({},t),{},{galleryColumns:co(co({},y),{},so({},ht,e))})):j(wp.i18n.__("Upgrade to change the gallery column.","integrate-google-drive"))},min:1,max:24,marks:[{value:1,label:"1"},{value:4,label:"4"},{value:8,label:"8"},{value:12,label:"12"},{value:16,label:"16"},{value:20,label:"20"},{value:24,label:"24"}]}),!Ro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of columns to display on each device.","integrate-google-drive")))),"justified"===R&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Row Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(po,{value:p,onChange:function(e){return n(co(co({},t),{},{galleryHeight:e}))},allowReset:!0,resetFallbackValue:300,min:0,max:1e3,marks:[{value:0,label:"0"},{value:1e3,label:"1000"}],step:10}),React.createElement("p",{className:"description"},wp.i18n.__("The ideal height you want your grid rows to be. It won't set it exactly to this as plugin adjusts the row height to get the correct width. Leave empty for default value.","integrate-google-drive")))),"grid"===R&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Aspect Ratio","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mo,null,["1/1","3/2","4/3","9/16","16/9","21/9"].map((function(e){return React.createElement(go,{isPrimary:e===C,isSecondary:e!==C,onClick:function(){return n(co(co({},t),{},{galleryAspectRatio:e}))}},React.createElement("span",null,e.replace("/",":")))}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the aspect ratio for the gallery items.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Margin","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(po,{value:h,onChange:function(e){return n(co(co({},t),{},{galleryMargin:e}))},allowReset:!0,resetFallbackValue:5,min:0,max:100,marks:[{value:0,label:"0"},{value:100,label:"100"}]}),React.createElement("p",{className:"description"},wp.i18n.__("The margin between each image in the gallery. Leave empty for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Thumbnail View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mo,null,React.createElement(go,{isPrimary:"rounded"===_,isSecondary:"square"===_,onClick:function(){return n(co(co({},t),{},{galleryView:"rounded"}))}},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",null,wp.i18n.__("Rounded","integrate-google-drive"))),React.createElement(go,{isPrimary:"square"===_,isSecondary:"rounded"===_,onClick:function(){return n(co(co({},t),{},{galleryView:"square"}))}},React.createElement("i",{className:"dashicons dashicons-screenoptions"}),React.createElement("span",null,wp.i18n.__("Square","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the image thumbnail view style for the gallery.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Folder View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mo,null,React.createElement(go,{isPrimary:"title"===S,isSecondary:"thumbnail"===S,onClick:function(){return n(co(co({},t),{},{galleryFolderView:"title"}))}},React.createElement("i",{className:"dashicons dashicons-info"}),React.createElement("span",null,wp.i18n.__("Title","integrate-google-drive"))),React.createElement(go,{isPrimary:"thumbnail"===S,isSecondary:"title"===S,onClick:function(){return n(co(co({},t),{},{galleryFolderView:"thumbnail"}))}},React.createElement("i",{className:"dashicons dashicons-format-gallery"}),React.createElement("span",null,wp.i18n.__("Thumbnail","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the folders view style for the gallery.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Overlay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:F,onChange:function(){return n(co(co({},t),{},{galleryOverlay:!F}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the image overlay on hover.","integrate-google-drive")),!!F&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Title","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:x,onChange:function(){return n(co(co({},t),{},{galleryOverlayTitle:!x}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the gallery item title on hover overlay.","integrate-google-drive")),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Description","integrate-google-drive")),React.createElement(fo,{checked:I,onChange:function(){return n(co(co({},t),{},{galleryOverlayDescription:!I}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the gallery item description on hover overlay.","integrate-google-drive")),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Size","integrate-google-drive")),React.createElement(fo,{checked:T,onChange:function(){return n(co(co({},t),{},{galleryOverlaySize:!T}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the gallery item size on hover overlay.","integrate-google-drive")))))))),(nt||at)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Browser View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mo,null,React.createElement(go,{isPrimary:"grid"===we,isSecondary:"list"===we,onClick:function(){return n(co(co({},t),{},{view:"grid"}))}},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",null,wp.i18n.__("Grid","integrate-google-drive"))),React.createElement(go,{isPrimary:"list"===we,isSecondary:"grid"===we,onClick:function(){return n(co(co({},t),{},{view:"list"}))}},React.createElement("i",{className:"dashicons dashicons-list-view"}),React.createElement("span",null,wp.i18n.__("List","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the file browser view.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},"list"===we&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Last Modified Field","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Ne,onChange:function(){return n(co(co({},t),{},{showLastModified:!Ne}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file last modified date field in the list view.","integrate-google-drive"))))))),(nt||rt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Lazy load","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:be,onChange:function(){return n(co(co({},t),{},{lazyLoad:!be}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable/ disable files lazy load.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},be&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Lazy load number","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(po,{value:Ee,onChange:function(e){return n(co(co({},t),{},{lazyLoadNumber:e}))},allowReset:!0,resetFallbackValue:100,min:0,max:1e3,marks:[{value:0,label:"0"},{value:1e3,label:"1000"}],step:10}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of files to load on each lazy load.","integrate-google-drive"))))))),(nt||rt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Header","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:B,onChange:function(){return n(co(co({},t),{},{showHeader:!B}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file browser header.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Breadcrumbs Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:M,onChange:function(){return n(co(co({},t),{},{showBreadcrumbs:!M}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the breadcrumbs folder navigation in the header.","integrate-google-drive")))),B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Refresh Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Y,onChange:function(){return n(co(co({},t),{},{showRefresh:!Y}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the refresh (sync) button in the header.","integrate-google-drive")))),B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Sorting Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Z,onChange:function(){return n(co(co({},t),{},{showSorting:!Z}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the files sorting options button in the header","integrate-google-drive"))))))),ot&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Show Next/ Previous","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:fe,onChange:function(){return n(co(co({},t),{},{nextPrevious:!fe}))}}),React.createElement("span",{className:"description"},wp.i18n.__("Show/ hide the next/previous buttons in the player.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Loop Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ue,onChange:function(){return n(co(co({},t),{},{showLoop:!ue}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the loop button in the player.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Shuffle Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:me,onChange:function(){return n(co(co({},t),{},{showShuffle:!me}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show hide the shuffle button in the player.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Playlist","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ee,onChange:function(){return n(co(co({},t),{},{showPlaylist:!ee}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the playlist in the player.","integrate-google-drive")),ee&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Opened Playlist","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ne,onChange:function(){return n(co(co({},t),{},{openedPlaylist:!ne}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Should be the playlist opened by default.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Playlist Autoplay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:re,onChange:function(){return n(co(co({},t),{},{playlistAutoplay:!re}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Start playing next item automatically in the playlist once the current item is ended.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Thumbnail","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:oe,onChange:function(){return n(co(co({},t),{},{playlistThumbnail:!oe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the thumbnail in the playlist.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Number Prefix","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ce,onChange:function(){return n(co(co({},t),{},{playlistNumber:!ce}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the numeric prefix in the playlist items.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Playlist Position","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ho,{label:"Player Position",checked:de,onChange:function(e){n(co(co({},t),{},{playlistPosition:e}))}},React.createElement(vo,{value:"bottom"},wp.i18n.__("Bottom","integrate-google-drive")),React.createElement(vo,{value:"left"},wp.i18n.__("Left","integrate-google-drive")),React.createElement(vo,{value:"right"},wp.i18n.__("Right","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the playlist position in the player.","integrate-google-drive")))))))),(nt||rt||at||ot)&&React.createElement("div",{className:"settings-field sort-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Sorting","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"sort-field-section-wrap"},React.createElement("div",{className:"sort-field-section"},React.createElement("span",{className:"sort-field-section-label"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(r).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(ve.sortBy===e?"active":""),onClick:function(){return n(co(co({},t),{},{sort:co(co({},ve),{},{sortBy:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,r[e]))}))),React.createElement("div",{className:"sort-field-section"},React.createElement("span",{className:"sort-field-section-label"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(a).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(ve.sortDirection===e?"active":""),onClick:function(){return n(co(co({},t),{},{sort:co(co({},ve),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,a[e]))})))),React.createElement("p",{className:"description"},wp.i18n.__("Select file sorting and direction.","integrate-google-drive")))),it&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Overwrite Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ke,onChange:function(){return n(co(co({},t),{},{overwrite:!ke}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to overwrite files with the same name.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Folder Upload","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Fe,onChange:function(){return n(co(co({},t),{},{enableFolderUpload:!Fe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to upload folders. A folder upload button will be added.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Immediately","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Ae,onChange:function(){return n(co(co({},t),{},{uploadImmediately:!Ae}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Start uploading files immediately after they are selected.","integrate-google-drive")))),!i&&!Ae&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Upload Confirmation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Le,onChange:function(){return n(co(co({},t),{},{showUploadConfirmation:!Le}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the upload confirmation message after upload is complete.","integrate-google-drive")),Le&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field field-upload-confirmation-message"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Confirmation Message","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("p",{className:"description"},wp.i18n.__("Enter the upload confirmation message.","integrate-google-drive")),React.createElement("textarea",{value:Ue,id:"upload-confirmation-message",onChange:function(e){n((function(t){return co(co({},t),{},{uploadConfirmationMessage:e.target.value})}))}})))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("File Rename","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Pe,onSelect:function(e){return ft(e.target.selectionStart)},ref:pt,onChange:function(e){n(co(co({},t),{},{uploadFileName:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Rename the uploaded file by adding suffix or prefix. You can use the available tags to rename the file.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title"},React.createElement("strong",null,wp.i18n.__("Available tags:","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},["%file_name%","%file_extension%","%queue_index%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"].map((function(e,i){return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:i,onClick:function(){var i;i=(i=null!==gt?Pe.slice(0,gt)+e+" "+Pe.slice(gt):Pe+" "+e).trim(),n(co(co({},t),{},{uploadFileName:i}));var r=gt+e.length+1;pt.current.setSelectionRange(r,r)}},e)})))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Upload Label Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:je,onChange:function(){return n(co(co({},t),{},{showUploadLabel:!je}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the uploader label text.","integrate-google-drive")),je&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Label Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:De,onChange:function(e){return n(co(co({},t),{},{uploadLabelText:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the uploader label text.","integrate-google-drive")))))))),lt&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Open in new tab","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Ce,onChange:function(){return n(co(co({},t),{},{openNewTab:!Ce}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Open a new tab for viewing the file.","integrate-google-drive")))),st&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:We,onChange:function(e){n(co(co({},t),{},{slideHeight:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the height of the carousel slide. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '80%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Name","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:ze,onChange:function(){return n(co(co({},t),{},{slideName:!ze}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file name in the carousel slide.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Description","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Ke,onChange:function(){return n(co(co({},t),{},{slideDescription:!Ke}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file description in the carousel slide.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slides per Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",value:Qe,onChange:function(e){n(co(co({},t),{},{slidesToShow:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of slides to show in the slider.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Autoplay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:Je,onChange:function(){return n(co(co({},t),{},{slideAutoplay:!Je}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable autoplay for the slider.","integrate-google-drive")),Je&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Autoplay Speed","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",value:Xe,onChange:function(e){n(co(co({},t),{},{slideAutoplaySpeed:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the autoplay speed in milliseconds.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Dots Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:$e,onChange:function(){return n(co(co({},t),{},{slideDots:!$e}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable dots navigation for the slider.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Arrows Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(fo,{checked:tt,onChange:function(){return n(co(co({},t),{},{slideArrows:!tt}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable arrows navigation for the slider.","integrate-google-drive"))))))}function So(e){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==So(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==So(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===So(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo=React.useContext,ko=wp.components.FormToggle,xo=igd.isPro;function Po(){var e=Fo(tr),t=e.editData,n=e.setEditData,i=t.type,r=t.enableNotification,a=void 0!==r&&r,o=t.downloadNotification,l=void 0===o||o,c=t.uploadNotification,s=void 0===c||c,d=t.deleteNotification,u=void 0===d||d,m=t.playNotification,g=void 0===m||m,f=t.searchNotification,p=void 0===f?"search"===i:f,v=t.viewNotification,h=void 0===v||v,w=t.notificationEmail,y=void 0===w?"%admin_email%":w,b=t.skipCurrentUserNotification,_=void 0===b||b,E="browser"===i,R="uploader"===i,N="media"===i,S="gallery"===i,O="slider"===i,C="search"===i,A="download"===i,F="view"===i;return React.createElement("div",{className:"shortcode-module-body"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Notifications","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:xo&&a,onChange:function(){igd.isPro?n(Co(Co({},t),{},{enableNotification:!a})):j(wp.i18n.__("Upgrade to PRO to enable email notificationenableN","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable email notifications to get notified on various user activities (upload, download, delete, etc).","integrate-google-drive")),(a||!igd.isPro)&&React.createElement("div",{className:"settings-field-sub"},(E||S||C||N||O||A)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Download Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:l&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{downloadNotification:!l})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notification whenever files is downloaded through this module.","integrate-google-drive")))),(E||R)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:s&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{uploadNotification:!s})):j(wp.i18n.__("Upgrade to PRO to enable email notification.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive an email notifications whenever someone uploaded files through this module.","integrate-google-drive")))),E&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Delete Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:u&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{deleteNotification:!u})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone deleted files through this module.","integrate-google-drive")))),N&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Media Play Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:g&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{playNotification:!g})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone play audio/video files through this module.","integrate-google-drive")))),(E||S||C||N)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Search Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:p&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{searchNotification:!p})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone search for files through this module.","integrate-google-drive")))),F&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("View Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:h&&igd.isPro,onChange:function(){igd.isPro?n(Co(Co({},t),{},{viewNotification:!h})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone view files through this module.","integrate-google-drive"))))))),a&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Notification Recipients","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tip":"PRO Feature",type:"email",value:y,onChange:function(e){igd.isPro?n(Co(Co({},t),{},{notificationEmail:e.target.value})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the email address where the notifications will be sent. Add multiple email addresses by separating them with a comma (,).","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("You can also set the below placeholder tags as email recipient.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title"},React.createElement("strong",null,wp.i18n.__("Available template tags:","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},["%admin_email%","%user_email%","%linked_user_email%"].map((function(e,i){return React.createElement("span",{className:"tag",key:i,onClick:function(){igd.isPro?n(Co(Co({},t),{},{notificationEmail:(y+", "+e).replace(/^,/,"")})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}},e)})))),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("div",null,React.createElement("strong",null,"%admin_email%")," - ",wp.i18n.__("The email of site admin.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,"%user_email%")," - ",wp.i18n.__("The email of current user who executes the action.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,"%linked_user_email%")," - ",wp.i18n.__("The email of the owner of the private folder.","integrate-google-drive")))),React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Skip current user notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ko,{"data-tip":"PRO Feature",checked:igd.isPro&&_,onChange:function(){igd.isPro?n(Co(Co({},t),{},{skipCurrentUserNotification:!_})):j(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to skip the notification for the user that executes the action.","integrate-google-drive"))))))))}function jo(e){var t=e.usersOptions,n=e.values,i=e.onChange,r=e.description,a=void 0===r?wp.i18n.__("Select the users and roles who can access.","integrate-google-drive"):r;return React.createElement("div",{className:"filter-users"},React.createElement("h4",{className:"filter-users-title"},"Filter Users & Roles:"),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement(ReactSelect,{isClearable:!1,isMulti:!0,placeholder:"Select users & roles",options:t,value:t.filter((function(e){return n.includes(e.value)})),onChange:function(e){return i(e)},className:"igd-select filter-users-select",classNamePrefix:"igd-select"}),React.createElement("p",{className:"description"},a)))}function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Io(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Io(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e){return function(e){if(Array.isArray(e))return zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Mo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){if(e){if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zo(e,t):void 0}}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ho=window.ReactTooltip,Ko=wp.components,Vo=Ko.FormToggle,Wo=Ko.ButtonGroup,qo=Ko.Button,Qo=React,Go=Qo.useState,Jo=Qo.useEffect,Yo=Qo.useContext,Xo=Qo.useRef,Zo=["%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"];function $o(){var e=!!igd.isPro,t=Yo(tr),n=t.editData,i=t.setEditData,r=Uo(Go(null),2),a=r[0],o=r[1];Jo((function(){wp.ajax.post("igd_get_users_data").then((function(e){return o(e)}))}),[]);var l=n.type,c=n.preview,s=void 0===c||c,d=n.inlinePreview,u=void 0===d||d,m=n.allowPreviewPopout,g=void 0===m||m,f=n.previewUsers,p=void 0===f?["everyone"]:f,v=n.rename,h=void 0!==v&&v,w=n.renameUsers,y=void 0===w?["everyone"]:w,b=n.newFolder,_=void 0!==b&&b,E=n.newFolderUsers,R=void 0===E?["everyone"]:E,N=n.moveCopy,S=void 0!==N&&N,O=n.moveCopyUsers,C=void 0===O?["everyone"]:O,A=n.canDelete,F=void 0!==A&&A,k=n.deleteUsers,x=void 0===k?["everyone"]:k,P=n.upload,I=void 0!==P&&P,D=n.uploadUsers,T=void 0===D?["everyone"]:D,L=n.photoProof,B=void 0!==L&&L,U=n.photoProofEmail,M=void 0===U?"":U,z=n.photoProofUsers,H=void 0===z?["everyone"]:z,K=n.download,V=void 0===K||K,W=n.zipDownload,q=void 0!==W&&W,Q=n.showFileSizeField,G=void 0===Q||Q,J=n.downloadUsers,Y=void 0===J?["everyone"]:J,X=n.details,Z=void 0!==X&&X,$=n.detailsUsers,ee=void 0===$?["everyone"]:$,te=n.viewSwitch,ne=void 0===te||te,ie=n.allowShare,re=void 0!==ie&&ie,ae=n.shareUsers,oe=void 0===ae?["everyone"]:ae,le=n.createDoc,ce=void 0!==le&&le,se=n.createDocumentUsers,de=void 0===se?["everyone"]:se,ue=n.edit,me=void 0!==ue&&ue,ge=n.editUsers,fe=void 0===ge?["everyone"]:ge,pe=n.directLink,ve=void 0!==pe&&pe,he=n.directLinkUsers,we=void 0===he?["everyone"]:he,ye=n.allowSearch,be=void 0===ye?"search"===l:ye,_e=n.searchUsers,Ee=void 0===_e?["everyone"]:_e,Re=n.fullTextSearch,Ne=void 0===Re||Re,Se=n.initialSearchTerm,Oe=void 0===Se?"":Se,Ce=n.comment,Ae=void 0!==Ce&&Ce,Fe=n.commentMethod,ke=void 0===Fe?"facebook":Fe,xe=n.commentUsers,Pe=void 0===xe?["everyone"]:xe,je=n.displayFor,Ie=void 0===je?"everyone":je,De=n.displayUsers,Te=void 0===De?["everyone"]:De,Le=n.displayEveryone,Be=n.displayExcept,Ue=void 0===Be?[]:Be,Me="browser"===l,ze="media"===l,He="gallery"===l,Ke="slider"===l,Ve="search"===l,We=a&&[{label:wp.i18n.__("Everyone","integrate-google-drive"),value:"everyone"}].concat(Bo(Object.keys(a.roles).map((function(e){return{label:"".concat(e," (role)"),value:e}}))),Bo(a.users.map((function(e){var t=e.username,n=e.email,i=e.id;return{label:"".concat(t," (").concat(n,")"),value:parseInt(i)}})))),qe=Uo(Go(null),2),Qe=qe[0],Ge=qe[1],Je=Xo();return React.createElement("div",{className:"shortcode-module-body"},Me||ze||He||Ke||Ve&&React.createElement("h3",{className:"settings-field-title"},wp.i18n.__("File Manipulation","integrate-google-drive")),Me&&React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-upload"}),wp.i18n.__("Upload","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:I,onChange:function(){return i(To(To({},n),{},{upload:!I}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to upload files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},I&&!!a&&React.createElement(jo,{usersOptions:We,values:T,onChange:function(e){return i(To(To({},n),{},{uploadUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can upload files.","integrate-google-drive")})))),(Me||Ke||Ve)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-visibility"}),wp.i18n.__("Preview","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:s,onChange:function(){return i(To(To({},n),{},{preview:!s}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to preview files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},s&&!Ke&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Inline Preview","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:u,onChange:function(){return i(To(To({},n),{},{inlinePreview:!u}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Open preview in a pop-up lightbox. If disabled, the preview will be opened in Google Drive.","integrate-google-drive")),u&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allow Pop-out","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:g,onChange:function(){return i(To(To({},n),{},{allowPreviewPopout:!g}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Pop-out button allows the user to view the document on Google Drive with full features, while disabling it will only show the preview document on your website.","integrate-google-drive")))))),s&&!!a&&React.createElement(jo,{usersOptions:We,values:p,onChange:function(e){return i(To(To({},n),{},{previewUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can preview files.","integrate-google-drive")})))),He&&React.createElement("div",{className:"settings-field"},React.createElement("div",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-format-gallery"}),wp.i18n.__("Photo Proofing","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:e&&B,onChange:function(){e?i(To(To({},n),{},{photoProof:!B})):j(wp.i18n.__("Upgrade to Pro to photo proofing","integrate-google-drive"))}}),!e&&React.createElement(Ho,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to select images and send them to the admin.","integrate-google-drive")),e&&!!B&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Notification Email","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:M,onChange:function(t){e?i(To(To({},n),{},{photoProofEmail:t.target.value})):j(wp.i18n.__("Upgrade to Pro to enable photo proofing","integrate-google-drive"))}}),!e&&React.createElement(Ho,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the email address where the selected images notification will be sent.","integrate-google-drive")))),!!a&&React.createElement(jo,{usersOptions:We,values:H,onChange:function(e){return i(To(To({},n),{},{photoProofUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can select.","integrate-google-drive")})))),(Me||ze||Ke||He||Ve)&&React.createElement("div",{className:"settings-field"},React.createElement("div",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-download"}),wp.i18n.__("Download","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:V,onChange:function(){return i(To(To({},n),{},{download:!V}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to download files.","integrate-google-drive")),!!V&&React.createElement("div",{className:"settings-field-sub"},(Me||He||Ve)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Zip Download","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:e&&q,onChange:function(){e?i(To(To({},n),{},{zipDownload:!q})):j(wp.i18n.__("Upgrade to Pro to enable zip download.","integrate-google-drive"))}}),!e&&React.createElement(Ho,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to download multiple files at once.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-warning"},React.createElement("p",{className:"igd-notice-content"},wp.i18n.__("The Google Drive API does not support ZIP creation on the fly. Therefore, the ZIP file needs to be created (temporarily) on your server. For that reason, it is not recommended to enable this setting when you are working with large files or folders.","integrate-google-drive")))),!He&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Size Field","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:G,onChange:function(){return i(To(To({},n),{},{showFileSizeField:!G}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file size field in the file list.","integrate-google-drive"))))),!!a&&React.createElement(jo,{usersOptions:We,values:Y,onChange:function(e){return i(To(To({},n),{},{downloadUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can download files.","integrate-google-drive")})))),Me&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-trash"}),wp.i18n.__("Delete","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:F,onChange:function(){return i(To(To({},n),{},{canDelete:!F}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to delete files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},F&&!!a&&React.createElement(jo,{usersOptions:We,values:x,onChange:function(e){return i(To(To({},n),{},{deleteUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can delete files & folders.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-open-folder"}),wp.i18n.__("New Folder","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:_,onChange:function(){return i(To(To({},n),{},{newFolder:!_}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to create new folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},_&&!!a&&React.createElement(jo,{usersOptions:We,values:R,onChange:function(e){return i(To(To({},n),{},{newFolderUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can create folders.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-page"}),wp.i18n.__("Move/ Copy","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:S,onChange:function(){return i(To(To({},n),{},{moveCopy:!S}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to move/ copy files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},S&&!!a&&React.createElement(jo,{usersOptions:We,values:C,onChange:function(e){return i(To(To({},n),{},{moveCopyUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can move/ copy files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-edit"}),wp.i18n.__("Rename","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:h,onChange:function(){return i(To(To({},n),{},{rename:!h}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to rename files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},h&&!!a&&React.createElement(jo,{usersOptions:We,values:y,onChange:function(e){return i(To(To({},n),{},{renameUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can rename files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-plus"}),wp.i18n.__("Create Documents","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:ce,onChange:function(){return i(To(To({},n),{},{createDoc:!ce}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to create Google Docs and Office documents.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},ce&&!!a&&React.createElement(jo,{usersOptions:We,values:de,onChange:function(e){return i(To(To({},n),{},{createDocumentUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can create documents.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-edit-large"}),wp.i18n.__("Edit Documents","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:me,onChange:function(){return i(To(To({},n),{},{edit:!me}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to edit Google Docs and Office documents.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},me&&!!a&&React.createElement(jo,{usersOptions:We,values:fe,onChange:function(e){return i(To(To({},n),{},{editUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can edit documents.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-share"}),wp.i18n.__("Allow Share","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:re,onChange:function(){return i(To(To({},n),{},{allowShare:!re}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to share files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},re&&!!a&&React.createElement(jo,{usersOptions:We,values:oe,onChange:function(e){return i(To(To({},n),{},{shareUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can share files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-links"}),wp.i18n.__("Direct Link","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:ve,onChange:function(){return i(To(To({},n),{},{directLink:!ve}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to generate direct links for files on your website.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},ve&&!!a&&React.createElement(jo,{usersOptions:We,values:we,onChange:function(e){return i(To(To({},n),{},{directLinkUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can share files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-info-outline"}),wp.i18n.__("View Details","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:Z,onChange:function(){return i(To(To({},n),{},{details:!Z}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to view file details (owner, created & modified date, etc).","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},Z&&!!a&&React.createElement(jo,{usersOptions:We,values:ee,onChange:function(e){return i(To(To({},n),{},{detailsUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who view the file details.","integrate-google-drive")}))))),(Me||He||Ve)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-comments"}),wp.i18n.__("Allow Comments","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:e&&Ae,onChange:function(){e?i(To(To({},n),{},{comment:!Ae})):j(wp.i18n.__("Upgrade to Pro to enable comments","integrate-google-drive"))}}),!e&&React.createElement(Ho,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to comment on files while they view the file in lightbox preview.","integrate-google-drive")),Ae&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Comment Method","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Wo,null,React.createElement(qo,{isPrimary:"facebook"===ke,isSecondary:"facebook"!==ke,onClick:function(){return i(To(To({},n),{},{commentMethod:"facebook"}))}},React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),React.createElement(qo,{isPrimary:"disqus"===ke,isSecondary:"disqus"!==ke,onClick:function(){return i(To(To({},n),{},{commentMethod:"disqus"}))}},React.createElement("span",null,wp.i18n.__("Disqus","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the comment method you want to use.","integrate-google-drive")))),!!a&&React.createElement(jo,{usersOptions:We,values:Pe,onChange:function(e){return i(To(To({},n),{},{commentUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can comments on files.","integrate-google-drive")})))),(Me||Ve)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-screenoptions"}),wp.i18n.__("View Switching","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:ne,onChange:function(){i(To(To({},n),{},{viewSwitch:!ne}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to switch between grid and list view of the file listing.","integrate-google-drive")))),(Me||He||ze||Ve)&&React.createElement("div",{className:"settings-field field-allow-search"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-search"}),wp.i18n.__("Allow Search","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},!Ve&&React.createElement(React.Fragment,null,React.createElement(Vo,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:e&&be,onChange:function(){e?i(To(To({},n),{},{allowSearch:!be})):j(wp.i18n.__("Upgrade to Pro to enable search","integrate-google-drive"))}}),!e&&React.createElement(Ho,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to search for files.","integrate-google-drive"))),be&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Full-text Search","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Vo,{checked:Ne,onChange:function(){return i(To(To({},n),{},{fullTextSearch:!Ne}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow to search in file content, descriptions, tags and other metadata.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Initial Search Term","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Oe,onChange:function(e){return i(To(To({},n),{},{initialSearchTerm:e.target.value}))},onSelect:function(e){return Ge(e.target.selectionStart)},ref:Je}),React.createElement("p",{className:"description"},wp.i18n.__("Set initial search terms if you want to start a search when the shortcode is rendered. Please note that this only affects the initial render.","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("You can also set dynamic placeholder tags to the initial search term.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title"},React.createElement("strong",null,wp.i18n.__("Available template tags:","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},Zo.map((function(e,t){return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){var t;t=(t=null!==Qe?uploadFileName.slice(0,Qe)+e+" "+uploadFileName.slice(Qe):uploadFileName+" "+e).trim(),i(To(To({},n),{},{uploadFileName:t}));var r=Qe+e.length+1;Je.current.setSelectionRange(r,r)}},e)})))))),!Ve&&!!a&&React.createElement(jo,{usersOptions:We,values:Ee,onChange:function(e){return i(To(To({},n),{},{searchUsers:Bo(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can search for files.","integrate-google-drive")})))),React.createElement("h3",{className:"settings-field-title field-visibility"},wp.i18n.__("Visibility","integrate-google-drive")),React.createElement("div",{className:"settings-field filter-users-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-visibility"}),wp.i18n.__("Display for","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-users-group"},React.createElement(Wo,null,React.createElement(qo,{isPrimary:"everyone"===Ie,isSecondary:"everyone"!==Ie,onClick:function(){return i(To(To({},n),{},{displayFor:"everyone"}))}},React.createElement("span",null,wp.i18n.__("Everyone","integrate-google-drive"))),React.createElement(qo,{isPrimary:"loggedIn"===Ie,isSecondary:"loggedIn"!==Ie,onClick:function(){return i(To(To({},n),{},{displayFor:"loggedIn"}))}},React.createElement("span",null,wp.i18n.__("Logged In","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select who can see the module.","integrate-google-drive"))),"loggedIn"===Ie&&React.createElement(React.Fragment,null,a?React.createElement("div",{className:"filter-users"},React.createElement("h4",{className:"filter-users-title"},wp.i18n.__("Filter users & roles","integrate-google-drive")),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement(ReactSelect,{isDisabled:Le,isMulti:!0,placeholder:"Select users & roles",options:We,value:We.filter((function(e){return Te.includes(e.value)})),onChange:function(e){return i(To(To({},n),{},{displayUsers:Bo(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the users and user roles who can see the module.","integrate-google-drive"))),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Everyone :","integrate-google-drive")," "),React.createElement(Vo,{checked:Le,onChange:function(){return i(To(To({},n),{},{displayEveryone:!Le}))}})),React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Except","integrate-google-drive")),React.createElement(ReactSelect,{isDisabled:!Le,isMulti:!0,placeholder:"Select users & roles",options:We.filter((function(e){return"everyone"!==e.value})),value:We.filter((function(e){return Ue.includes(e.value)})),onChange:function(e){return i(To(To({},n),{},{displayExcept:Bo(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select"})),React.createElement("p",{className:"description"},wp.i18n.__("When activated, the module will be visible to everyone except for those specifically exempted.","integrate-google-drive")))):React.createElement("div",{className:"igd-spinner spinner-large"})))))}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var nl=React,il=nl.useState,rl=nl.useContext,al=nl.useEffect;function ol(){var e=document.querySelector(".igd-tutor-attachment-modal"),t=rl(tr),n=t.editData,i=t.updateShortcode,r=t.updating,a=t.isEditor,o=t.builderType,l=t.isInlineSelect,c=t.isSelectFiles,s=t.isFormBuilder,d=t.isLMS,u=n.id,m=n.type,g="browser"===m,f="uploader"===m,p="gallery"===m,v="media"===m,h="search"===m,w="embed"===m,y="view"===m,b="download"===m,_="slider"===m,E=a&&"embed"===o,R=a&&("view"===o||"download"===o),N={type:wp.i18n.__("Types","integrate-google-drive"),sources:wp.i18n.__("Source","integrate-google-drive"),filters:wp.i18n.__("Filter","integrate-google-drive"),advanced:wp.i18n.__("Advanced","integrate-google-drive"),notifications:wp.i18n.__("Notifications","integrate-google-drive"),permissions:wp.i18n.__("Permissions","integrate-google-drive")},S=function(){return Object.keys(N).filter((function(e){return(!a||"type"!==e)&&((!s&&!E||!["type","permissions"].includes(e))&&((!(R||c||d)||"sources"===e)&&((!w||!["notifications"].includes(e))&&(!b&&!y||!["advanced","filters"].includes(e)))))}))},O=el(il(S),2),C=O[0],A=O[1],x=sessionStorage.getItem("igd_shortcode_builder_tab_".concat(u));x||(x=u&&C.includes("type")&&C.includes("sources")?"sources":C[0]);var P=el(il(x),2),j=P[0],I=P[1],D=C.indexOf(j);al((function(){A(S()),u&&sessionStorage.setItem("igd_shortcode_builder_tab_".concat(u),j)}),[j,m]);var T=wp.i18n.__("Module Type","integrate-google-drive"),L=wp.i18n.__("Select the module type that you want to use.","integrate-google-drive");return"sources"===j&&(T=wp.i18n.__("Select Folders and Files","integrate-google-drive"),L=wp.i18n.__("Select the folders & files to display in the file browser.","integrate-google-drive"),f&&(T=wp.i18n.__("Select Upload Folder","integrate-google-drive"),L=wp.i18n.__("Select the folder where the files will be uploaded.","integrate-google-drive")),p&&(T=wp.i18n.__("Select Files and Folders","integrate-google-drive"),L=wp.i18n.__("Select the files and folders to display in the gallery.","integrate-google-drive")),v&&(T=wp.i18n.__("Select Files and Folders","integrate-google-drive"),L=wp.i18n.__("Select the folders and audio/ video files to display and play in the media player.","integrate-google-drive")),h&&(T=wp.i18n.__("Select Folders","integrate-google-drive"),L=wp.i18n.__("Select the folders to search in.","integrate-google-drive")),w&&(T=wp.i18n.__("Select Files","integrate-google-drive"),L=wp.i18n.__("Select the files to embed. You can also select folders to embed all the files of the folder.","integrate-google-drive")),b&&(T=wp.i18n.__("Select Files","integrate-google-drive"),L=wp.i18n.__("Select the files to insert the download link. You can also select folders to insert the download link to download all the files of the folder in a zip file.","integrate-google-drive")),y&&(T=wp.i18n.__("Select Files","integrate-google-drive"),L=wp.i18n.__("Select the files and folders to insert the link to view the file in Google Drive.","integrate-google-drive")),e&&(T=wp.i18n.__("Select Files","integrate-google-drive"),L=wp.i18n.__("Select the files to attach in the course.","integrate-google-drive"))),"filters"===j&&(T=wp.i18n.__("Filter Folders and Files","integrate-google-drive"),g?L=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the file browser.","integrate-google-drive"):f?L=wp.i18n.__("Filter the files to upload by extensions","integrate-google-drive"):p?L=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the gallery.","integrate-google-drive"):_?L=wp.i18n.__("Show/ hide files and filter them by extensions and names to not display in the slider.","integrate-google-drive"):v?L=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the media player.","integrate-google-drive"):h&&(L=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the search results.","integrate-google-drive"))),"advanced"===j&&(T=wp.i18n.__("Advanced Options","integrate-google-drive"),L=wp.i18n.__("Advanced options to customize the module.","integrate-google-drive")),"notifications"===j&&(T=wp.i18n.__("Email Notifications","integrate-google-drive"),L=wp.i18n.__("Receive email notifications for various user activities (upload, download, delete, etc).","integrate-google-drive")),"permissions"===j&&(T=wp.i18n.__("Permissions","integrate-google-drive"),L=wp.i18n.__("Set the permissions to access the module.","integrate-google-drive")),React.createElement("div",{className:"igd-shortcode-builder-form ".concat(a?"editor-mode":"")},!c&&C.length>1&&React.createElement("div",{className:"shortcode-builder-sidebar tab-".concat(j)},React.createElement("div",{className:"shortcode-tabs ".concat(a?"edit-mode":"")},C.map((function(e,t){return React.createElement("div",{key:e,className:"shortcode-tab-wrap ".concat(D>=t?"active":""),onClick:function(){return I(e)}},React.createElement("div",{key:e,className:"shortcode-tab"},React.createElement("span",{className:"tab-icon icon-".concat(e)}),React.createElement("span",{className:"tab-name"},N[e])))})))),React.createElement("div",{className:"shortcode-builder-content"},React.createElement("div",{className:"shortcode-module"},!l&&React.createElement("div",{className:"shortcode-module-header"},React.createElement("div",{className:"module-title"},React.createElement("h2",null,T),React.createElement("span",null,L)),u>0&&React.createElement("div",{className:"shortcode-wrap"},React.createElement("i",{className:"dashicons dashicons-admin-page",onClick:k}),React.createElement("code",{onClick:k},'[integrate_google_drive id="'.concat(u,'"]'))),!!m&&React.createElement("div",{className:"module-type",onClick:function(){return I("type")}},React.createElement("span",{className:"module-type-title"},"Type : "),React.createElement("img",{className:"type-".concat(m),src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(m,".svg"),alt:F()[m].title}),React.createElement("span",{className:"module-type-name"},F()[m].title))),"type"===j&&React.createElement(Fa,{setTab:I,isEditor:a}),"sources"===j&&React.createElement(qa,null),"filters"===j&&React.createElement(io,null),"advanced"===j&&React.createElement(No,null),"notifications"===j&&React.createElement(Po,null),"permissions"===j&&React.createElement($o,null)),!c&&C.length>1&&React.createElement("div",{className:"form-footer"},React.createElement("button",{"data-tip":wp.i18n.__("Previous step","integrate-google-drive"),"data-for":"previous",type:"button",disabled:0===D,className:"igd-btn ".concat(0===D?"disabled":"btn-link"),onClick:function(){return I(C[D-1])}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive")),React.createElement(ReactTooltip,{id:"previous",effect:"solid",place:"top",className:"igd-tooltip"})),React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return i(n)}},r?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Save Changes","integrate-google-drive"))),React.createElement("button",{"data-tip":wp.i18n.__("Next step","integrate-google-drive"),"data-for":"next",type:"button",className:"igd-btn ".concat(D===C.length-1?"btn-primary":"btn-link"),onClick:function(){D===C.length-1?i(n,!0):I(C[D+1])}},D===C.length-1?React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Finish","integrate-google-drive"))):React.createElement(React.Fragment,null,React.createElement("span",null,wp.i18n.__("Next","integrate-google-drive")),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt"}),React.createElement(ReactTooltip,{id:"next",effect:"solid",place:"top",className:"igd-tooltip"}))))))}function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(e){return function(e){if(Array.isArray(e))return fl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ll(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ll(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ll(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||gl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(e,t){if(e){if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(e,t):void 0}}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pl=React,vl=pl.useState,hl=pl.useEffect;function wl(e){var t=e.initFolders,n=e.initParentFolder,i=ml(vl(!1),2),r=i[0],a=i[1],o=ml(vl([]),2),l=o[0],c=o[1],s=ml(vl(!1),2),d=s[0],u=s[1],m=ml(vl(!0),2),g=m[0],f=m[1],p=ml(vl(localStorage.getItem("igd_shortcode_list_per_page")||10),2),v=p[0],h=p[1],w=ml(vl(1),2),y=w[0],b=w[1],_=ml(vl(0),2),E=_[0],R=_[1],N={id:null,status:"on",title:wp.i18n.__("Shortcode Title","integrate-google-drive"),type:igd.isPro?"browser":"gallery",allFolders:!1,folders:[],privateFolders:!1,allowExtensions:null,allowAllExtensions:!1,allowExceptExtensions:null,allowNames:null,allowAllNames:!1,allowExceptNames:null,nameFilterOptions:["files"],showFiles:!0,showFolders:!0,fileNumbers:"",embedWidth:"100%",embedHeight:"480px",sort:{sortBy:"name",sortDirection:"asc"},view:"list",lazyLoad:!0,lazyLoadNumber:100,maxFileSize:"",minFileSize:"",enableFolderUpload:!1,openNewTab:!0,showUploadLabel:!0,uploadLabelText:wp.i18n.__("Upload Files","integrate-google-drive"),allowEmbedPopout:!0,thumbnailCaption:!0,preview:!0,download:!0,displayFor:"everyone",displayUsers:["everyone"],displayEveryone:!1,displayExcept:[]},S=ml(vl(N),2),O=S[0],C=S[1],A=function(){return f(!0),wp.ajax.post("igd_get_shortcodes",{per_page:v,page:y}).done((function(e){R(e.total),c(e.shortcodes)})).fail((function(e){})).always((function(){f(!1)}))};hl((function(){A().then((function(){Q()&&a(Q())}))}),[]),hl((function(){if(r<1)C(N);else{var e=dl(dl({},l.find((function(e){return e.id==r})).config),{},{id:parseInt(r)});C(e)}}),[r]);var F=I();return hl((function(){O.id?O.id<1?document.title=wp.i18n.__("Add New Shortcode - Integrate Google Drive","integrate-google-drive"):document.title=wp.i18n.__("Edit Shortcode","integrate-google-drive")+" - "+O.title:document.title=wp.i18n.__("All Shortcodes - Integrate Google Drive","integrate-google-drive")}),[r,O]),hl((function(){F&&(A(),window.scrollTo({top:0,behavior:"smooth"}))}),[y,v]),React.createElement(nr,{value:{shortcodes:l,edit:r,setEdit:a,editData:O,setEditData:C,updating:d,total:E,perPage:v,setPerPage:h,page:y,setPage:b,updateShortcode:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(!0),wp.ajax.post("igd_update_shortcode",{data:L(JSON.stringify(e))}).done((function(t){if(C(dl(dl({},t.config),{},{id:parseInt(t.id)})),e.id){var n=l.findIndex((function(e){return e.id==t.id})),i=cl(l);i[n]=dl(dl({},i[n]),t),c(i)}else c([].concat(cl(l),[t]));Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Shortcode has been updated.","integrate-google-drive"),icon:"success",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong.","integrate-google-drive"),icon:"error",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).always((function(){u(!1),t&&a(!1)}))},deleteShortcode:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wp.ajax.post("igd_delete_shortcode",{id:e,nonce:igd.nonce}).done((function(){c((function(t){return t.filter((function(t){return t.id!=e}))})),t&&(q(),a(!1)),Swal.fire({title:wp.i18n.__("Shortcode has been deleted","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0})}))},duplicateShortcode:function(e){return u(!0),wp.ajax.post("igd_duplicate_shortcode",{ids:e}).done((function(e){c([].concat(cl(l),cl(e))),Swal.fire({title:wp.i18n.__("Duplicated!","integrate-google-drive"),text:wp.i18n.__("Shortcode has been duplicated.","integrate-google-drive"),icon:"success",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong.","integrate-google-drive"),icon:"error",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).always((function(){u(!1)}))},initFolders:t,initParentFolder:n}},React.createElement("div",{className:"igd-shortcode-builder"},React.createElement(Zr,null),g&&React.createElement("div",{className:"igd-spinner spinner-large"}),!g&&!r&&!!l.length&&React.createElement(Ea,null),!g&&!r&&!l.length&&React.createElement(Ra,{setEdit:a}),!g&&!!r&&(!!O.id||-1===r)&&React.createElement(ol,null)))}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _l=React.useState;function El(e){var t=e.initData,n=e.onUpdate,i=e.onClose,r=e.isSelectFiles,a=e.selectionType,o=e.isFormBuilder,l=e.isLMS,c=yl(_l(t),2),s=c[0],d=c[1],u=wp.i18n.__("Configure Module","integrate-google-drive"),m="dashicons dashicons-admin-generic";return r?(u=wp.i18n.__("Select Files","integrate-google-drive"),m="dashicons dashicons-open-folder"):l&&(u=wp.i18n.__("Select Video","integrate-google-drive"),m="dashicons dashicons-video-alt3"),React.createElement("div",{className:"igd-module-builder-modal",onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"igd-module-builder-modal-header"},React.createElement("div",{className:"header-title"},React.createElement("i",{className:m}),React.createElement("h3",null,u)),React.createElement("button",{type:"button",className:"igd-btn btn-danger close",onClick:i},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive"))),!l&&React.createElement("button",{type:"button",className:"igd-btn btn-primary done",onClick:function(){return n(s)}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("div",{className:"igd-spinner"}),React.createElement("span",null,wp.i18n.__("Done","integrate-google-drive")))),React.createElement(nr,{value:{editData:s,setEditData:d,updateShortcode:function(e){return n(e)},isEditor:!0,builderType:s.type,isSelectFiles:r,selectionType:a,isFormBuilder:o,isLMS:l}},React.createElement(ol,null)))}function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){Ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ol(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Rl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Rl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fl(e){var t=e.setType,n={shortcodes:{title:wp.i18n.__("Module Shortcodes","integrate-google-drive"),description:wp.i18n.__("Insert pre-built module's shortcode.","integrate-google-drive")},browser:{title:wp.i18n.__("File Browser","integrate-google-drive"),description:wp.i18n.__("Insert a file browser to browse specific Google Drive files and folders.","integrate-google-drive"),isPro:!0},uploader:{title:wp.i18n.__("File Uploader","integrate-google-drive"),description:wp.i18n.__("Insert a file uploader to upload files to a specific Google Drive folder.","integrate-google-drive"),isPro:!0},media:{title:wp.i18n.__("Media Player","integrate-google-drive"),description:wp.i18n.__("Insert a media player to play specific Google Drive Audio and Video files.","integrate-google-drive"),isPro:!0},search:{title:wp.i18n.__("File Search","integrate-google-drive"),description:wp.i18n.__("Insert a search box to search files and folders in specific Google Drive folders.","integrate-google-drive"),isPro:!0},slider:{title:wp.i18n.__("Slider Carousel","integrate-google-drive"),description:wp.i18n.__("Display Images, Videos, and Documents in a slider carousel.","integrate-google-drive"),isPro:!0},gallery:{title:wp.i18n.__("Gallery","integrate-google-drive"),description:wp.i18n.__("Insert a gallery to display specific Google Drive photos and videos with a lightbox preview.","integrate-google-drive")},embed:{title:wp.i18n.__("Embed Documents","integrate-google-drive"),description:wp.i18n.__("Embed documents to your page/ post.","integrate-google-drive")},download:{title:wp.i18n.__("Insert Download Links","integrate-google-drive"),description:wp.i18n.__("Insert links to download Google Drive files.","integrate-google-drive")},view:{title:wp.i18n.__("Insert View Links","integrate-google-drive"),description:wp.i18n.__("Insert links to view the files in Google Drive.","integrate-google-drive")}};if(!igd.isPro){var i={},r={};Object.entries(n).forEach((function(e){var t=Cl(e,2),n=t[0],a=t[1];a.isPro?r[n]=a:i[n]=a})),n=Sl(Sl({},i),r)}return React.createElement("div",{className:"igd-tinymce-types-wrap"},React.createElement("div",{className:"igd-tinymce-types-header"},React.createElement("h3",null,wp.i18n.__("Select Insert Type","integrate-google-drive")),React.createElement("span",null,wp.i18n.__("Select the insert type that you want to insert into you post or page.","integrate-google-drive"))),React.createElement("div",{className:"igd-tinymce-types"},Object.keys(n).map((function(e){var i="".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(e,".svg"),r=n[e],a=r.title,o=r.description,l=r.isPro;return React.createElement("div",{key:e,className:"igd-tinymce-type ".concat(l&&!igd.isPro?"pro-feature":""),onClick:function(){!l||igd.isPro?t(e):j(a+wp.i18n.__(" is available in the Pro version.","integrate-google-drive"))}},l&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive"))),React.createElement("div",{className:"icon-wrap icon-".concat(e)},React.createElement("img",{src:i})),React.createElement("span",{className:"igd-tinymce-type-title"},a),React.createElement("span",{className:"igd-tinymce-type-description"},o))}))))}function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function xl(e){return function(e){if(Array.isArray(e))return Ll(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==kl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||Tl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(e,t){if(e){if("string"==typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,t):void 0}}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Bl=wp.components.SelectControl,Ul=React,Ml=Ul.useState,zl=Ul.useEffect;function Hl(e){var t=e.setContent,n=Dl(Ml({id:null,isInit:!0,shortcodes:[]}),2),i=n[0],r=n[1],a=i.id,o=i.isInit,l=i.shortcodes;zl((function(){wp.ajax.post("igd_get_shortcodes").done((function(e){var t=e.shortcodes;return r(jl(jl({},i),{},{isInit:!1,shortcodes:t}))}))}),[]);var c=[{label:wp.i18n.__("Select shortcode","integrate-google-drive"),value:""}].concat(xl(l.map((function(e){return{label:e.title,value:e.id}}))));return React.createElement("div",{className:"igd-module-shortcodes"},React.createElement("h2",null,wp.i18n.__("Module Shortcodes","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Select the already created module shortcode to insert into the post.","integrate-google-drive")),o?React.createElement("div",{className:"igd-spinner spinner-large"}):React.createElement(Bl,{options:c,value:a,onChange:function(e){t('[integrate_google_drive id="'.concat(e,'"]')),r(jl(jl({},i),{},{id:e}))}}))}function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Kl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Jl=React,Yl=Jl.useState;Jl.useEffect;function Xl(e){var t=e.initData,n=Ql(Yl(!1),2),i=n[0],r=n[1],a=Ql(Yl(t?t.type:null),2),o=a[0],l=a[1],c=Ql(Yl(""),2),s=c[0],d=c[1],u=Ql(Yl(t||{type:o,showFiles:!0,showFolders:!0,moduleWidth:"100%",moduleHeight:"",embedWidth:"100%",embedHeight:"480px",galleryHeight:300,galleryMargin:5,galleryView:"rounded",showHeader:!0,showBreadcrumbs:!0,allowEmbedPopout:!0,embedType:"readOnly",showRefresh:!0,openedPlaylist:!0,showFullscreen:!0,nextPrevious:!0,volumeButton:!0,view:"list",lazyLoad:!0,lazyLoadNumber:100,openNewTab:!0,sort:{sortBy:"name",sortDirection:"asc"},preview:!0,allowPreviewPopout:!0,download:!0,zipDownload:!1,displayFor:"everyone",displayUsers:["everyone"],displayExcept:[],slideName:!0,slideHeight:"300px",slidesToShow:3,slidesToScroll:1,slideAutoplaySpeed:3e3,slideDots:!0}),2),m=u[0],g=u[1],f=function(){return Swal.close()};function p(e){var t="undefined"==typeof tinyMCE;t&&(window.tinyMCE=window.parent.tinyMCE);var n=tinyMCE.activeEditor;if(n){var i=n.id,r=t?window.parent.document.getElementById(i):document.getElementById(i),a=tinyMCE.get(i);if(a&&!a.isHidden())a.execCommand("mceInsertContent",!1,e);else{var o=r.selectionStart,l=r.value.substring(0,o),c=r.value.substring(r.selectionEnd,r.value.length);r.value=l+e+c,r.selectionStart=o+e.length,r.selectionEnd=o+e.length}}}var v=function(){m.folders?(r(!0),m.folders=m.folders.map((function(e){return e.id?{id:e.id,accountId:e.accountId,name:e.name,type:e.type,permissions:e.permissions,resourceKey:e.resourceKey}:e})),wp.ajax.post("igd_get_embed_content",{data:m}).done((function(e){p(e)})).fail((function(e){})).always((function(){f()}))):f()},h=function(){var e="";m.folders?(m.folders.map((function(t){var n=t.id,i=t.accountId,r=(t.type,t.name),a=b(t)?"".concat(igd.ajaxUrl,"?action=igd_download_zip&file_ids=").concat(L(JSON.stringify([n]))):"".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(n,"&accountId=").concat(i);e+='<a class="igd-download-link" href="'.concat(a,'">').concat(r,"</a> <br>")})),p(e),f()):f()},w=function(){p('[integrate_google_drive data="'.concat(L(JSON.stringify(m)),'"]')),f()},y=!!o,_="".concat(igd.pluginUrl,"/assets/images/shortcode-builder/insert-module.svg"),E=wp.i18n.__("Insert Module","integrate-google-drive");return"shortcodes"===o?E=wp.i18n.__("Insert Module Shortcodes","integrate-google-drive"):"browser"===o?E=wp.i18n.__("Insert File Browser","integrate-google-drive"):"embed"===o?E=wp.i18n.__("Embed Documents","integrate-google-drive"):"download"===o?E=wp.i18n.__("Insert Download Links","integrate-google-drive"):"view"===o&&(E=wp.i18n.__("Insert View Links","integrate-google-drive")),React.createElement("div",{className:"igd-module-builder-modal igd-tinymce-modal",onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"igd-module-builder-modal-header"},React.createElement("div",{className:"header-title"},React.createElement("img",{src:_,width:20}),React.createElement("h3",null,E)),!!o&&!t&&React.createElement("button",{type:"button",className:"igd-btn btn-back",onClick:function(){l(""),d(""),g({})}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:f},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-primary done ".concat(i?"loading":""," "),onClick:function(){y&&("embed"===o?v():"download"===o?h():"view"===o?function(){if(m.folders){var e="";m.folders.map((function(t){var n=t.webViewLink,i=t.name;e+='<a href="'.concat(n,'" target="_blank" >').concat(i," <br></a>")})),p(e),f()}else f()}():"shortcodes"===o?(p(s),f()):["browser","uploader","gallery","media","search","slider"].includes(o)&&w())}},i?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Done","integrate-google-drive")))),!o&&React.createElement(Fl,{setType:l}),"shortcodes"===o&&React.createElement(Hl,{setContent:d}),!!o&&"shortcodes"!==o&&React.createElement(nr,{value:{editData:Wl(Wl({},m),{},{type:o}),setEditData:g,updateShortcode:function(e){"embed"===o?v():["download","view"].includes(o)?h():w()},isEditor:"classic",builderType:o}},React.createElement(ol,null)))}jQuery;var Zl={init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?window.parent.jQuery(window.parent.document):jQuery(document);e&&(window.tinymce=e),t.on("click","#igd-media-button",(function(e){e.preventDefault(),Zl.openModuleBuilder()}));var n=!1,i=function(e,t){return!!t.dom.hasClass(e,"igd_module_shortcode")},r=function(e){var t=e.dom.get("wp-igd-toolbar");t&&e.dom.remove(t),e.dom.setAttrib(e.dom.select("img[data-wp-igd-select]"),"data-wp-igd-select",null),n=!1};tinymce.PluginManager.add("igd_tinymce_js",(function(e){e.on("BeforeSetcontent",(function(e){e.content=e.content.replace(/\[integrate_google_drive data="([^\]]*)"\]/g,(function(e,t){return'<img src="data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'5\' height=\'5\'></svg>" class="igd_module_shortcode mceItem" title="Integrate Google Drive" data-mce-placeholder="1" data-code="'.concat(t,'"/>')}))})),e.on("PostProcess",(function(e){e.get&&(e.content=function(e){function t(e,t){return(t=new RegExp(t+'="([^"]+)"',"g").exec(e))?t[1]:""}return e.replace(/(?:<p[^>]*>)*(<img[^>]+>)(?:<\/p>)*/g,(function(e,n){return-1!=t(n,"class").indexOf("igd_module_shortcode")?'<p>[integrate_google_drive data="'.concat(t(n,"data-code"),'"]</p>'):e}))}(e.content))})),e.on("mouseup",(function(t){var a,o=t.target,l=e.dom;if(!(t.button&&t.button>1))if("DIV"===o.nodeName&&l.getParent(o,"#wp-igd-toolbar")){if(a=l.select("img[data-wp-igd-select]")[0])if(e.selection.select(a),l.hasClass(o,"remove"))r(e),function(e,t){t.dom.remove(e),r(t)}(a,e);else if(l.hasClass(o,"edit")){var c=e.selection.getContent(),s=/\[integrate_google_drive data="([^\]]*)"\]/g.exec(c);if(s){var d=s[1],u=JSON.parse(B(d));Zl.openModuleBuilder(u)}r(e)}}else"IMG"===o.nodeName&&!e.dom.getAttrib(o,"data-wp-igd-select")&&i(o,e)?function(e,t){var a,o,l=t.dom;r(t),e&&"IMG"===e.nodeName&&i(e,t)&&(l.setAttrib(e,"data-wp-igd-select",1),a='<div class="dashicons dashicons-edit edit" title="'.concat(wp.i18n.__("Edit","integrate-google-drive"),'" data-mce-bogus="1"></div>\n                    <div class="dashicons dashicons-no-alt remove" title="Remove" data-mce-bogus="1"></div>'),o=l.create("div",{id:"wp-igd-toolbar","data-mce-bogus":"1",contenteditable:!1},a),e.parentNode.insertBefore(o,e),n=!0)}(o,e):"IMG"!==o.nodeName&&r(e)})),e.on("mousedown",(function(t){e.dom.getParent(t.target,"#wp-igd-toolbar")?tinymce.Env.ie&&t.preventDefault():r(e)})),e.on("keydown",(function(t){var i=t.keyCode;if(n){if(t.ctrlKey||t.metaKey||t.altKey||i<48&&i>90||i>186)return;r(e)}})),e.on("cut",(function(){r(e)}))}))},openModuleBuilder:function(e){Swal.fire({html:'<div id="igd-tinymce" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Xl,{initData:e}),document.getElementById("igd-tinymce"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-tinymce"))}})}};const $l=Zl;var ec=jQuery,tc={init:function(){ec(document).on("click",".igd-form-uploader-trigger-cf7",tc.openModal)},openModal:function(e){var t=ec("#tag-generator-panel-google_drive-data"),n={type:"uploader",isFormUploader:"cf7"};if(t.val())try{n=JSON.parse(B(t.val()))}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(El,{initData:n,onUpdate:function(e){tc.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"cf7"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}try{var r=JSON.stringify(e);t.val(L(r)).trigger("change")}catch(e){}}};const nc=tc;var ic=jQuery,rc={init:function(){T(),ic(document).on("click",".igd-form-uploader-trigger-wpforms",rc.openModal),ic(document).on("wpformsFieldAdd",(function(e,t,n){"igd-uploader"===n&&T()}))},openModal:function(){var e={type:"uploader",isFormUploader:"wpforms"},t=ic(this).parent().find(".igd-uploader-data");if(t.val())try{e=JSON.parse(t.val())}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(n){ReactDOM.render(React.createElement(El,{initData:e,onUpdate:function(e){rc.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"wpforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(e){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}var r=JSON.stringify(e);t.val(r).trigger("change");var a=ic(".wpforms-field-igd-uploader.active .igd");ReactDOM.unmountComponentAtNode(a[0]),a.attr("data-shortcode-data",L(r)),T()}};const ac=rc;var oc=jQuery,lc={init:function(){oc("#igd-form-uploader-config-gravityforms").on("click",lc.openModal),oc(document).on("gform_field_added",(function(e,t,n){"integrate_google_drive"===n.type&&T()})),oc(document).on("gform_load_field_settings",(function(e,t){"integrate_google_drive"===t.type&&(oc(".igd-uploader-data").val(t.defaultValue),void 0!==t.igdData&&""!==t.igdData&&oc(".igd-uploader-data").val(t.igdData))}))},openModal:function(){var e=oc(this).parent().find(".igd-uploader-data"),t={type:"uploader",isFormUploader:"gravityforms"};if(e.val())try{t=JSON.parse(e.val())}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(El,{initData:t,onUpdate:function(t){lc.updateData(t,e),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"gravityforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}var r=JSON.stringify(e);oc(t).val(r).trigger("change");var a=oc(".gfield.field_selected .igd");ReactDOM.unmountComponentAtNode(a.get(0)),a.attr("data-shortcode-data",L(r)),T()}};const cc=lc;var sc=jQuery,dc={init:function(){sc("#ff_form_editor_app").on("click",".igd-form-uploader-trigger-fluentforms",dc.openModal);var e=document.querySelector(".panel__body--list");e&&sc(e).on("DOMNodeInserted",(function(e){sc(e.target).find(".igd")&&T()}))},openModal:function(){var e=sc(".igd-uploader-data textarea");sc(e).on("input",(function(){var e=sc(this).val(),t=sc(".panel__body--item.selected .igd");ReactDOM.unmountComponentAtNode(t[0]),t.attr("data-shortcode-data",L(e)),T()}));var t={type:"uploader",isFormUploader:"fluentforms"};if(e.val())try{t=JSON.parse(e.val())}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(El,{initData:t,onUpdate:function(t){dc.updateData(t,e)},onClose:function(){return Swal.close()},isFormBuilder:"fluentforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}var r=JSON.stringify(e);Swal.fire({title:wp.i18n.__("Shortcode Data","integrate-google-drive"),text:wp.i18n.__('Please, copy the following text and paste it into the "Shortcode Data" form editor field.',"integrate-google-drive"),input:"textarea",inputValue:r,showCancelButton:!1,showCloseButton:!0,confirmButtonText:wp.i18n.__("Copy","integrate-google-drive"),didOpen:function(e){e.querySelector("textarea").select(),document.execCommand("copy")},reverseButtons:!0,customClass:{container:"igd-shortcode-data-modal-container",input:"igd-swal igd-shortcode-data-modal-input"}}),t.val("")}};const uc=dc;var mc=jQuery,gc={init:function(){T(),mc("#frm_builder_page").on("click",".igd-form-uploader-trigger-formidableforms",gc.openModal);var e=mc("#frm-show-fields");e.length&&e.on("DOMNodeInserted",(function(e){mc(e.target).find(".igd").length&&T()}))},openModal:function(){var e={type:"uploader",isFormUploader:"formidableforms"},t=mc(".frm-fields:not(.frm_hidden) .igd-uploader-data");if(t.val())try{e=JSON.parse(t.val())}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(El,{initData:e,onUpdate:function(e){gc.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"formidableforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}var r=JSON.stringify(e);t.val(r).trigger("change");var a=mc(".edit_field_type_integrate-google-drive.selected .igd");ReactDOM.unmountComponentAtNode(a[0]),a.attr("data-shortcode-data",L(r)),T()}};const fc=gc;var pc=jQuery,vc={init:function(){T(),pc("#nf-builder").on("click",".igd-form-uploader-trigger-ninjaforms",vc.openModal)},openModal:function(){var e={type:"uploader",isFormUploader:"ninjaforms"},t=pc("#igd_data");if(t.val())try{e=JSON.parse(t.val())}catch(e){}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(El,{initData:e,onUpdate:function(e){vc.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"ninjaforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var i=e.folders[0];e.folders[0]={id:i.id,accountId:i.accountId,name:i.name,type:i.type}}var r=JSON.stringify(e);t.val(r).trigger("change");var a=pc(".nf-field-wrap.integrate_google_drive.active .igd");ReactDOM.unmountComponentAtNode(a[0]),a.attr("data-shortcode-data",L(r)),T()}};const hc=vc;window.ModuleBuilderModal=El,window.IgdShortcode=Kr,window.initShortcode=T,function(e){var t=igd.isPro,n=igd.settings.integrations,i=void 0===n?["classic-editor","gutenberg-editor","elementor","divi","cf7"]:n,r={init:function(){r.initFileBrowser(),r.initShortcodeBuilder(),e(window).on("elementor/frontend/init",(function(){elementor.hooks.addAction("panel/open_editor/widget",(function(e,t,n){window.parent.tinyMCE&&window.parent.tinyMCE.on("AddEditor",(function(e){$l.init(window.parent.tinymce)}))}))}))},ready:function(){i.includes("classic-editor")&&"undefined"!=typeof tinymce&&$l.init(),i.includes("cf7")&&nc.init(),t&&(t&&i.includes("wpforms")&&ac.init(),t&&i.includes("gravityforms")&&cc.init(),t&&i.includes("fluentforms")&&uc.init(),t&&i.includes("formidableforms")&&fc.init(),t&&i.includes("ninjaforms")&&hc.init()),i.includes("gutenberg-editor")&&r.updateBlockCategoryIcon(),e(document).on("click",".igd-offer-notice .offer-btn-main, .igd-offer-notice .notice-dismiss",r.handleNoticeDismiss)},handleNoticeDismiss:function(t){e(this).closest(".igd-admin-notice").slideUp(),wp.ajax.post("igd_dismiss_offer_notice")},initFileBrowser:function(){var e=document.getElementById("igd-app");if(e){var t={},n=jQuery(e).find(".app-data").html();n&&(t=JSON.parse(n)),ReactDOM.render(React.createElement($i,t),e)}},initShortcodeBuilder:function(){var e=document.getElementById("igd-shortcode-builder");if(e){var t={},n=jQuery(e).find(".shortcode-builder-data").html();n&&(t=JSON.parse(n)),ReactDOM.render(React.createElement(wl,t),e)}},updateBlockCategoryIcon:function(){var e=React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 87.3 78",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"m6.6 66.85 3.85 6.65c.8 1.4 1.95 2.5 3.3 3.3l13.75-23.8h-27.5c0 1.55.4 3.1 1.2 4.5z",fill:"#0066da"}),React.createElement("path",{d:"m43.65 25-13.75-23.8c-1.35.8-2.5 1.9-3.3 3.3l-25.4 44a9.06 9.06 0 0 0 -1.2 4.5h27.5z",fill:"#00ac47"}),React.createElement("path",{d:"m73.55 76.8c1.35-.8 2.5-1.9 3.3-3.3l1.6-2.75 7.65-13.25c.8-1.4 1.2-2.95 1.2-4.5h-27.502l5.852 11.5z",fill:"#ea4335"}),React.createElement("path",{d:"m43.65 25 13.75-23.8c-1.35-.8-2.9-1.2-4.5-1.2h-18.5c-1.6 0-3.15.45-4.5 1.2z",fill:"#00832d"}),React.createElement("path",{d:"m59.8 53h-32.3l-13.75 23.8c1.35.8 2.9 1.2 4.5 1.2h50.8c1.6 0 3.15-.45 4.5-1.2z",fill:"#2684fc"}),React.createElement("path",{d:"m73.4 26.5-12.7-22c-.8-1.4-1.95-2.5-3.3-3.3l-13.75 23.8 16.15 28h27.45c0-1.55-.4-3.1-1.2-4.5z",fill:"#ffba00"}));wp.blocks&&wp.blocks.updateCategory("igd-category",{icon:e})}};r.init(),e(document).on("ready",r.ready)}(jQuery)})()})();